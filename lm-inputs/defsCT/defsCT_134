Definition 9.9 ($\Sigma$-cofibrations). We say that a symmetric sequence is $\Sigma$-cofibrant if it is cofibrant in the projective model structure on $\mathsf{Spec}^{\mathsf{\Sigma}}$, and a reduced symmetric sequence is $\Sigma$-cofibrant if it is cofibrant in the projective model structure on $\mathsf{Spec}^{\mathsf{\Sigma}}_{\mathsf{red}}$. A reduced operad in $\mathsf{Spec}$ is said to be $\Sigma$-cofibrant if the underlying reduced symmetric sequence is $\Sigma$-cofibrant. For an operad $P$ in $\mathsf{Spec}$, a $P$-module is said to be $\Sigma$-cofibrant if the underlying symmetric sequence is $\Sigma$-cofibrant. Similarly, we say that a map of modules or reduced operads is a $\Sigma$-cofibration if the corresponding map of symmetric sequences, or reduced symmetric sequences, is a cofibration in the relevant projective model structure.
Definition 15.8. The operad $\partial^{*}(\Sigma^{\infty}\Omega^{\infty})$ is not reduced because $\partial^{1}(\Sigma^{\infty}\Omega^{\infty})\cong\operatorname{Map}(S_{c},S_{c% })\ncong S.$ When we come to consider bar constructions over $\partial^{*}(\Sigma^{\infty}\Omega^{\infty})$ in the next few sections, it is important to work over a reduced operad. We also need to take a projectively-cofibrant replacement at some point. We therefore make the following definitions: • For any operad $P$ in $\mathsf{Spec}$, we can associate a reduced operad $P^{\mathsf{red}}$ in which $P^{\mathsf{red}}(n):=\begin{cases}S&\text{if $n=1$};\\ P(n)&\text{otherwise}.\end{cases}$ with composition maps given by $\begin{split}\displaystyle P^{\mathsf{red}}(k)\wedge P^{\mathsf{red}}(n_{1})% \wedge\dots\wedge P^{\mathsf{red}}(n_{k})&\displaystyle\to P(k)\wedge P(n_{1})% \wedge\dots\wedge P(n_{k})\\ &\displaystyle\to P(n_{1}+\dots+n_{k})\\ &\displaystyle=P^{\mathsf{red}}(n_{1}+\dots+n_{k})\end{split}$ if $n_{1}+\dots+n_{k}>1$ where $P^{\mathsf{red}}(1)\to P(1)$ is the unit map $S\to P(1)$ for the operad $P$. The only composition map that maps into $P^{\mathsf{red}}(1)$ is given by $P^{\mathsf{red}}(1)\wedge P^{\mathsf{red}}(1)=S\wedge S\to S=P^{\mathsf{red}}(% 1).$ In particular, we have a reduced operad $\partial^{*}(\Sigma^{\infty}\Omega^{\infty})^{\mathsf{red}}$. • We also let $\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})$ denote a projectively-cofibrant replacement for the reduced operad $\partial^{*}(\Sigma^{\infty}\Omega^{\infty})^{\mathsf{red}}$. The map $S\to\operatorname{Map}(S_{c},S_{c})$ is a weak equivalence and so we obtain a sequence of weak equivalences of operads $\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})\;\tilde{\longrightarrow}% \;\partial^{*}(\Sigma^{\infty}\Omega^{\infty})^{\mathsf{red}}\;\tilde{% \longrightarrow}\;\partial^{*}(\Sigma^{\infty}\Omega^{\infty}).$ In particular, $\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})$ is an $E_{\infty}$-operad in $\mathsf{Spec}$, i.e. a cofibrant replacement for the commutative operad.
Definition 7.13 (Reduced operads). An operad $P$ is said to be reduced if the unit map $S\to P(1)$ is an isomorphism. Note in particular that this means $P$ has a unique augmentation $P(1)\to S$ given by the inverse of the unit map. If $P$ is reduced then the unit symmetric sequence $\mathsf{1}$ has both a right and left $P$-module structure. We denote by $\mathsf{Op}(\mathcal{C})$ the category consisting of the reduced operads in $\mathcal{C}$ and the morphisms of operads between them.
Definition 19.1. Let $F:\mathsf{sSet}_{*}\to\mathsf{sSet}_{*}$ be a presented cell functor. Then $\Sigma^{\infty}F\Omega^{\infty}$ is a presented cell functor (by 17.1 and 18.1) that has a bi-comodule structure over the comonad $\Sigma^{\infty}\Omega^{\infty}$. The symmetric sequence $\partial^{*}(\Sigma^{\infty}F\Omega^{\infty})$ then has the structure of a pro-bimodule over the operad $\partial^{*}(\Sigma^{\infty}\Omega^{\infty})$. We then set $\partial^{*}(F):=B(\mathsf{1},P,\tilde{\partial}^{*}(\Sigma^{\infty}F\Omega^{% \infty}),P,\mathsf{1}).$ where $P=\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})$. This is the bimodule bar construction of Definition 11.13 and forms a pro-bicomodule over $B(\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty}))$. Then, for a general pointed simplicial functor $F:\mathsf{sSet}_{*}\to\mathsf{sSet}_{*}$, we set $\partial_{*}(F):=\mathbb{D}\partial^{*}(QF)$ This is then a $\partial_{*}(I)$-bimodule.
Definition 11.7 (Composition products). Let $M$ and $N$ be pro-symmetric sequences indexed on the cofiltered categories $\mathcal{J}$ and $\mathcal{K}$ respectively. We then define $M\circ N$ to be the pro-symmetric sequence indexed on the cofiltered category $\mathcal{J}\times\mathcal{K}$ given by $(M\circ N)_{(j,k)}:=M_{j}\circ N_{k}$ for $j\in\mathcal{J},k\in\mathcal{K}$.
Definition 5.3 (Finite subcomplexes). A subcomplex $C$ of a presented cell functor $F$ is finite if it has finitely many cells. The finite subcomplexes of $F$ form a partially ordered set under inclusion, which we denote $\mathsf{Sub}(F)$. If $C,D\in\mathsf{Sub}(F)$ with $C\subset D$, then there is a unique map $C\to D$ between the corresponding functors that commutes with the inclusions into $F$. We call this the inclusion of the subcomplex $C$ into the subcomplex $D$.
Definition 9.22 (Bar resolutions). Let $P$ be a $\Sigma$-cofibrant operad in $\mathsf{Spec}$. If $R$ is a $\Sigma$-cofibrant right $P$-module, then we call $B(R,P,P)$ the bar resolution of $R$ as a right $P$-module. Similarly, if $L$ is a $\Sigma$-cofibrant left $P$-module, then $B(P,P,L)$ is the bar resolution of $L$ as a left $P$-module, and if $M$ is a $\Sigma$-cofibrant $P$-bimodule, then $B(P,P,M,P,P)$ is the bar resolution of $M$ as a $P$-bimodule.
Definition 17.7. Now let $F:\mathsf{sSet}_{*}^{\mathsf{fin}}\to\mathsf{Spec}$ be any pointed simplicial functor, and let $QF$ be a cellular replacement for $F$ (see Definition 4.6). Then we set $\partial_{*}(F):=\mathbb{D}\partial^{*}(QF)$ where $\partial^{*}(QF)$ is as in Definition 17.6 using the standard cell structure on $QF$. This is the Spanier-Whitehead dual of a pro-right-comodule and so, according to Definition 11.12, can be given the structure of a right module over the dual operad. In this case that means $\partial_{*}(F)$ is a right module over a $\Sigma$-cofibrant replacement of $\mathbb{D}B(\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})$, that is, over $\partial_{*}(I)$. Explicitly, we can write $\partial_{*}(F):=\operatorname*{hocolim}_{C\in\mathsf{Sub}(QF)}\operatorname{% Map}\left(B(\tilde{\partial}^{*}(C\Omega^{\infty}),\tilde{\partial}^{*}(\Sigma% ^{\infty}\Omega^{\infty}),\mathsf{1}),S\right)$ where the homotopy colimit is taken in the category of right $\partial_{*}(I)$-modules.
Definition 7.20 (Module structures on bar construction). Let $P$ be a reduced operad in $\mathsf{Spec}$ and let $R$ and $L$ be right and left $P$-modules respectively. Suppose that the right module structure on $R$ is part of a $P$-bimodule structure. We then define a left $P$-module structure on $B(R,P,L)$ by $P\circ B(R,P,L)\cong B(P\circ R,P,L)\to B(R,P,L).$ The first map is the isomorphism $\chi_{r}$ of Proposition 7.19, and the second comes from the left module structure on the bimodule $R$. Similarly, if the left module structure on $L$ is part of a $P$-bimodule structure then we define a right $P$-module structure on $B(R,P,L)$ by $B(R,P,L)\circ P\cong B(R,P,L\circ P)\to B(R,P,L).$ If $R$ and $L$ are both $P$-bimodules, then these constructions together give $B(R,P,L)$ a $P$-bimodule structure as well.
Definition A.3. We recall the definitions of the relevant free functors: • $F:\mathsf{Spec}^{\mathsf{\Sigma}}_{\mathsf{red}}\to\mathsf{Spec}^{\mathsf{% \Sigma}}_{\mathsf{red}}$ given in Definition 9.4 as $F(A)(n):=\bigvee_{T\in\mathsf{T}_{n}}A(T)$ with the wedge product taken over all rooted trees with leaves labelled $1,\dots,n$; • for a fixed reduced operad $P$, the functor $L:\mathsf{Spec}^{\mathsf{\Sigma}}\to\mathsf{Spec}^{\mathsf{\Sigma}}$ given in Definition 9.5 as $L(A):=P\circ A$ • for a fixed reduced operad $P$, the functor $M:\mathsf{Spec}^{\mathsf{\Sigma}}\to\mathsf{Spec}^{\mathsf{\Sigma}}$ given by $M(A):=P\circ A\circ P.$
Definition 11.17 (Mapping objects for pro-spectra). Let $X$ be a directly-dualizable pro-spectrum indexed on the cofiltered category $\mathcal{J}$, and let $Y$ be any spectrum. We then define $\operatorname{Map}(X,Y):=\operatorname*{hocolim}_{j\in\mathcal{J}^{op}}% \operatorname{Map}(X_{j},Y).$
Definition 7.5 (Unit symmetric sequence). Let $\mathcal{C}$ be a cocomplete closed symmetric monoidal category with terminal object $*$ and unit object $S$. The unit symmetric sequence in $\mathcal{C}$ is the symmetric sequence $\mathsf{1}$ given by $\mathsf{1}(n):=\begin{cases}S&\text{if $n=1$};\\ *&\text{otherwise}.\end{cases}$
Definition 1.21 (Homotopy-invariant realization and totalization). Let $\mathcal{C}$ be either $\mathsf{sSet}_{*}$ or $\mathsf{Spec}$ and let $X_{\bullet}$ be a simplicial object in $\mathcal{C}$. The homotopy-invariant geometric realization of $X_{\bullet}$ is given by taking the realization of a Reedy cofibrant replacement for $X_{\bullet}$. This is determined only up to weak equivalence. In practice, we can fix a Reedy cofibrant replacement functor and obtain a particular (functorial) choice of homotopy-invariant realization. We denote the homotopy-invariant realization of $X_{\bullet}$ by $|\tilde{X}_{\bullet}|.$ Dually, if $X^{\bullet}$ is a cosimplicial object in $\mathcal{C}$, then the homotopy-invariant totalization of $X^{\bullet}$ is given by the totalization of a Reedy fibrant replacement for $X^{\bullet}$. We denote this by $\widetilde{\operatorname{Tot}}X^{\bullet}=\operatorname{Tot}\tilde{X}^{\bullet}.$ Proposition 1.20 implies that an objectwise weak equivalence between simplicial or cosimplicial objects induces a weak equivalence between their homotopy-invariant realizations or totalizations.
Definition 11.3 (Weak equivalence). A morphism $f:A\to B$ of pro-symmetric sequences in $\mathsf{Spec}$ is a weak equivalence if each map $f_{n}:A(n)\to B(n)$ is a weak equivalence of pro-spectra in the sense of Theorem 6.5. A morphism of pro-modules or pro-comodules is a weak equivalence if the underlying morphism of pro-symmetric sequences is a weak equivalence.
Definition 4.1 (Functor categories). Recall that if $\mathcal{C}$ is either $\mathsf{sSet}_{*}$ or $\mathsf{Spec}$, then $\mathcal{C}^{\mathsf{fin}}$ is the full subcategory of finite cell complexes in $\mathcal{C}$. Let $[\mathcal{C}^{\mathsf{fin}},\mathcal{D}]$ be the category whose objects are the pointed simplicial (see 1.24) functors $F:\mathcal{C}^{\mathsf{fin}}\to\mathcal{D}$ and whose morphisms $F\to G$ are the simplicial natural transformations. Since $\mathcal{C}^{\mathsf{fin}}$ is skeletally small, there is only a set of natural transformations between two such functors. Therefore $[\mathcal{C}^{\mathsf{fin}},\mathcal{D}]$ is a (locally small) category in the usual sense (i.e. the morphisms between any two objects form a set).
Definition 9.5 (Free $P$-modules). Next consider a fixed reduced operad $P$ in $\mathsf{Spec}$ and let $A$ be any symmetric sequence of spectra. The free right $P$-module on $A$ is the symmetric sequence $R(A):=A\circ P$ with right $P$-module structure given by $(A\circ P)\circ P\cong A\circ(P\circ P)\to A\circ P.$ Similarly, the free left $P$-module on $A$ is the symmetric sequence $L(A):=P\circ A$ with left $P$-module structure given by $P\circ(P\circ A)\cong(P\circ P)\circ A\to P\circ A.$ Finally, the free $P$-bimodule on $A$ is the symmetric sequence $M(A):=P\circ A\circ P$ with $P$-bimodule structure given similarly. Each of these constructions gives a functor from symmetric sequences to modules that is left adjoint to the appropriate forgetful functor.
Definition 13.5. Let $F$ and $G$ be presented cell functors in $[{\mathsf{Spec}^{\mathsf{fin}}},\mathsf{Spec}]$. Then the map $\mu:Q(FG)\to FG$ determines a map of pro-symmetric sequences of the form $\mu^{*}:\partial^{*}(F)\circ\partial^{*}(G)\to\partial^{*}(Q(FG)).$ Composing with appropriate cofibrant replacement for $\partial^{*}(F)$ and $\partial^{*}(G)$, we obtain a homotopy invariant version of the map $\mu^{*}$: $\mu^{*}:\tilde{\partial}^{*}(F)\circ\tilde{\partial}^{*}(G)\to\partial^{*}(Q(% FG)).$ Now for arbitrary pointed simplicial functors $F,G:\mathsf{Spec}\to\mathsf{Spec}$, we can apply the above construction to the presented cell functors $QF$ and $QG$ to obtain a map of pro-symmetric sequences of the form $\mu^{*}:\tilde{\partial}^{*}(QF)\circ\tilde{\partial}^{*}(QG)\to\partial^{*}(Q% ((QF)(QG))).$ Recall that a natural transformation $F\to F^{\prime}$ induces a morphism of pro-symmetric sequences $\partial^{*}(QF^{\prime})\to\partial^{*}(QF).$ Then $\mu^{*}$ is natural with respect to these maps.
Definition 6.4 (Ind-objects). An ind-object in the category $\mathcal{C}$ is a functor $X:\mathcal{J}\to\mathcal{C}$ where $\mathcal{J}$ is a small filtered category. We can identify an ind-object in $\mathcal{C}$ with a pro-object in $\mathcal{C}^{op}$ by identifying $X$ with the corresponding functor $\mathcal{J}^{op}\to\mathcal{C}^{op}$. A morphism of ind-objects in $\mathcal{C}$ is a morphism of the corresponding pro-objects in $\mathcal{C}^{op}$. The ind-objects and their morphisms form a category which we write $\mathsf{Ind}(\mathcal{C})$.
Definition 17.13. Let $(\Sigma^{\infty}X)^{\leq n}$ denote the symmetric sequence given by $(\Sigma^{\infty}X)^{\leq n}(r):=\begin{cases}(\Sigma^{\infty}X)^{\wedge r}&% \text{for $1\leq r\leq n$};\\ *&\text{for $r>n$}.\end{cases}$ We call this the truncation of $(\Sigma^{\infty}X)^{\wedge*}$ at the $n$th term. This truncation inherits a right module structure from $(\Sigma^{\infty}X)^{\wedge*}$ and there is a natural morphism of right modules $(\Sigma^{\infty}X)^{\wedge*}\to(\Sigma^{\infty}X)^{\leq n}.$
Definition 10.2. Let $M,N,P$ be symmetric sequences in $\mathsf{Spec}$. Then there are natural maps $\operatorname{Map}_{\mathsf{\Sigma}}(M,N)\to\operatorname{Map}_{\Sigma}(M\circ P% ,N\circ P)$ constructed from the maps $\operatorname{Map}(M(r),N(r))\to\operatorname{Map}\left(M(r)\wedge P(n_{1})% \wedge\dots\wedge P(n_{r}),N(r)\wedge P(n_{1})\wedge\dots\wedge P(n_{r})\right).$ There are also natural maps $\operatorname{Hom}_{\mathsf{\Sigma}}(M,N)\to\operatorname{Hom}_{\Sigma}(P\circ M% ,P\circ N)$ constructed from the composites $\begin{split}\displaystyle\prod_{r=1}^{\infty}\mathsf{Spec}(M(r),N(r))&% \displaystyle\dgTEXTARROWLENGTH=4em\arrow{e,t}{\Delta}\left(\prod_{r=1}^{% \infty}\mathsf{Spec}(M(r),N(r))\right)^{\wedge k}\\ &\displaystyle\dgTEXTARROWLENGTH=4em\arrow{e,t}{(\pi_{r_{1}},\dots,\pi_{r_{k}}% )}\mathsf{Spec}(M(r_{1}),N(r_{1}))\wedge\dots\wedge\mathsf{Spec}(M(r_{k}),N(r_% {k}))\\ &\displaystyle\dgTEXTARROWLENGTH=4em\arrow{e}\mathsf{Spec}\left(P(k)\wedge M(r% _{1})\wedge\dots\wedge M(r_{k}),P(k)\wedge N(r_{1})\wedge\dots\wedge N(r_{k})% \right).\end{split}$ Note that in the latter case, we need to use the $k$-fold diagonal map for pointed simplicial sets to make the construction. The corresponding object cannot be defined using only the enrichment over $\mathsf{Spec}$ since we have no diagonal on the spectrum $\operatorname{Map}(M(r),N(r))$.
Definition 6.1 (Pro-objects). Let $\mathcal{C}$ be any category. A pro-object in $\mathcal{C}$ is a functor $X:\mathcal{J}\to\mathcal{C}$ where $\mathcal{J}$ is a small cofiltered category. If $X:\mathcal{J}\to\mathcal{C}$ is a pro-object and $j\in\mathcal{J}$, we write $X_{j}$ for the object of $\mathcal{C}$ given by evaluating $X$ at $j$. Given two pro-objects $X:\mathcal{J}\to\mathcal{C}$ and $Y:\mathcal{K}\to\mathcal{C}$, a morphism of pro-objects from $X$ to $Y$ is an element in the set $\lim_{k\in\mathcal{K}}\operatorname*{colim}_{j\in\mathcal{J}}{\textstyle% \operatorname{Hom}_{\mathcal{C}}}(X_{j},Y_{k}).$ More explicitly, it consists of the following data: • a function $f$ from the set of objects of $\mathcal{K}$ to the set of objects of $\mathcal{J}$; • for each $k\in\mathcal{K}$, a map $\phi_{k}:X_{f(k)}\to Y_{k}$; subject to the following condition: • if $k\to k^{\prime}$ is a map in $\mathcal{K}$, and $j$ is an object in $\mathcal{J}$ with maps $j\to f(k)$ and $j\to f(k^{\prime})$ (such an object exists since $\mathcal{J}$ is cofiltered), then the following diagram commutes: $\diagram\node[2]{X_{f(k)}}\arrow{e,t}{\phi_{k}}\node{Y_{k}}\arrow[2]{s}\\ \node{X_{j}}\arrow{ne}\arrow{se}\\ \node[2]{X_{f(k^{\prime})}}\arrow{e,t}{\phi_{k^{\prime}}}\node{Y_{k^{\prime}}}$ Let $(f,\phi_{\bullet})$ and $(f^{\prime},\phi^{\prime}_{\bullet})$ be two such sets of data. They determine the same morphism $X\to Y$ if for each $k\in\mathcal{K}$, there are maps $j\to f(k)$ and $j\to f(k^{\prime})$ for some $j\in\mathcal{J}$ such that the following diagram commutes: $\diagram\node{X_{j}}\arrow{s}\arrow{e}\node{X_{f(k)}}\arrow{s,r}{\phi_{k}}\\ \node{X_{f^{\prime}(k)}}\arrow{e,t}{\phi^{\prime}_{k}}\node{Y_{k}}$ For a fixed $\mathcal{C}$, the pro-objects in $\mathcal{C}$ and their morphisms form a category which we write $\mathsf{Pro}(\mathcal{C})$.
Definition 8.2 (Morphisms of modules). Let $f:P\to P^{\prime}$ be a morphism of operads of spectra. Let $R$ be a right $P$-module, and $R^{\prime}$ a right $P^{\prime}$-module. If $r:R\to R^{\prime}$ is a morphism of symmetric sequences, then we say $r$ respects the module structures on $R$ and $R^{\prime}$ via $f$ if the following diagram commutes: $\diagram\node{R\circ P}\arrow{e}\arrow{s,l}{r\circ f}\node{R}\arrow{s,l}{r}\\ \node{R^{\prime}\circ P^{\prime}}\arrow{e}\node{R^{\prime}}$ where the top and bottom maps are the module structures on $R$ and $R^{\prime}$ respectively. If $l:L\to L^{\prime}$ is a morphism of symmetric sequences from a left $P$-module to a left $P^{\prime}$-module, then there is a corresponding definition of when $l$ respects the module structures on $L$ and $L^{\prime}$ via $f$, and similarly for bimodules.
Definition A.9. Let $\mathcal{C}$ be any category enriched and tensored over $\mathsf{sSet}_{*}$, and with all colimits, and let $X_{\bullet}$ be a simplicial object in $\mathcal{C}$. The geometric realization of $X_{\bullet}$, denoted $|X_{\bullet}|_{\mathcal{C}}$, is the object of $\mathcal{C}$ given by the coend (see [35, IX.6]) $|X_{\bullet}|_{\mathcal{C}}:=\Delta[n]_{+}\otimes_{\mathsf{\Delta}}X_{n}$ where $\otimes$ denotes the tensoring of $\mathcal{C}$ over $\mathsf{sSet}_{*}$.
Definition 12.1 (Natural transformation objects). Let $F$ and $G$ be pointed simplicial functors ${\mathsf{Spec}^{\mathsf{fin}}}\to\mathsf{Spec}$. We define the spectrum of natural transformations from $F$ to $G$ by the formula $\operatorname{Nat}(F,G):=\lim\left(\prod_{K\in{\mathsf{Spec}^{\mathsf{fin}}}}% \operatorname{Map}(FK,GK)\rightrightarrows\prod_{K,K^{\prime}\in{\mathsf{Spec}% ^{\mathsf{fin}}}}\operatorname{Map}(\mathsf{Spec}(K,K^{\prime})\wedge FK,GK^{% \prime})\right).$ One of these maps is given by the simplicial structure on $F$ using: $\mathsf{Spec}(K,K^{\prime})\wedge FK\to FK^{\prime}$ and the other by the simplicial structure on $G$ using: $GK\to\operatorname{Map}(\mathsf{Spec}(K,K^{\prime}),GK^{\prime}).$ The objects $\operatorname{Nat}(F,G)$ then define an enrichment of $[{\mathsf{Spec}^{\mathsf{fin}}},\mathsf{Spec}]$ over $\mathsf{Spec}$.
Definition 7.10 (Modules over operads). Let $P$ be an operad in a closed symmetric monoidal category $\mathcal{C}$. A right $P$-module consists of a symmetric sequence $R$ together with a right $P$-action map $R\circ P\to R$ satisfying the usual associativity and unit axioms. A left $P$-module consists of a symmetric sequence $L$ and a left $P$-action map $P\circ L\to L$ again satisfying the usual axioms. A $P$-bimodule consists of a symmetric sequence $M$ together with commuting right and left $P$-actions. A morphism of right $P$-modules is a map of symmetric sequences that commutes with the module structure maps. Similarly, we have morphisms of left $P$-modules and morphisms of $P$-bimodules. These notions then give us categories of right $P$-modules (denoted $\mathsf{Mod}_{\mathsf{right}}(P)$), left $P$-modules (denoted $\mathsf{Mod}_{\mathsf{left}}(P)$) and $P$-bimodules (denoted $\mathsf{Mod}_{\mathsf{bi}}(P)$).
Definition 18.6. Let $F:\mathsf{Spec}\to\mathsf{sSet}_{*}$ be a presented cell functor. We define $\Phi_{n}(F):\mathsf{Spec}\to\mathsf{sSet}_{*}$ by $\Phi_{n}(F):=\operatorname{Ext}^{\mathsf{left}}_{\tilde{\partial}^{*}(\Sigma^{% \infty}\Omega^{\infty})}\left(\tilde{\partial}^{*}(\Sigma^{\infty}F),% \operatorname{Map}(S_{c},X^{\leq n})\right)$ where the $\operatorname{Ext}$-objects are here calculated in the category of left $P$-modules (with $P=\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})$). Recall from Definition 10.7 that these $\operatorname{Ext}$-objects are pointed simplicial sets, not spectra. Therefore, $\Phi_{n}(F)$ is a functor from $\mathsf{Spec}$ to $\mathsf{sSet}_{*}$.
Definition 11.4 (Directly-dualizable pro-symmetric sequences). Recall that a pro-spectrum $X$ is directly-dualizable if the indexing category has a certain form and if each term $X_{j}$ is a cofibrant homotopy-finite spectrum (see Definition 6.11). We extend this definition to pro-symmetric sequences. We say that a pro-symmetric sequence $M$ (or pro-module or pro-comodule) is directly-dualizable if each $M(n)$ is a directly-dualizable pro-spectrum. We include the case where the indexing category for $M$ is trivial, so that a symmetric sequence (or operad, cooperad, module or comodule) $M$ is directly-dualizable if each $M(n)$ is a cofibrant homotopy-finite spectrum. In particular, note that a directly-dualizable operad or module is termwise-cofibrant.
Definition 4.5 (Cell functors). A cell functor in $[\mathcal{C}^{\mathsf{fin}},\mathcal{D}]$ is a cell complex with respect to the generating cofibrations of Proposition 4.3. We emphasize that a cell functor does not come with any specified cell structure, just the assertion that one exists. A presented cell functor is a cell functor $F$ together with a chosen cell structure. Explicitly, this consists of: • a sequence of functors $*=F_{0}\to F_{1}\to\dots\to F$ such that $F$ is the colimit of the $F_{i}$; • a sequence of pushout squares of the form $\diagram\node{\bigvee_{\alpha\in A_{i}}I_{0}^{\alpha}\wedge\mathcal{C}(K_{% \alpha},-)}\arrow{e}\arrow{s}\node{F_{i}}\arrow{s}\\ \node{\bigvee_{\alpha\in A_{i}}I_{1}^{\alpha}\wedge\mathcal{C}(K_{\alpha},-)}% \arrow{e}\node{F_{i+1}}$ where $A_{i}$ is an indexing set (the set of cells of degree $i+1$), each $I^{\alpha}_{0}\to I^{\alpha}_{1}$ is a cofibration in $\mathcal{D}$, and each $K_{\alpha}$ is an object of $\mathcal{C}^{\mathsf{fin}}$.
Definition 1.9 (Presented cell complexes). We emphasize that a cell complex does not include any particular choice of cell structure, rather it is merely an object for which such a structure exists. A presented cell complex, on the other hand, consists of the sequence of pushout squares that define a cell structure on a cell complex. In particular, the notion of a subcomplex is well-defined only for presented cell complexes. We refer to [22, 10.6] for an extended description of the theory of presented cell complexes and their subcomplexes. We describe this theory in more detail in §5 in the context of cell functors.
Definition 15.3. Let $T:\mathsf{Spec}\to\mathsf{Spec}$ be a comonad that is also the left Kan extension of a presented cell functor in $[{\mathsf{Spec}^{\mathsf{fin}}},\mathsf{Spec}]$. The map $m:T\to TT$ then determines, by the construction of Definition 13.3, a map of pro-symmetric sequences $m^{*}:\partial^{*}(T)\circ\partial^{*}(T)\to\partial^{*}(T).$ We also define a map $e^{*}:\mathsf{1}\to\partial^{*}(T)$ as follows. Recall that this consists of a map $S\to\partial^{1}(T)=\{\operatorname{Nat}(CX,X)\}_{C\in\mathsf{Sub}(T)}.$ To define such a map of pro-objects, we have to give, for each $C\in\mathsf{Sub}(T)$, a map $S\to\operatorname{Nat}(CX,X).$ Such a map is given by the adjoint of the composite $CX\hookrightarrow TX\arrow{e,t}{e_{X}}X.$ These respect inclusions of subcomplexes of $T$ and so define the required map $e^{*}$ of pro-objects.
Definition 7.1 (Symmetric sequences). Let $\mathsf{\Sigma}$ denote the category whose objects are the finite sets $\{1,\dots,n\}$ for $n\geq 1$ and whose morphisms are bijections. Thus $\mathsf{\Sigma}(m,n)$ is empty unless $m=n$, in which case it is the group $\Sigma_{n}$. Let $\mathcal{C}$ be any category. A symmetric sequence in $\mathcal{C}$ is a functor $A:\mathsf{\Sigma}\to\mathcal{C}$. Explicitly then, we can think of a symmetric sequence as consisting of a sequence $\{A(n)\}$ of objects of $\mathcal{C}$ together with a (left) $\Sigma_{n}$-action on $A(n)$ for each $n\geq 1$. A morphism of symmetric sequences $f:A\to B$ is a natural transformation of functors or equivalently, a collection of $\Sigma_{n}$-equivariant maps $f_{n}:A(n)\to B(n)$. The objects $A(n)$ involved in a symmetric sequence are called the terms of the symmetric sequence, and a symmetric sequence $A$ is said to have some property termwise if each $A(n)$ has that property.
Definition 17.22. Let $F:\mathsf{sSet}_{*}\to\mathsf{Spec}$ be a finite cell functor. The construction of Definition 17.18 gives us a map $F\Omega^{\infty}\dots\Sigma^{\infty}X\to\operatorname{Map}_{\mathsf{\Sigma}}% \left(\operatorname{Nat}(F\Omega^{\infty}\dots\Sigma^{\infty}\Omega^{\infty}E,% E^{\wedge*}),(\Sigma^{\infty}X)^{\wedge*}\right).$ The construction of Definition 13.3 gives a map $\partial^{*}(F\Omega^{\infty})\circ\dots\circ\partial^{*}(\Sigma^{\infty}% \Omega^{\infty})\to\operatorname{Nat}(F\Omega^{\infty}\dots\Sigma^{\infty}% \Omega^{\infty}E,E^{\wedge*}).$ Together with the previous map, this gives $F\Omega^{\infty}\dots\Sigma^{\infty}X\to\operatorname{Map}_{\mathsf{\Sigma}}% \left(\partial^{*}(F\Omega^{\infty})\circ\dots\circ\partial^{*}(\Sigma^{\infty% }),(\Sigma^{\infty}X)^{\wedge*}\right).$ Using the argument of Lemma 17.19, we can see that this factors via the corresponding mapping object for right $\partial^{*}(\Sigma^{\infty}\Omega^{\infty})$-modules, where the right module structure on $\partial^{*}(F\Omega^{\infty})\circ\dots\circ\partial^{*}(\Sigma^{\infty}% \Omega^{\infty})$ is given by the regular action on the rightmost term. Composing also with appropriate cofibrant replacements, we get maps $F\Omega^{\infty}\dots\Sigma^{\infty}X\to\operatorname{Map}^{\mathsf{right}}_{% \tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})}\left(\tilde{\partial}^{*% }(F\Omega^{\infty})\circ\dots\circ\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{% \infty}),(\Sigma^{\infty}X)^{\wedge*}\right).$ Finally, suppose that $F:\mathsf{sSet}_{*}\to\mathsf{Spec}$ is any pointed simplicial functor. Taking the homotopy colimit of the above maps over finite subcomplexes $C\subset QF$, we get $F\Omega^{\infty}\dots\Sigma^{\infty}X\to\operatorname{Map}^{\mathsf{right}}_{% \tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{\infty})}\left(\tilde{\partial}^{*% }(F\Omega^{\infty})\circ\dots\circ\tilde{\partial}^{*}(\Sigma^{\infty}\Omega^{% \infty}),(\Sigma^{\infty}X)^{\wedge*}\right).$ and we denote this map $\phi^{\prime\prime}_{F\Omega^{\infty}\dots\Sigma^{\infty}}$.
Definition 10.10 (Maps of Ext-objects). Let $P$ be a reduced operad in $\mathsf{Spec}$ and let $R,R^{\prime}$ be right $P$-modules. Then the resolution map $B(R,P,P)\to R$ of Definition 9.17 gives us a natural map $\operatorname{Map}^{\mathsf{right}}_{P}(R,R^{\prime})\to\operatorname{Ext}^{% \mathsf{right}}_{P}(R,R^{\prime}).$ Similarly, for left $P$-modules $L$ and $L^{\prime}$, we have a map $\operatorname{Hom}^{\mathsf{left}}_{P}(L,L^{\prime})\to\operatorname{Ext}^{% \mathsf{left}}_{P}(L,L^{\prime})$ and, for $P$-bimodules $M$ and $M^{\prime}$, a map $\operatorname{Hom}^{\mathsf{bi}}_{P}(M,M^{\prime})\to\operatorname{Ext}^{% \mathsf{bi}}_{P}(M,M^{\prime}).$
Definition 2.8 (Cross-effects). Given a homotopy functor $F:\mathcal{C}\to\mathcal{D}$, the $n$th cross-effect of $F$ is the multivariable functor $\operatorname{cr}_{n}(F):\mathcal{C}^{n}\to\mathcal{D}$ given by $\operatorname{cr}_{n}(F)\left(X_{1},\dots,X_{n}\right):=\operatorname*{thofib}% _{I\subset\{1,\dots,n\}}F\left(\bigvee_{i\in I}X_{i}\right).$ This is the total homotopy fibre of the cube, indexed by subsets of $\{1,\dots,n\}$, consisting of $F$ applied to wedges of the corresponding subsets of the objects $X_{i}$. See [17] for a detailed description of total homotopy fibres of cubes, and [18] for more on cross-effects. Note that a permutation $\sigma$ of $\{1,\dots,n\}$ induces a natural symmetry isomorphism $\operatorname{cr}_{n}(F)\left(X_{1},\dots,X_{n}\right)\cong\operatorname{cr}_{% n}(F)\left(X_{\sigma(1)},\dots,X_{\sigma(n)}\right).$ Strictly speaking, the functor $\operatorname{cr}_{n}(F)$ defined here only preserves weak equivalences between cofibrant inputs. We therefore tacitly compose with a cofibrant replacement (if necessary) to get an honest homotopy functor.
Definition 9.3 (Free symmetric sequences). Let $X$ be a spectrum and fix an integer $n\geq 2$. The free symmetric sequence on $X$ in position $n$ is the symmetric sequence $A_{n}(X)$ given by $A_{n}(X)(r):=\begin{cases}(\Sigma_{n})_{+}\wedge X&\text{if $r=n$};\\ *&\text{otherwise}.\end{cases}$ The functor $A_{n}$ from spectra to symmetric sequences is left adjoint to the functor that picks out the $n$th term of a symmetric sequence (and forgets the $\Sigma_{n}$-action).
Definition 12.11. For a finite cell functor $C:{\mathsf{Spec}^{\mathsf{fin}}}\to\mathsf{Spec}$, there is a $\Sigma_{n}$-equivariant evaluation map $C(X)\wedge\operatorname{Nat}(CX,X^{\wedge n})\to X^{\wedge n}.$ This is adjoint to a map $C(X)\to\operatorname{Map}(\operatorname{Nat}(CX,X^{\wedge n}),X^{\wedge n})^{% \Sigma_{n}}.$ Composing with a $\Sigma_{n}$-cofibrant replacement for $\operatorname{Nat}(CX,X^{\wedge n})$, we get $\psi_{C}:C(X)\to\operatorname{Map}(\widetilde{\operatorname{Nat}}(CX,X^{\wedge n% }),X^{\wedge n})^{\Sigma_{n}}.$ Now let $F:{\mathsf{Spec}^{\mathsf{fin}}}\to\mathsf{Spec}$ be any presented cell functor. By Corollary 5.7, $F$ is equivalent to the homotopy colimit of the finite subcomplexes of $QF$. Therefore, taking the homotopy colimit over $C\in\mathsf{Sub}(QF)$ of the maps $\psi_{C}$, we get $\psi:F(X)\to\Psi_{n}F(X).$ Strictly speaking, the source of this map is (naturally) weakly equivalent to $F$, not equal to it, but for simplicity of notation, we write it just as $F$.
Definition 1.3 (Cofibrant replacement for the sphere spectrum). It is well known that the sphere spectrum $S$ is not cofibrant for the standard model structure on $\mathsf{Spec}$. We fix a cofibrant replacement given by $S_{c}:=S\wedge_{\mathcal{L}}\mathbb{L}S.$ (See [13, I.4-5] again for the notation.) An important fact for us is that the map $*\to S_{c}$ is precisely one of the generating cofibrations in $\mathsf{Spec}$ (that with $q,n=0$ in Definition 1.2). In particular, this means that $S_{c}$ is a finite cell spectrum (see Definition 1.7 below).
Definition 9.13 (Projective-cofibrations). Let $\mathcal{C}$ be one of the categories of Theorem 9.8. We use the term projective-cofibration to describe the morphisms in $\mathcal{C}$ that are cofibrations in the model structure described in 9.8. The objects of $\mathcal{C}$ that are cofibrant in that model structure are then described as projectively-cofibrant. We stress this so as not to confuse these with termwise-cofibrant objects.
Definition 17.4. Let $T:\mathsf{Spec}\to\mathsf{Spec}$ be a comonad (Definition 15.1) and let $F:\mathsf{Spec}\to\mathsf{Spec}$ be another functor. A right $T$-comodule structure on $F$ is a natural transformation $r:F\to FT$ such that the following diagrams commute: $\diagram\node{F}\arrow{e,t}{r}\arrow{s,l}{r}\node{FT}\arrow{s,r}{Fm}\\ \node{FT}\arrow{e,t}{rT}\node{FTT},\quad\diagram\node{F}\arrow{e,t}{r}\arrow{% se,b}{1_{T}}\node{FT}\arrow{s,r}{Te}\\ \node[2]{F}$ Dually, a left $T$-comodule structure on $F$ is a natural transformation $l:F\to TF$ such that analogous diagrams commute.
Definition 7.17 (Bisimplicial bar constructions). Let $P$ be an operad in $\mathsf{Spec}$ and let $M$ be a $P$-bimodule, $R$ a right $P$-module and $L$ a left $P$-module. Then we define the bisimplicial bar construction on $M$ to be the bisimplicial object $B_{\bullet,\bullet}(R,P,M,P,L):=R\circ P^{\bullet}\circ M\circ P^{\bullet}% \circ L.$ with face and degeneracy maps similar to those in the bar constructions above. The bimodule bar construction on $M$ is then the realization $B(R,P,M,P,L):=|B_{\bullet,\bullet}(R,P,M,P,L)|.$
Definition 11.12 (Spanier-Whitehead duals of pro-comodules). Let $Q$ be a directly-dualizable cooperad in $\mathsf{Spec}$ and let $M$ be a directly-dualizable pro-$Q$-comodule (either right, left or bi-). If $M$ is indexed over $\mathcal{J}$ then this means each $M_{j}$ for $j\in\mathcal{J}$ has the structure of a $Q$-comodule. Then the symmetric sequences $\operatorname{Map}(M_{j},S)$ are $\mathbb{D}Q$-modules, by the same argument as in Lemma 11.11. If $\widetilde{\mathbb{D}Q}$ denotes a $\Sigma$-cofibrant replacement for $\mathbb{D}Q$, then $\operatorname{Map}(M_{j},S)$ become $\widetilde{\mathbb{D}Q}$-modules. We now define, as in 11.6, the Spanier-Whitehead dual of $M$ to be $\mathbb{D}M:=\operatorname*{hocolim}_{j\in\mathcal{J}}\operatorname{Map}(M_{j}% ,S).$ We choose this homotopy colimit to be formed using the model structure on $\widetilde{\mathbb{D}Q}$-modules of Theorem 9.8. In the Appendix we show (Proposition A.15) that this is equivalent to the homotopy colimit formed in the category of symmetric sequences. It therefore does represent the termwise Spanier-Whitehead dual of $M$, but retains the additional structure of a $\widetilde{\mathbb{D}Q}$-module.
Definition 1.23 (Homotopy limits and colimits). We use homotopy-invariant versions of the homotopy limit and colimit of a diagram of pointed simplicial sets or spectra. The standard notions of homotopy limit and colimit (due to Bousfield and Kan [8]) preserve objectwise weak equivalences between only objectwise-fibrant, and objectwise-cofibrant diagrams respectively (see [22, 18.5.3]). In our notation $\operatorname*{holim}$ and $\operatorname*{hocolim}$, we understand that appropriate fibrant or cofibrant replacements have been taken (if necessary) before applying the Bousfield-Kan construction. Note that all objects in $\mathsf{Spec}$ are fibrant so that the standard homotopy limit is already the homotopically correct one. Similarly, all objects in $\mathsf{sSet}_{*}$ are cofibrant and so the Bousfield-Kan homotopy colimit is already correct. At many points in this paper, we take the homotopy limit or colimit of a diagram of functors with values in either $\mathsf{sSet}_{*}$ or $\mathsf{Spec}$. Unless noted otherwise, such homotopy limits and colimits are always formed objectwise.
Definition 2.4. A linear order over a topological space $X$ is a sheaf $p\colon L\to X$ on $X$ together with a subsheaf $O\subseteq L\times_{X}L$ such that for each point $x\in X$ the stalk $L_{x}$ is nonempty and linearly ordered by the relation $y\leq z\hskip 28.452756pt\mbox{iff}\hskip 28.452756pt(y,z)\in O_{x},$ for $y,z\in L_{x}$. A mapping $L\to L^{\prime}$ between two linear orders over $X$ is a mapping of sheaves restricting for each $x\in X$ to an order preserving map of stalks $L_{x}\to L^{\prime}_{x}$. This defines a category of linear orders on $X$.
Definition 6.1. A normal homomorphism $(B,f,\beta)\colon[n]\to{\mathbb{B}}$ from an ordinal $[n]$ to the bicategory ${\mathbb{B}}$ is a lax normal functor for which each 2-cell $\beta_{ijk}$ in the Definition 4.1 is invertible.
Definition 3.1. Let ${\mathbb{C}}$ be a topological category. The classifying topos ${\mathcal{B}}{\mathbb{C}}$ of a topological category is defined as the topos $Sh(N{\mathbb{C}})$.
Definition 5.6. A ${\mathbb{C}}$-sheaf is an étale space $p\colon S\to C_{0}$ equipped with a continuous right ${\mathbb{C}}$ action $\alpha\colon S\times_{C_{0}}C_{1}\to S$ which we denote by $\alpha(x,f)=x\cdot f$. This action is defined for all pairs $(x,f)$ for which $p(x)=t(f)$ and it satisfies the following axioms: $p(x\cdot f)=s(f),\hskip 14.226378pt(x\cdot f)\cdot g=x\cdot(fg),\hskip 14.2263% 78ptx\cdot id_{p(x)}=x.$ A map between ${\mathbb{C}}$-sheaves or a ${\mathbb{C}}$-equivariant map is a map of étale spaces over $C_{0}$ which is compatible with the ${\mathbb{C}}$-action.
Definition 6.6. The classifying space $B_{LP}{\mathbb{B}}$ of a topological bicategory ${\mathbb{B}}$ is the geometric realization $|B_{LP}{\mathbb{B}}|$ of its bisimplicial nerve $B_{LP}{\mathbb{B}}$.
Definition 4.1. For an ordinal $[n]$ and a bicategory ${\mathbb{B}}$ a normal lax functor $(B,f,\beta)\colon[n]\to{\mathbb{B}}$ consists of the following data in ${\mathbb{B}}$: (i) an object $B_{i}$ for each $i\in[n]$, (ii) a morphism $f_{ij}\colon B_{i}\to B_{j}$ for each $i,j\in[n]$ with $i\leq j$, (iii) a 2-cell $\beta_{ijk}\colon f_{ij}\circ f_{jk}\Rightarrow f_{ik}$ for each $i,j,k\in[n]$ with $i\leq j\leq k$ $\xymatrix@!=4pc{B_{k}\drtwocell<\omit>{<-4>\,\,\,\,\,\,\,\beta_{ijk}}\ar[r]^{-% }{f_{jk}}\ar[dr]_{-}{f_{ik}}&B_{j}\ar[d]^{-}{f_{ij}}\\ &B_{i}}$ such that the following conditions are satisfied: • (normalization) for any $i\in[n]$ we have $f_{ii}=i_{B_{i}}\colon B_{i}\to B_{i}$ and for any $i,j\in[n]$ such that $i\leq j$ the corresponding 2-cells $\beta_{iij}\colon f_{ii}\circ f_{ij}\Rightarrow f_{ij}$ and $\beta_{ijj}\colon f_{ij}\circ f_{jj}\Rightarrow f_{ij}$ are given by the two 2-simplices $\xymatrix@!=4pc{B_{j}\drtwocell<\omit>{<-4>\,\,\,\,\,\,\,\lambda_{f_{ij}}}\ar[% r]^{-}{f_{ij}}\ar[dr]_{-}{f_{ij}}&B_{i}\ar[d]^{-}{i_{B_{i}}}\\ &B_{i}}\hskip 36.0pt\xymatrix@!=4pc{B_{j}\drtwocell<\omit>{<-4>\,\,\,\,\,\,\,% \rho_{f_{ij}}}\ar[r]^{-}{i_{B_{j}}}\ar[dr]_{-}{f_{ij}}&B_{j}\ar[d]^{-}{f_{ij}}% \\ &B_{i}}$ where $\rho_{f_{ij}}\colon f_{ij}\circ i_{p_{j}}\Rightarrow f_{ij}$ and $\lambda_{f_{ij}}\colon i_{p_{i}}\circ f_{ij}\Rightarrow f_{ij}$ are the components of the right and left identity natural isomorphisms in ${\mathbb{B}}$. • (coherence condition) for each $i,j,k,l\in[n]$ such that $i\leq j\leq k\leq l$ the following tetrahedron $\xymatrix@!=3pc{&B_{i}\drtwocell<\omit>{<4>\beta_{ijk}}\dltwocell<\omit>{<-4>% \beta_{ijl}}&\\ B_{l}\drtwocell<\omit>{<-4>\beta_{ikl}}\ar[ur]^{f_{il}}\ar^{\prime}[r][rr]^{f_% {jl}}\ar[dr]_{-}{f_{kl}}&&B_{j}\dltwocell<\omit>{<4>\beta_{jkl}}\ar[ul]_{-}{f_% {ij}}\\ &B_{k}\ar[uu]_{(}0.45){f_{ik}}\ar[ur]_{-}{f_{jk}}&}$ is commutative. This means that we have the identity of 2-cells in the bicategory ${\mathbb{B}}$: $\beta_{ikl}(\beta_{ijk}\circ f_{kl})=\beta_{ijl}(f_{ij}\circ\beta_{jkl})\alpha% _{ijkl}.$
Definition 2.9. We call two objects $E_{0},E_{1}\in Lin(X,Y)$ concordant if there exists an $E\in Lin(X\times[0,1],Y)$ such that we have $E_{0}\cong i^{*}_{0}(E)$ and $E_{0}\cong i^{*}_{1}(E)$ under the obvious inclusions $i_{0},i_{1}\colon X\hookrightarrow X\times[0,1]$. $Lin_{c}(X,Y)$ will denote the collection of concordance classes of objects from $Lin(X,Y)$.
Definition 4.4. The classifying space $B{\mathbb{B}}$ of a topological bicategory ${\mathbb{B}}$ is the geometric realization $|N{\mathbb{B}}|$ of its nerve $N{\mathbb{B}}$.
