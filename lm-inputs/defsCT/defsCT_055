Definition 2.4. An up-down vector is a non-empty finite sequence of nonnegative integers $(p_{0},q_{1},p_{1},\ldots,p_{k-1},q_{k},p_{k})$ such that $p_{i-1}>q_{i}$ and $q_{i}<p_{i}$ for $1\leq i\leq k$.
Definition 2.1. An $\omega$-category $C$ is a sequence of sets $C_{0},C_{1},\ldots\,$ together with the following structure. (1) If $x\in C_{p}$ then there are identity elements $i_{p}^{n}x\in C_{n}\quad(p<n),$ sources $d_{q}^{-}x\in C_{q}\quad(q<p),$ and targets $d_{q}^{+}x\in C_{q}\quad(q<p).$ (2) If $x,y\in C_{p}$ and $d_{q}^{+}x=d_{q}^{-}y$ for some $q<p$ then there is a composite $x\operatorname{\#}_{q}y\in C_{p}.$ (3) If $x\in C_{p}$ then $\displaystyle i_{m}^{n}i_{p}^{m}x=i_{p}^{n}x\quad(p<m<n),$ $\displaystyle d_{p}^{-}i_{p}^{n}x=d_{p}^{+}i_{p}^{n}x=x\quad(p<n),$ $\displaystyle i_{m}^{p}d_{m}^{-}x\operatorname{\#}_{m}x=x\operatorname{\#}_{m}% i_{m}^{p}d_{m}^{+}x=x\quad(m<p),$ $\displaystyle d_{m}^{-}d_{n}^{-}x=d_{m}^{-}d_{n}^{+}x=d_{m}^{-}x\quad(m<n<p),$ $\displaystyle d_{m}^{+}d_{n}^{-}x=d_{m}^{+}d_{n}^{+}x=d_{m}^{+}x\quad(m<n<p).$ (4) If $x,y\in C_{p}$ and $d_{q}^{+}x=d_{q}^{-}y$ for some $q<p$ then $\displaystyle i_{p}^{n}(x\operatorname{\#}_{q}y)=i_{p}^{n}x\operatorname{\#}_{% q}i_{p}^{n}y\quad(p<n),$ $\displaystyle d_{m}^{-}(x\operatorname{\#}_{q}y)=d_{m}^{-}x\operatorname{\#}_{% q}d_{m}^{-}y\quad(q<m<p),$ $\displaystyle d_{m}^{+}(x\operatorname{\#}_{q}y)=d_{m}^{+}x\operatorname{\#}_{% q}d_{m}^{+}y\quad(q<m<p),$ $\displaystyle d_{q}^{-}(x\operatorname{\#}_{q}y)=d_{q}^{-}x,$ $\displaystyle d_{q}^{+}(x\operatorname{\#}_{q}y)=d_{q}^{+}y.$ (5) If $x,y,z\in C_{p}$ and $d_{q}^{+}x=d_{q}^{-}y$, $d_{q}^{+}y=d_{q}^{-}z$ for some $q<p$ then $(x\operatorname{\#}_{q}y)\operatorname{\#}_{q}z=x\operatorname{\#}_{q}(y% \operatorname{\#}_{q}z).$ (6) If $x,y,z,w\in C_{p}$ and $d_{q}^{+}x=d_{q}^{-}y$, $d_{m}^{+}y=d_{m}^{-}z$, $d_{q}^{+}z=d_{q}^{-}w$ with $m<q<p$ then $(x\operatorname{\#}_{q}y)\operatorname{\#}_{m}(z\operatorname{\#}_{q}w)=(x% \operatorname{\#}_{m}z)\operatorname{\#}_{q}(y\operatorname{\#}_{m}w).$ A morphism of $\omega$-categories $f\colon C\to D$ is a sequence of functions $f\colon C_{p}\to D_{p}$ commuting with the identity, source, target and composition operations.
Definition 2.5. Let $\mathbf{s}$ be an up-down vector given by $\mathbf{s}=(p_{0},q_{1},p_{1},\ldots,p_{k-1},q_{k},p_{k}).$ Then an $\mathbf{s}$-simple $\omega$-category is an $\omega$-category with a presentation of the following form: the generators form an ordered list $g_{0},\ldots,g_{k}$ with $\dim g_{i}=p_{i}$; the relations are given by $d_{q_{i}}^{+}g_{i-1}=d_{q_{i}}^{-}g_{i}\quad(1\leq i\leq k).$
Definition 5.5. Let $\mathbf{s}$ be an up-down vector with more than one term given by $\mathbf{s}=(\mathbf{s^{\prime}},q,p)$ and let $p^{\prime}$ be the last term in $\mathbf{s^{\prime}}$; then an $\mathbf{s}$-simple square of chain complexes is a square of augmented directed complexes $\xymatrix{K^{0}\ar_{\pi}[d]\ar^{\rho}[r]&K^{\prime\prime}\ar^{\tau}[d]\\ K^{\prime}\ar_{\sigma}[r]&K}$ with the following properties: the complexes $K^{\prime}$, $K^{0}$ and $K^{\prime\prime}$ are $\mathbf{s^{\prime}}$-simple, $(q)$-simple and $(p)$-simple with final generators $a^{\prime}$, $a^{0}$ and $a^{\prime\prime}$; the morphisms $\pi$ and $\rho$ are given by $\pi(\partial^{+})^{q-r}a^{0}=(\partial^{+})^{p^{\prime}-r}a^{\prime},\ \rho(% \partial^{-})^{q-r}a^{0}=(\partial^{-})^{p-r}a^{\prime\prime}\quad(0\leq r\leq q);$ the square is a push-out as a square of abelian groups; the prescribed submonoid of $K$ is the sum of the images of the prescribed submonoids of $K^{\prime}$ and $K^{\prime\prime}$.
Definition 3.1. A set with complicial identities $X$ is a sequence of sets $X_{0},X_{1},\ldots$ together with the following structure. (1) If $x\in X_{m}$ then there are faces $\partial_{i}x\in X_{m-1}\quad(m>0,\ 0\leq i\leq m)$ and degeneracies $\operatorname{\epsilon}_{i}x\in X_{m+1}\quad(0\leq i\leq m).$ (2) If $x,y\in X_{m}$ and if $\partial_{i}x=\partial_{i+1}y$ for some $i$ with $0\leq i\leq m-1$ then there is a wedge $x\wedge_{i}y\in X_{m+1}.$ (3) If $x\in X_{m}$ then $\displaystyle\partial_{i}\partial_{j}x=\partial_{j-1}\partial_{i}x\quad(m\geq 2% ,\ 0\leq i<j\leq m),$ $\displaystyle\partial_{i}\operatorname{\epsilon}_{j}x=\operatorname{\epsilon}_% {j-1}\partial_{i}x\quad(0\leq i<j\leq m),$ $\displaystyle\partial_{j}\operatorname{\epsilon}_{j}x=\partial_{j+1}% \operatorname{\epsilon}_{j}x=x,$ $\displaystyle\partial_{i}\operatorname{\epsilon}_{j}x=\operatorname{\epsilon}_% {j}\partial_{i-1}x\quad(j+2\leq i\leq m+1),$ $\displaystyle\operatorname{\epsilon}_{i}\operatorname{\epsilon}_{j}x=% \operatorname{\epsilon}_{j+1}\operatorname{\epsilon}_{i}x\quad(0\leq i\leq j% \leq m),$ $\displaystyle\operatorname{\epsilon}_{i}x=\operatorname{\epsilon}_{i}\partial_% {i+1}x\wedge_{i}x\quad(0\leq i<m),$ $\displaystyle\operatorname{\epsilon}_{i+1}x=x\wedge_{i}\operatorname{\epsilon}% _{i}\partial_{i}x\quad(0\leq i<m).$ (4) If $x,y\in X_{m}$ and if $\partial_{i}x=\partial_{i+1}y$ with $0\leq i<m$ then $\displaystyle\partial_{j}(x\wedge_{i}y)=\partial_{j}x\wedge_{i-1}\partial_{j}y% \quad(0\leq j\leq i-1),$ $\displaystyle\partial_{i}(x\wedge_{i}y)=y,$ $\displaystyle\partial_{i+2}(x\wedge_{i}y)=x,$ $\displaystyle\partial_{j}(x\wedge_{i}y)=\partial_{j}x\wedge_{i-1}\partial_{j}y% \quad(i+3\leq j\leq m+1).$ (5) If $b\in X_{m+1}$ and $y,z\in X_{m}$, if $\partial_{i}y=\partial_{i+1}z$ and $\partial_{i}b=\partial_{i+1}(y\wedge_{i}z)$ with $0\leq i<m$, and if $A=b\wedge_{i}(y\wedge_{i}z)$, then $A=(\partial_{i+2}b\wedge_{i}y)\wedge_{i+1}\partial_{i+1}A.$ (6) If $x,y\in X_{m}$ and $c\in X_{m+1}$, if $\partial_{i}x=\partial_{i+1}y$ and $\partial_{i+1}(x\wedge_{i}y)=\partial_{i+2}c$ with $0\leq i<m$, and if $A=(x\wedge_{i}y)\wedge_{i+1}c$, then $A=\partial_{i+2}A\wedge_{i}(y\wedge_{i}\partial_{i}c).$ (7) If $x,y,z\in X_{m}$ and if $\partial_{i}x=\partial_{i+1}y$, $\partial_{i}y=\partial_{i+1}z$ with $0\leq i<m$ then $[x\wedge_{i}\partial_{i+1}(y\wedge_{i}z)]\wedge_{i}(y\wedge_{i}z)=(x\wedge_{i}% y)\wedge_{i+1}[\partial_{i+1}(x\wedge_{i}y)\wedge_{i}z].$ (8) If $x,y,z,w\in X_{m}$, if $\partial_{i+1}x=\partial_{i+2}y$, $\partial_{i}y=\partial_{i+1}z$, $\partial_{i+1}w=\partial_{i+1}(\partial_{i}x\wedge_{i}\partial_{i+2}z)$ with $0\leq i\leq m-2$, and if $A=\partial_{i+2}[(x\wedge_{i+1}y)\wedge_{i+1}(y\wedge_{i}z)]$, then $A\wedge_{i}(w\wedge_{i+1}\partial_{i}A)=(\partial_{i+3}A\wedge_{i}w)\wedge_{i+% 2}A.$ (9) If $x,y,z,w\in X_{m}$ and $\partial_{i}x=\partial_{i+1}y$, $\partial_{i}z=\partial_{i+1}w$, $\partial_{j-1}x=\partial_{j}z$, $\partial_{j-1}y=\partial_{j}w$ with $0\leq i\leq j-3\leq m-3$ then $(x\wedge_{i}y)\wedge_{j}(z\wedge_{i}w)=(x\wedge_{j-1}z)\wedge_{i}(y\wedge_{j-1% }w).$ A morphism of sets with complicial identities $f\colon X\to Y$ is a sequence of functions $f\colon X_{m}\to Y_{m}$ commuting with the face, degeneracy and wedge operations.
Definition 5.1. Let $\mathbf{s}$ be a one-term up-down vector given by $\mathbf{s}=(p)$. Then an $\mathbf{s}$-simple chain complex with (final) generator $a$ is a free augmented directed complex with a $p$-dimensional basis element $a$ such that the basis elements can be listed as $(\partial^{-})^{p}a,\ (\partial^{-})^{p-1}a,\ \ldots,\ \partial^{-}a,\ a,\ % \partial^{+}a,\ \ldots,\ (\partial^{+})^{p-1}a,\ (\partial^{+})^{p}a$ and such that $\operatorname{\epsilon}(\partial^{-})^{p}a=\operatorname{\epsilon}(\partial^{+% })^{p}a=1$.
Definition 6.2. Let $K$ and $L$ be augmented directed complexes. Then the join $K*L$ is the the direct sum of abelian groups $K*L=K\oplus(K\times L)\oplus L$ with the following structure. The grading is given by $(K*L)_{q}=K_{q}\oplus\left[\bigoplus_{i+j=q-1}(K_{i}\otimes L_{j})\right]% \oplus L_{q}.$ The inclusions of $K$ and $L$ in $K*L$ commute with the boundary and augmentation homomorphisms. The boundary on $K_{i}\otimes L_{j}$ is given by $\partial(x\otimes y)=\begin{cases}(\operatorname{\epsilon}x)y-(\operatorname{% \epsilon}y)x&(i=j=0),\\ (\operatorname{\epsilon}x)y-x\otimes\partial y&(i=0,\ j>0),\\ \partial x\otimes y-(-1)^{i}(\operatorname{\epsilon}y)x&(i>0,\ j=0),\\ \partial x\otimes y-(-1)^{i}x\otimes\partial y&(i,j>0).\end{cases}$ The prescribed submonoid of $K*L$ is generated by the elements of the prescribed submonoids of $K$ and $L$ and by the tensor products of these elements.
Definition 3.1. A fibrous preorder $(\xymatrix{R\ar[r]^{\partial}&A\ar[r]^{p}&B})$ is said to be spatial when there exists $s\colon{B\to A}$ and $m\colon{A\times_{B}A\to A}$ with $A\times_{B}A=\{(a,a^{\prime})\in A\times A\mid p(a)=p(a^{\prime})\}$ such that (F4) $ps(y)=y$; (F5) $pm(a,a^{\prime})=p(a)=p(a^{\prime})$; (F6) $m(a,a^{\prime})Ry\Rightarrow aRy\&a^{\prime}Ry$; for every $a,a^{\prime}\in A$ and $y\in B$ with $p(a)=p(a^{\prime})$.
Definition 2.3. Two parallel fibrous morphisms $(f,f^{*})$ and $(g,g^{*})$ are said to be equivalent if and only if $f=g$.
Definition 2.1. A fibrous preorder is a sequence $\xymatrix{R\ar[r]^{\partial}&A\ar[r]^{p}&B}$ in which $A$ and $B$ are sets, $p$ and $\partial$ are maps, $R\subseteq A\times B$ is a binary relation (and as usual we simply write $(a,b)\in R$ as $aRb$) such that the following conditions hold: (F1) $p\partial(a,b)=b$; (F2) $aRp(a)$; (F3) $\partial(a,b)Ry\Rightarrow aRy$; for every $a\in A$ and $b,y\in B$ with $aRb$.
Definition 2.2. Let $\mathbf{A}=(\xymatrix{R\ar[r]^{\partial}&A\ar[r]^{p}&B})$ and $\mathbf{A^{\prime}}=(\xymatrix{R^{\prime}\ar[r]^{\partial^{\prime}}&A^{\prime}% \ar[r]^{p^{\prime}}&B^{\prime}})$ be two fibrous preorders. A fibrous morphism between $\mathbf{A}$ and $\mathbf{A^{\prime}}$ is a pair $(f,f^{*})$ with $f\colon{B\to B^{\prime}}$ a map from $B$ to $B^{\prime}$ and $f^{*}\colon{A^{\prime}_{f}\to A}$ a map from $A^{\prime}_{f}=\{(a^{\prime},b)\in A^{\prime}\times B\mid p^{\prime}(a^{\prime% })=f(b)\}$ to A such that $pf^{*}(a^{\prime},b)=b$ and $f^{*}(a^{\prime},b)Ry\Rightarrow a^{\prime}R^{\prime}f(y)$ for all $a^{\prime}\in A^{\prime}$ and $b,y\in B$ with $p^{\prime}(a^{\prime})=f(b)$.
Definition 5 (Partial applicative structure). Let $\mathcal{B}$ be a Heyting category. A partial applicative structure is a pair $(A,\cdot)$ where $A$ is an object and $\cdot$ is a partial morphism $A\times A\rightharpoonup A$. Here, a partial morphism $X\rightharpoonup Y$ is an isomorphism class of spans $(m:Z\to X,f:Z\to Y)$ in which $m$ is monic. I refer to $\cdot$ as the application operator.
Definition 18 (Category of assemblies). Let $\mathcal{B}$ be a Heyting category, let $(A,\cdot)$ be a partial combinatory algebra of $\mathcal{B}$ and let $\phi$ be a combinatory complete filter of $(A,\cdot)$. An $A$-assembly is a pair $(X,\xi)$ where $X$ is an object of $\mathcal{B}$ and $\xi$ is a member of $\mathsf{Sub}(A\times X)$ that satisfies: $\mathcal{B}\models\forall x\mathord{:}X.\exists a\mathord{:}A.\xi(a,x)$ For each assembly $X=(Y,\Phi)$ let $\mathrm{U}X=Y$ and $\rho_{X}=\Phi$ in order to save variables. Let $X$ and $Y$ be assemblies. A subobject $R\in\mathsf{Sub}(A)$ tracks $f:\mathrm{U}X\to\mathrm{U}Y$ if $\mathcal{B}\models\forall a,b\mathord{:}A,x\mathord{:}X.a\mathord{:}R\land(b,x% )\mathord{:}\rho_{X}\to a\cdot b\mathord{\downarrow}\land(a\cdot b,y)\mathord{% :}\rho_{Y}$ A morphism $f:\mathrm{U}X\to\mathrm{U}Y$ is $\phi$-total if some $R\in\phi$ tracks it. The $\phi$-total morphisms are closed under composition and identities because computable functions are. The category of assemblies $\mathsf{Asm}(\mathcal{B},(A,\cdot),\phi)$ consists of $A$-assemblies and $\phi$-total morphisms.
Definition 50. For each assembly $I$ in $\mathsf{Asm}(\mathcal{B},(A,\cdot),\phi)$ let $\mathcal{B}/I$ be the category of prone maps into $I$. Let $A/I$ be the projection $\nabla A\times I\to I$ and let $(A/I,\cdot)$ the constant partial applicative structure. Finally, for each $U\subseteq\nabla A\times I$ let $\pi_{1}:U\to I$ be in $\phi/I$ if the projection is a regular epimorphism.
Definition 11. A $\lambda$-term $M$ is either a variable symbol $x,y,z,\dots$ from some infinite set of variables $V$, an application $MN$ of $\lambda$-terms $M$ and $N$, or an abstraction $(\lambda x.M)$ where $x$ is a variable symbol and $M$ is a $\lambda$-term. The set of all $\lambda$-terms is $\Lambda$. Substitution is the following operation on $\lambda$-terms. For all variable symbols $x,y$ with $x\neq y$ and all $\lambda$-terms $M,N,P$: $\displaystyle(\lambda x.M)[P/y]$ $\displaystyle=\lambda x.(M[P/y])$ $\displaystyle x[P/y]$ $\displaystyle=x$ $\displaystyle(MN)[P/y]$ $\displaystyle=(M[P/y])(N[P/y])$ $\displaystyle(\lambda y.M)[P/y]$ $\displaystyle=\lambda y.M$ $\displaystyle y[P/y]$ $\displaystyle=P$ The $\beta\eta$-conversion relation is the least preorder $\mathrel{\to}_{\beta\eta}$ on $\lambda$-terms that satisfies: • stability: if $M\mathrel{\to}_{\beta\eta}N$, then $M[P/x]\mathrel{\to}_{\beta\eta}N[P/x]$; • costability: if $M\mathrel{\to}_{\beta\eta}N$, then $P[M/x]\mathrel{\to}_{\beta\eta}P[N/x]$; • adjunction: $Mx\mathrel{\to}_{\beta\eta}N$ if and only if $M\mathrel{\to}_{\beta\eta}\lambda x.N$.
Definition 39. Let $(A,\cdot)$ be a partial applicative structure and let $\phi$ be a combinatory complete filter. Let ${\mathring{A}}$ be the diagonal assembly $(A,{\left\langle(a,a)\mathord{:}A\times A|a\mathord{:}A\right\rangle})$.
Definition 22. The following operators construct assemblies with useful properties. • For every object $X$ of $\mathcal{B}$, $\nabla X=(X,A\times X)$. Assemblies of this form have the property that each morphism $\mathrm{U}Y\to X$ determines a $\phi$-total morphism $Y\to\nabla X$. In particular $\mathrm{id}_{\mathrm{U}Y}:Y\to\nabla\mathrm{U}Y$ is $\phi$-total for each assembly $Y$. • For every assembly $Y$ and every $f:X\to\mathrm{U}Y$ let: $f^{*}(Y)=(X,(\mathrm{id}_{A}\times f)^{-1}(\rho_{Y}))$ The important property of this construction is that $f\circ g:W\to Y$ is $\phi$-total if and only if $g:W\to f^{*}(Y)$ is. The reason is that if $R\in\phi$ tracks one, it automatically also tracks the other. • For every assembly $X$ and every regular epimorphism $e:\mathrm{U}X\to Y$ let: $e_{*}(X)=(Y,\exists_{(\mathrm{id}_{A}\times f)}(\rho_{X}))$ This construction is dual to the last: its property is that $f\circ e:X\to Z$ is $\phi$-total if and only if $f:e_{*}(X)\to Z$ is. The reason that this only works for regular epimorphisms, is that each assembly $Y$ has to satisfy $\mathcal{B}\models\forall x\mathord{:}\mathrm{U}Y.\exists a\mathord{:}A.\rho_{Y}$. Note that $e_{*}e^{*}(Y)=Y$: because $\mathrm{id}_{A}\times e$ is a regular epimorphism, $\exists_{(\mathrm{id}_{A}\times e)}\circ(\mathrm{id}_{A}\times e)^{-1}=\mathrm% {id}_{\mathsf{Sub}(\mathrm{U}Y)}$. Also note that if $f\circ e^{\prime}=e\circ f^{\prime}$ is a pullback square in $\mathcal{B}$, then $e^{\prime}_{*}\circ(f^{\prime})^{*}=f^{*}\circ e_{*}$ because of the Beck-Chevalley condition in $\mathcal{B}$. $\xymatrix{\bullet\ar[r]^{f^{\prime}}\ar[d]_{e^{\prime}}\ar@{}[dr]|<\lrcorner&% \bullet\ar[d]^{e}\ar@{}[drr]|\Longrightarrow&&\bullet\ar[d]_{e^{\prime}_{*}}&% \bullet\ar[l]_{(f^{\prime})^{*}}\ar[d]^{e_{*}}\\ \bullet\ar[r]_{f}&\bullet&&\bullet&\bullet\ar[l]^{f^{*}}}$ • For every pair of assemblies $Y$ and $Y^{\prime}$ for which $\mathrm{U}Y=\mathrm{U}Y^{\prime}=X$ let: $Y\otimes_{X}Y^{\prime}=\left(X,{\left\langle(a,x)\mathord{:}A\times X\middle|% \begin{array}[]{l}\forall k\mathord{:}\left[\!\left[\lambda x,y.x\right]\!% \right].a\cdot k\mathord{\downarrow},(a\cdot k,x)\mathord{:}\rho_{Y},\\ \forall l\mathord{:}\left[\!\left[\lambda x,y.y\right]\!\right].a\cdot l% \mathord{\downarrow},(a\cdot l,x)\mathord{:}\rho_{Y^{\prime}}\end{array}\right% \rangle}\right)$ In this case, $Y\otimes_{X}Y^{\prime}$ is the pullback of the canonical morphisms $\mathrm{id}_{X}:Y\to\nabla\mathrm{U}Y$ and $\mathrm{id}_{X}:Y^{\prime}\to\nabla\mathrm{U}Y^{\prime}$ for the following reasons. The morphisms $\mathrm{id}_{X}:Y\otimes_{X}Y^{\prime}\to Y$ and $\mathrm{id}_{X}:Y\otimes_{X}Y^{\prime}\to Y$ are $\phi$-total because $\left[\!\left[\lambda x.x(\lambda y,z.y)\right]\!\right]$ and $\left[\!\left[\lambda x.x(\lambda y,z.z)\right]\!\right]\in\phi$. Of each pair of $\phi$-total morphisms $p:Z\to Y$ and $q:Z\to Y^{\prime}$ such that $\mathrm{id}_{\mathrm{U}Y}\circ p=\mathrm{id}_{\mathrm{U}Y}\circ q$ the underlying maps are equal. Finally, if $U\in\phi$ tracks $p:Z\to Y$ and $V\in\phi$ tracks $p:Z\to Y^{\prime}$, then $\left[\!\left[\lambda xy.y(Ux)(Vx)\right]\!\right]$ tracks $p:Z\to Y\otimes_{X}Y^{\prime}$. Note that for each $f:W\to X$, $f^{*}(Y\otimes_{X}Y^{\prime})=f^{*}(Y)\otimes_{W}f^{*}(X)$.
Definition 2 (Heyting category). Let $\mathcal{C}$ be any category. For each object $X$ of $\mathcal{C}$, a subobject is an isomorphism class of monomorphisms into $X$. Factorization induces a partial order $\subseteq$ on subobjects. The poset of all subobject is $\mathsf{Sub}(X)$. If $\mathcal{C}$ has all pullbacks, then for each morphism $f:X\to Y$ pulling back monics induces a function $f^{-1}:\mathsf{Sub}(Y)\to\mathsf{Sub}(X)$ called the inverse image map. A Heyting category is a category where the poset of subobjects $\mathsf{Sub}(X)$ is a Heyting algebra for each object $X$ and where the inverse image map of each arrow is a homomorphism of Heyting algebras which has both adjoints. This means that • for each object $X$, $\mathsf{Sub}(X)$ has finitary joins ($\emptyset,\cup$), finitary meets ($X,\cap$) that distribute over joins and a map $d:\mathsf{Sub}(X)\times\mathsf{Sub}(X)\to\mathsf{Sub}(X)$ that satisfies $x\cap y\subseteq z$ if and only if $x\subseteq d(y,z)$; • for each morphism $f:X\to Y$, $f^{-1}$ preserves $d$ and there are $\forall_{f},\exists_{f}:\mathsf{Sub}(X)\to\mathsf{Sub}(Y)$ such that $x\subseteq\forall_{f}(y)$ if and only if $f^{-1}(x)\subseteq y$ and $\exists_{f}(x)\subseteq y$ if and only if $x\subseteq f^{-1}(y)$; • the adjoints satisfy the Beck-Chevalley condition: if $f\circ g^{\prime}=g\circ f^{\prime}$ is a pullback square, then $\exists_{g^{\prime}}\circ(f^{\prime})^{-1}=f^{-1}\circ\exists_{g}$ and $\forall_{g^{\prime}}\circ(f^{\prime})^{-1}=f^{-1}\circ\forall_{g}$. $\xymatrix{\bullet\ar[r]^{f^{\prime}}\ar[d]_{g^{\prime}}\ar@{}[dr]|<\lrcorner&% \bullet\ar[d]^{g}\ar@{}[drr]|\Longrightarrow&&\bullet\ar[d]_{\exists_{g^{% \prime}}}&\bullet\ar[l]_{(f^{\prime})^{-1}}\ar[d]^{\exists_{g}}\\ \bullet\ar[r]_{f}&\bullet&&\bullet&\bullet\ar[l]^{f^{-1}}}$
Definition 35 (Prone). An arrow $p:X\to Y$ is prone (or Cartesian) if for each $f:Z\to Y$ such that $Uf=Up\circ g$ for some $g:UZ\to UX$, there is a unique $h:Z\to X$ such that $p\circ h=f$ and $Uh=g$.
Definition 3. First order logic defines subobjects of objects in Heyting categories. I regularly exploit this in the definitions below. The following notation sets the formulas and subobjects of the internal language apart form the formulas and sets of the metalanguage: • For $u\in\mathsf{Sub}(X)$, is the related predicate is denoted $x\mathord{:}u$. • For each formula $\chi$ with no other free variables than $x$ of type $X$, ${\left\langle x\mathord{:}X|\chi(x)\right\rangle}$ defines the related subobject of $X$.
Definition 45. For each $f:X\to Y$ in $\mathsf{Asm}(\mathcal{B},(A,\cdot),\phi)$ let $Gf$ be the unique morphism $h:GX\to GY$ that satisfies $h\circ g_{X}=g_{Y}\circ h$.
Definition 14. Let $V$ be enumerated: $V=\left\{x_{0},x_{1},x_{2},\dots\right\}$. For each $\lambda$-term $M$ the set of free variables $\mathrm{FV}(M)$ is defined as follows: $\mathrm{FV}(x)=x,\quad\mathrm{FV}(MN)=\mathrm{FV}(M)\cup\mathrm{FV}(N),\quad% \mathrm{FV}(\lambda x.M)=\mathrm{FV}(M)-\left\{x\right\}$ For each $\lambda$-term $M$ let $\#M$ be the greatest $i$ such that $x_{i}\in\mathrm{FV}(M)$, or $-1$ if $\mathrm{FV}(M)=\emptyset$. For each $n\in\mathbb{N}$ interpret the $\lambda$-terms $M$ with $\#M<n$ as follows: $\displaystyle\left[\!\left[x_{i}\right]\!\right]_{n}$ $\displaystyle={\left\langle(\vec{a},a_{i})\mathord{:}A^{n}\times A|\vec{a}% \mathord{:}A^{n}\right\rangle}$ $\displaystyle\left[\!\left[MN\right]\!\right]_{n}$ $\displaystyle=\alpha_{A^{n}}(\left[\!\left[M\right]\!\right]_{n})_{*}(\left[\!% \left[N\right]\!\right]_{n})$ $\displaystyle={\left\langle(\vec{a},d)\mathord{:}A^{n}\times A|\exists(\vec{a}% ,b)\mathord{:}\left[\!\left[M\right]\!\right]_{n},(\vec{a},b)\mathord{:}\left[% \!\left[N\right]\!\right]_{n}.b\cdot c\mathord{\downarrow}\to b\cdot c=d\right\rangle}$ $\displaystyle\left[\!\left[\lambda x_{i}.M\right]\!\right]_{n}$ $\displaystyle=\lambda_{A^{n}}(\left[\!\left[M[x_{n}/x_{i}]\right]\!\right]_{n+% 1})$
Definition 25. Subobjects are isomorphism classes of monomorphisms by definition 2. For each subobject $U$ let $E_{X}:\mathsf{Sub}(X)\to\mathsf{Sub}(A\times\mathrm{U}X)$ satisfy $E_{X}(U)=\exists_{(\mathrm{id}_{A}\times\mu_{U})}(\rho_{X_{U}})\in\mathsf{Sub}% (A\times\mathrm{U}X)$ Here $\mu_{U}:X_{U}\to X$ is the monomorphism in $U$ chosen in definition 4.
Definition 1. An assembly is a pair $(X,\alpha)$ where $X$ is a set and $\alpha$ is a function $X\to\mathbf{P}\mathbb{N}$ valued in nonempty subsets of $\mathbb{N}$. Let $(X,\alpha)$ and $(Y,\beta)$ be two assemblies. A total morphism $(X,\alpha)\to(Y,\beta)$ is a function $f:X\to Y$ which has a partial recursive $g:\mathbb{N}\rightharpoonup\mathbb{N}$ such that for each $x\in X$ and $n\in\alpha(x)$, $n$ is in the domain $\mathrm{dom}g$ of $g$ and $g(n)\in\beta(f(x))$. Assemblies and total morphisms together form the category $\mathsf{Asm}$ of assemblies.
Definition 20. For each $f:X\to Y$ in a regular category, and each monic $m:W\to X$, $f\circ m$ factors into a regular epimorphism followed by a monomorphism in an up to isomorphism unique way. Since this factorization preserves isomorphisms between monomorphisms, it induces a function $\mathsf{Sub}(X)\to\mathsf{Sub}(Y)$, which equals the direct image map in Heyting categories. Hence I denote it by $\exists_{f}$.
Definition 6 (Filter). Let $\mathcal{B}$ be a Heyting category and let $A$ be a partial applicative structure in $\mathcal{B}$. A filter is a subset $\phi\subseteq\mathsf{Sub}(A)$ with the following properties. • If $U\in\phi$, then $U$ is inhabited, i.e. the canonical map form $A_{U}$ to the terminal object $1$ is a regular epimorphism. • If $U\in\phi$ and $U\subseteq V$, then $V\in\phi$. • If $U,V\in\phi$ and $U\times V\subseteq\mathrm{dom}(\cdot)$ – the domain of the application operator – then $\exists_{(\cdot)}(U\times V)\in\phi$. Here $U\times V$ is actually $\pi_{0}^{-1}(U)\cap\pi_{1}^{-1}(V)$ where $\pi_{0},\pi_{1}:A\times A\to A$ are the projection maps.
Definition 9 (Partial combinatory algebras). A partial combinatory algebra is a partial applicative structure $(A,\cdot)$ with inhabited $\mathbf{k},\mathbf{s}\in\mathsf{Sub}(A)$ that satisfy: • for all $k\in\mathbf{k}$ and $x,y\in A$, $(k\cdot x)\cdot y=x$. • for all $s\in\mathbf{s}$ and $x,y\in A$, $(s\cdot x)\cdot y$ is defined. • for all $s\in\mathbf{s}$ and $x,y,z\in A$, if $(x\cdot z)\cdot(y\cdot z)$ is defined then $((s\cdot x)\cdot y)\cdot z=(x\cdot z)\cdot(y\cdot z)$.
Definition 7 (Computable). Let $\mathcal{B}$ be a Heyting category, let $A$ be a partial applicative structure in $\mathcal{B}$ and let $\phi$ be a filter on $A$. For each $n\in\mathbb{N}$ an $n$-ary partial morphism $f:A^{n}\rightharpoonup A$ is $\phi$-computable if there is an $R\in\phi$ such that • for all $r\in F$ and $\vec{x}\in A^{n-1}$, $((r\cdot x_{1})\dotsm x_{n-1})$ is defined • for all $r\in F$ and $\vec{y}\in\mathrm{dom}f$, $((r\cdot y_{1})\dotsm y_{n})$ is defined and equal to $f(\vec{y})$ Both of these statements should be interpreted in the internal language of $\mathcal{B}$. Therefore let $a_{1}:A\to A$ be the identity and let $a_{n+1}:A^{n+1}\rightharpoonup A$ for $n>0$ satisfy: $\mathrm{dom}(a_{n+1})=(a_{n}\times\mathrm{id})^{-1}(\mathrm{dom}(\cdot)),\quad a% _{n+1}=(\cdot)\circ(a_{n}\times\mathrm{id})$ The reformulation is: • $F\times A^{n+1}\subseteq\mathrm{dom}(a_{n})$ • $F\times\mathrm{dom}f\subseteq\mathrm{dom}(a_{n+1})$ and $a_{n+1}$ restricts to $f\circ\pi_{1\dotsc n}$ where $\pi_{1\dotsc n}$ is the projection $F\times\mathrm{dom}f\to\mathrm{dom}f$
Definition 16. A $\lambda$-term with constants is a $\lambda$-term which besides variables has elements of $\mathsf{Sub}(A)$ as atomic subterms. The set of $\lambda$-terms with constants is $\Lambda_{\mathsf{Sub}(A)}$. For $U\in\mathsf{Sub}A$, let $\mathrm{FV}(U)=\emptyset$ and for each $n\in\mathbb{N}$ let $\left[\!\left[U\right]\!\right]_{n}=A^{n}\times U$.
Definition 4 (Representative monomorphisms). There is little harm in only considering small categories, because by Gödels completeness theorem there are small models of set theory. This makes $\mathsf{Sub}(X)$ a large set of large sets instead of a proper class of proper classes. The advantage is that for each small category with finite limits, there is a function that chooses for each object $X$ and each subobject $U\in\mathsf{Sub}(X)$ a monomorphism $\mu_{U}:X_{U}\to X$ by the axiom of choice. Such representative monomorphisms figure in proofs throughout this paper.
Definition 8 (Combinatory completeness). Let $\mathcal{B}$ be a Heyting category, let $A$ be a partial applicative structure in $\mathcal{B}$ and let $\phi$ be a filter on $A$. The filter $\phi$ is combinatory complete if all projections $\vec{x}\mapsto x_{i}:A^{n}\to A$ are $\phi$-computable and if $\phi$-computable maps are closed under pointwise applications, i.e. if $f:A^{n}\rightharpoonup A$ and $g:A^{n}\rightharpoonup A$ are $\phi$-computable, then $(\cdot)\circ(f,g):A^{n}\rightharpoonup A$ defined on $(f,g)^{-1}(\mathrm{dom}(\cdot))$ is $\phi$-computable too.
Definition 19 (Regular). Let $\mathcal{C}$ be a category with finite limits. A kernel pair of a morphism $f:X\to Y$ in $\mathcal{C}$ is a pair of morphism $p,q:W\to X$ such that $f\circ p=f\circ q$ is a pullback square. $\xymatrix{W\ar[r]^{p}\ar[d]_{q}\ar@{}[dr]|<\lrcorner&X\ar[d]^{f}\\ X\ar[r]_{f}&Z}$ A regular epimorphism is a morphism that is the coequalizer of its own kernel pair. A $\mathcal{C}$ is regular if regular epimorphisms are stable under pullback and if each kernel pair has a coequalizer. A functor between regular categories is regular if it preserves finite limits and regular epimorphisms.
Definition 31 (Realizability). I recursively define the formula $a\mathrel{\bf r}p$, where $p$ is a formula of the internal language of $\mathsf{Asm}(\mathcal{B},(A,\cdot),\phi)$ and $a$ is a variable symbol of type $A$. This is called the realizability relation. For readability, let $\mathbf{0}=\left[\!\left[\lambda x,y.x\right]\!\right],\mathbf{1}=\left[\!% \left[\lambda x,y.y\right]\!\right],A_{2}={\left\langle a\mathord{:}A|\forall k% \mathord{:}\mathbf{0}\cup\mathbf{1}.a\cdot k\mathord{\downarrow}\right\rangle}$ The following clauses define the realizability relation. $\displaystyle(a\mathrel{\bf r}t=s)\iff$ $\displaystyle t=s$ $\displaystyle(a\mathrel{\bf r}\top)\iff$ $\displaystyle\top$ $\displaystyle(a\mathrel{\bf r}\bot)\iff$ $\displaystyle\bot$ $\displaystyle(a\mathrel{\bf r}p\land q)\iff$ $\displaystyle a\mathord{:}A_{2}\land\forall k\mathord{:}\mathbf{0}.(a\cdot k% \mathrel{\bf r}p)\land\forall l\mathord{:}\mathbf{1}.(a\cdot l\mathrel{\bf r}q)$ $\displaystyle(a\mathrel{\bf r}p\vee q)\iff$ $\displaystyle(a\mathord{:}A_{2}\land(\forall k\mathord{:}\mathbf{0}.a\cdot k% \mathord{:}\mathbf{0})\land(\forall l\mathord{:}\mathbf{1}.(a\cdot l\mathrel{% \bf r}p)))\vee$ $\displaystyle(a\mathord{:}A_{2}\land(\forall k\mathord{:}\mathbf{0}.a\cdot k% \mathord{:}\mathbf{0})\land(\forall l\mathord{:}\mathbf{1}.(a\cdot l\mathrel{% \bf r}p)))$ $\displaystyle(a\mathrel{\bf r}p\to q)\iff$ $\displaystyle\forall b\mathord{:}A.(b\mathrel{\bf r}p)\to a\cdot b\mathord{% \downarrow}\land(a\cdot b\mathrel{\bf r}q)$ $\displaystyle(a\mathrel{\bf r}\exists x\mathord{:}X.p)\iff$ $\displaystyle a\mathord{:}A_{2}\land\exists x\mathord{:}\mathrm{U}X.\forall k% \mathord{:}\mathbf{0}.(a\cdot k,x)\mathord{:}\rho_{X}\land\forall l\mathord{:}% \mathbf{1}.(a\cdot l\mathrel{\bf r}p)$ $\displaystyle(a\mathrel{\bf r}\forall x\mathord{:}X.p)\iff$ $\displaystyle\forall b\mathord{:}A,x\mathord{:}\mathrm{U}X.(b,x)\mathord{:}% \rho_{X}\to a\cdot b\mathord{\downarrow}\land(a\cdot b\mathrel{\bf r}p)$ The realizability of atomic relations, which come form subobjects $U\subseteq X$ in $\mathsf{Asm}(\mathcal{B},(A,\cdot),\phi)$ is determined by a choice between the representations that $U$ has in $[\emptyset,\rho_{X}]$. For the chosen $V\subseteq A\times\mathrm{U}X$ realizability is defined as follows: $a\mathrel{\bf r}x\mathord{:}U\iff(a,x)\mathord{:}V$ The realizability interpretation satisfies a proposition $p$ if ${\left\langle a\mathord{:}A|a\mathrel{\bf r}p\right\rangle}\in\phi$.
Definition 12. Form now on, let $x\cdot y\mathord{\downarrow}$ stand for $(x,y)\mathord{:}\mathrm{dom}(\cdot)$. For each object $X$ of $\mathcal{B}$ and each $U\in\mathsf{Sub}(X\times A)$ and $V\in\mathsf{Sub}(X\times A\times A)$ let $\displaystyle\alpha_{X}(U)$ $\displaystyle={\left\langle(x,c,d)\mathord{:}A^{n}\times A\times A|\exists(x,b% )\mathord{:}U.b\cdot c\mathord{\downarrow}\to b\cdot c=d\right\rangle}$ $\displaystyle\lambda_{X}(V)$ $\displaystyle={\left\langle(x,b)\mathord{:}A^{n}\times A|\forall c\mathord{:}A% .b\cdot c\mathord{\downarrow}\to(x,c,b\cdot c)\mathord{:}V\right\rangle}$
Definition 43. For each assembly $X$, let $\Xi(X)={\left\langle x\mathord{:}F\mathrm{U}X|\exists c\mathord{:}C.(c,x)% \mathord{:}F_{A\times\mathrm{U}X}(\rho_{X})\right\rangle}$ Let $GX$ be $F\mathrm{U}X_{\Xi(X)}$ and let $g_{X}=\mu_{\Xi(X)}:GX\to F\mathrm{U}X$ ($\mu$ from definition 4).
Definition 24. For each object $X$ of $\mathcal{B}$ and $U,V\in\mathsf{Sub}(A\times X)$, let $h_{X}(U,V)={\left\langle a\mathord{:}R|\forall(b,x)\mathord{:}U.a\cdot b% \mathord{\downarrow},(a\cdot b,x)\mathord{:}V\right\rangle}$ Let $U\mid\joinrel\stackrel{{\scriptstyle\mathbf{r}}}{{=}}V$ if $h_{X}(U,V)\in\phi$.
Definition 3.3. The $\tau$-twisted linearization of the groupoid $H\,{\backslash}\hskip-2.5pt{\backslash}\hskip 0.6ptG$, denoted by ${[H\,{\backslash}\hskip-2.5pt{\backslash}\hskip 0.6ptG,\mathrm{vect}_{\mathbb{% C}}]}^{\tau}$, is the following category. An object of ${[H\,{\backslash}\hskip-2.5pt{\backslash}\hskip 0.6ptG,\mathrm{vect}_{\mathbb{% C}}]}^{\tau}$ consists of • A finite-dimensional vector space $V_{\gamma}$ for each $\gamma\,{\in}\,G$. • For each $h\,{\in}\,H$ a linear map $\rho_{h}\colon V_{\gamma}\,{\to}\,V_{h.\gamma}$ such that the composition law of the $H$-action is realized projectively, i.e. up to the scalar factor $\tau(h_{1},h_{2};\gamma)\,{\in}\,{\mathbb{C}^{\times}}$. Diagrammatically, $\xymatrix@R+17pt{&V_{h_{2}.\gamma}\ar^{\rho_{h_{1}}}[dr]\ar@{=>}^{\,% \begin{turn}{270.0}~{}\scriptstyle\tau(h_{1},h_{2};\gamma)\end{turn}}[d]&\\ V_{\gamma}\ar^{\rho_{h_{2}}}[ur]\ar_{\rho_{h_{1}h_{2}}}[rr]&&V_{h_{1}h_{2}.% \gamma}}$ As a formula, $\rho_{h_{1}h_{2}}=\tau(h_{1},h_{2};\gamma)\,\rho_{h_{1}}\,\rho_{h_{2}}\,.$ Morphisms of ${[H\,{\backslash}\hskip-2.5pt{\backslash}\hskip 0.6ptG,\mathrm{vect}_{\mathbb{% C}}]}^{\tau}$ are $G$-homogeneous maps commuting with the $H$-action.
Definition 6. A protogroup [45] is a pomonoid $(X,\leq,{}^{*}(-),(-)^{*})$ where ${}^{*}(-):X\to X$ and $(-)^{*}:X\to X$ are such that: • $\forall a,b\in X:a\cdot{}^{*}a\leq 1$ and $b^{*}\cdot b\leq 1$ .
Definition 10. A pregroup [45] is a pomonoid $(X,\leq,(-)^{*},{}^{*}(-))$ where $(-)^{*}:X\to X$ and ${}^{*}(-):X\to X$ are such that: • $a\cdot{}^{*}a\leq 1\leq{}^{*}a\cdot a$ , $b^{*}\cdot b\leq 1\leq b\cdot b^{*}$ .
Definition 11. A strict symmetric monoidal category ${\cal S}$ consists of: • a collection (typically a ‘class’) of things/systems $|{\cal S}|$ , • with a monoid structure $(S,\otimes,1)$ thereon, and for each pair $S,S^{\prime}\in|{\cal S}|$ • a collection (typically a ‘set’) of processes ${\cal S}(S,S^{\prime})$ , with two unital associative composition structures: • $\forall S,S^{\prime},S^{\prime\prime}\in|{\cal S}|$, $(-\circ-):{\cal S}(S,S^{\prime})\times{\cal S}(S^{\prime},S^{\prime\prime})\to% {\cal S}(S,S^{\prime\prime})$ , • $\forall S,S^{\prime},S^{\prime\prime},S^{\prime\prime\prime}\in|{\cal S}|$, $(-\circ-):{\cal S}(S,S^{\prime})\times{\cal S}(S^{\prime\prime},S^{\prime% \prime\prime})\to{\cal S}(S\otimes S^{\prime\prime},S^{\prime}\otimes S^{% \prime\prime\prime})$ . We denote ${\cal S}(S,S^{\prime})$ also as $f:S\to S^{\prime}$. Explicitly, associativity and unitality are: • $\forall f:S\to S^{\prime},g:S^{\prime}\to S^{\prime\prime},h:S^{\prime\prime}% \to S^{\prime\prime\prime}$ we have $(h\circ g)\circ f=h\circ(g\circ f)$ , • $\forall f:S\to S^{\prime},g:S^{\prime\prime}\to S^{\prime\prime\prime},h:S^{% \prime\prime\prime\prime}\to S^{\prime\prime\prime\prime\prime}$ we have $(f\otimes g)\otimes h=f\otimes(g\otimes h)$ , • $\forall S\in|{\cal S}|$ there exists an identity process $1_{S}:S\to S$ which is such that for all $f:S^{\prime}\to S,g:S\to S^{\prime}$ we have that $1_{S}\circ f=f$ and $g\circ 1_{S}=g$ , • there exists an identity system ${\rm I}\in|{\cal S}|$ which is such that for all $S\in|{\cal S}|$ we have that ${\rm I}\otimes S=S\otimes{\rm I}=S$. These composition structures moreover interact bifunctorialy, that is: • $\forall f:S\to S^{\prime},f^{\prime}:S^{\prime}\to S^{\prime\prime},g:S^{% \prime\prime\prime}\to S^{\prime\prime\prime\prime},g^{\prime}:S^{\prime\prime% \prime\prime}\to S^{\prime\prime\prime\prime\prime}$ we have that: $(f^{\prime}\circ f)\otimes(g^{\prime}\circ g)=(f^{\prime}\otimes g^{\prime})% \circ(f\otimes g)\ ,$ • $\forall S,S^{\prime}\in|{\cal S}|$ we have that: $1_{S}\otimes 1_{S^{\prime}}=1_{S\otimes S^{\prime}}\ .$ Finally, we assume symmetry , that is, • $\forall S,S^{\prime}\in|{\cal S}|$ there exists a symmetry process $\sigma_{S,S^{\prime}}:S\otimes S^{\prime}\to S^{\prime}\otimes S$, and these are such that for all $f:S\to S^{\prime},g:S^{\prime\prime}\to S^{\prime\prime\prime}$ we have that: $\sigma_{S^{\prime},S^{\prime\prime\prime}}\circ(f\otimes g)=(g\otimes f)\circ% \sigma_{S,S^{\prime\prime}}\ .$
Definition 8. A residuated pomonoid [44] is a pomonoid $(X,\leq,(-\multimap-),(-\multimapinv-))$ such that for all $a,b\in X$ we have two Galois adjunctions: $(a\cdot-)\dashv(a\multimap-)\quad\mbox{\rm and}\quad(-\cdot b)\dashv(-% \multimapinv b)\ ,$ that is, explicitly: • $\forall a,b,c\in X:b\leq a\multimap c\Leftrightarrow a\cdot b\leq c% \Leftrightarrow a\leq c\multimapinv b$ , or, equivalently, using the alternative characterization of the adjunctions: • $\forall a,b,c\in X:a\cdot(a\multimap c)\leq c\ \mbox{,}\ c\leq a\multimap(a% \cdot c)\ \mbox{,}\ (c\multimapinv b)\cdot b\leq c\ \mbox{,}\ c\leq(c\cdot b)\multimapinv b$ .
Definition 4. A monoid is a set $X$ together with a binary operation $\cdot:X\times X\to X$ which is both associative and admits a two-sided unit $1\in X$, that is, respectively: • $\forall x,y,z\in X:x\cdot(y\cdot z)=(x\cdot y)\cdot z$ • $\forall x\in X:1\cdot x=x\cdot 1=x$ A totally/partially/preordered monoid is a set $X$ which is both a monoid and a total/partial/pre-order, and which moreover satisfies monotonicity of the monoid multiplication: • $\forall x,y,x^{\prime},y^{\prime}\in X:x\lesssim y,x^{\prime}\lesssim y^{% \prime}\Rightarrow x\cdot x^{\prime}\lesssim y\cdot y^{\prime}$
Definition 1. A total ordering on a set $X$ is a relation $\leq$ on $X$, i.e. a collection of pairs $(x,y)\subseteq X\times X$ which is anti-symmetric, transitive and total, that is, respectively, • $\forall x,y\in X:x\leq y,y\leq x\Rightarrow x=y$ • $\forall x,y,z\in X:x\leq y,y\leq z\Rightarrow x\leq z$ • $\forall x,y,z\in X:x\leq y$ or $y\leq x$
Definition 5. For two order-preseving maps $f:A\to B$ and $g:B\to A$ between partially ordered sets $(A,\leq)$ and $(B,\leq)$ we say that $f$ is left adjoint to $g$ (or equivalently, that $g$ is right adjoint to $f$), denoted $f\dashv g$, if we have that: • $\forall a\in A,b\in B:f(a)\leq b\Leftrightarrow a\leq g(b)$ , or what is easily seen to be equivalent [30], if we have that: • $\forall b\in B:f(g(b))\leq b$ and $\forall a\in A:a\leq g(f(a))$ .
Definition 2. A preordering on $X$ is a transitive relation $\lesssim$ which is also reflexive, that is, • $\forall x\in X:x\lesssim x$ A partial ordering is an anti-symmetric preordering, and denoted $\leq$.
Definition 9. A Grishin pomonoid [33] is a residuated pomonoid $(X,\leq,(-\multimap-),(-\multimapinv-),0)$ with a special element $0\in X$ which is such that: • $0\multimapinv(a\multimap 0)=a=(0\multimapinv a)\multimap 0$ .
Definition 7. An Ajdukiewicz-Bar-Hillel pomonoid [3, 7] is a pomonoid $(X,\leq,(-\multimap-),(-\multimapinv-))$ where $(-\multimap-):X\times X\to X$ and $(-\multimapinv-):X\times X\to X$ are such that: • $\forall a,b,c\in X:a\cdot(a\multimap c)\leq c$ and $(c\multimapinv b)\cdot b\leq c$ .
Definition 3. Given a partial ordering $(X,\leq)$, a subset $Y\subseteq X$ has a least upper bound (or join) if there is an element $x\in X$ which is such that: • $\forall y\in Y:y\leq x$ • $\forall x^{\prime}\in X:(\forall y\in Y:y\leq x^{\prime})\Rightarrow x\leq x^{\prime}$ . In this case we denote this element $x$ as $\bigvee Y$. A greatest lower bound (or meet) $\bigwedge Y$ of $Y\subseteq X$ is defined similarly simply by replacing $\alpha\leq\beta$ by $\beta\leq\alpha$ in the above.
3.29 Definition Let $(G,+,0)$ be a partial (abelian) monoid as in Definition 1.15. A partial cone structure on $G$ is an operation $[0,1]\times G\to G$, $(r,g)\mapsto rg$ such that for $g,h\in G$ and $s,t\in[0,1]$: (a) $0g=0\in G$; (b) $1g=g$; (c) $s(g+h)=sg+sh$ when either of the two sides is defined; (d) $(s+t)g=sg+tg$ when $s+t\leq 1$; (e) $(st)g=s(tg)$. $\blacklozenge$
1.7 Definition For a $W^{*}$-algebra $M$, a sheaf on $M$ is a sheaf in the sense of Definition 1.1 on the sketch ${\mathcal{C}}_{M}$. $\blacklozenge$
