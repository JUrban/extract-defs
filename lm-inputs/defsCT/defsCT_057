Definition 2.15. We will denote by $\to$ the category consisting of two objects and one non identity morphism between them. Thus, if $\mathcal{C}$ is any category, the functor category $\mathcal{C}^{\to}$ is just the category of morphisms in $\mathcal{C}$.
Definition 2.6. Let $\mathcal{C}$ be a category, $M\subseteq Mor(\mathcal{C})$ a class of morphisms in $\mathcal{C}$, $I$ a small category, and $F:X\to Y$ a morphism in $\mathcal{C}^{I}$. Then $F$ will be called a levelwise $M$-map, if for every $i\in I$: the morphism $X_{i}\to Y_{i}$ is in $M$. We will denote this by $F\in Lw(M)$.
Definition 1.5. Let $(\mathcal{C},\mathcal{W})$ be a relative category. A map $f:A\to B$ in $\mathcal{C}$ will be called right proper, if for every pull back square of the form: $\xymatrix{C\ar[d]^{j}\ar[r]&D\ar[d]^{i}\\ A\ar[r]^{f}&B}$ s.t. $i$ is a weak equivalence, the map $j$ is also a weak equivalence.
Definition 2.12. A weak fibration category is a category ${\mathcal{C}}$ with an additional structure of two subcategories: ${\mathcal{F}},{\mathcal{W}}\subseteq{\mathcal{C}}$ that contain all the isomorphisms, such that the following conditions are satisfied: 1. ${\mathcal{C}}$ has all finite limits. 2. ${\mathcal{W}}$ has the 2 out of 3 property. 3. The subcategories ${\mathcal{F}}$ and ${\mathcal{F}}\cap{\mathcal{W}}$ are closed under base change. 4. $Mor({\mathcal{C}})={\mathcal{F}}\circ{\mathcal{W}}$. The maps in ${\mathcal{F}}$ are called fibrations, and the maps in ${\mathcal{W}}$ are called weak equivalences.
Definition 2.2. Let $\mathcal{C}$ be a category. The category $\operatorname{Pro}(\mathcal{C})$ has as objects all diagrams in $\mathcal{C}$ of the form $I\to\mathcal{C}$ s.t. $I$ is small and directed (see Definition 2.1). The morphisms are defined by the formula: $\operatorname{Hom}_{\operatorname{Pro}(\mathcal{C})}(X,Y):=\lim\limits_{s}% \mathop{\operatorname{colim}}\limits_{t}\operatorname{Hom}_{\mathcal{C}}(X_{t}% ,Y_{s}).$ Composition of morphisms is defined in the obvious way.
Definition 2.8. A category $I$ is called codirected if the following conditions are satisfied: 1. $I$ is non-empty. 2. for every pair of objects $s,t\in I$, there exists an object $u\in I$, together with morphisms $s\to u$ and $t\to u$. 3. for every pair of morphisms $f,g:s\to t$ in $I$, there exists a morphism $h:t\to u$ in $I$, s.t. $h\circ f=h\circ g$.
Definition 3.1. Let $(\mathcal{C},\mathcal{W})$ be a relative category. A map $f:A\to B$ in $\mathcal{C}$ will be called: 1. Left proper, if for every push out square of the form: $\xymatrix{A\ar[d]^{i}\ar[r]^{f}&B\ar[d]^{j}\\ C\ar[r]&D}$ s.t. $i$ is a weak equivalence, the map $j$ is also a weak equivalence. 2. Right proper, if for every pull back square of the form: $\xymatrix{C\ar[d]^{j}\ar[r]&D\ar[d]^{i}\\ A\ar[r]^{f}&B}$ s.t. $i$ is a weak equivalence, the map $j$ is also a weak equivalence. We denote by $LP$ the class of left proper maps in $\mathcal{C}$ and by $RP$ the class of right proper maps in $\mathcal{C}$.
Definition 1.1. A relative category is a pair: $(\mathcal{C},\mathcal{W})$, consisting of a category $\mathcal{C}$, and a subcategory $\mathcal{W}\subseteq\mathcal{C}$ that contains all the isomorphisms and satisfies the 2 out of 3 property. $\mathcal{W}$ is called the subcategory of weak equivalences.
Definition 3.3. Let $(\mathcal{C},\mathcal{W})$ be a relative category. Then $(\mathcal{C},\mathcal{W})$ will be said to have proper factorizations, if the following hold: 1. $Mor(\mathcal{C})=RP\circ LP$. 2. $Mor(\mathcal{C})=RP\circ\mathcal{W}$. 3. $Mor(\mathcal{C})=\mathcal{W}\circ LP$.
Definition 2.9. Let $\mathcal{C}$ be a category. The category $\operatorname{Ind}(\mathcal{C})$ has as objects all diagrams in $\mathcal{C}$ of the form $I\to\mathcal{C}$ s.t. $I$ is small and codirected (see Definition 2.8). The morphisms are defined by the formula: $\operatorname{Hom}_{\operatorname{Pro}(\mathcal{C})}(X,Y):=\lim\limits_{s}% \mathop{\operatorname{colim}}\limits_{t}\operatorname{Hom}_{\mathcal{C}}(X_{s}% ,Y_{t}).$ Composition of morphisms is defined in the obvious way.
Definition 3.12. A relative category $(\mathcal{C},\mathcal{W})$ will be called almost ind admissible, if $Lw^{\cong}(\mathcal{W})\subseteq\operatorname{Ind}(\mathcal{C})^{\to}$ satisfies the following portion of the 2-out-of-3 property: For every pair of composable morphisms in $\operatorname{Ind}(\mathcal{C})$: $X\xrightarrow{f}Z\xrightarrow{g}Y$ we have: 1. If $f,g$ belong to $Lw^{\cong}(\mathcal{W})$ then $g\circ f\in Lw^{\cong}(\mathcal{W})$. 2. If $f,g\circ f$ belong to $Lw^{\cong}(\mathcal{W})$ then $g\in Lw^{\cong}(\mathcal{W})$.
Definition 2.3. Let $p:J\to I$ be a functor between small categories. The functor $p$ is said to be (left) cofinal if for every $i$ in $I$ the over category ${p}_{/i}$ is nonempty and connected.
Definition 2.13. A relative category is a pair: $(\mathcal{C},\mathcal{W})$, consisting of a category $\mathcal{C}$, and a subcategory $\mathcal{W}\subseteq\mathcal{C}$ that contains all the isomorphisms and satisfies the 2 out of 3 property. $\mathcal{W}$ is called the subcategory of weak equivalences.
Definition 2.1. A category $I$ is called directed if the following conditions are satisfied: 1. $I$ is non-empty. 2. for every pair of objects $s,t\in I$, there exists an object $u\in I$, together with morphisms $u\to s$ and $u\to t$. 3. for every pair of morphisms $f,g:s\to t$ in $I$, there exists a morphism $h:u\to s$ in $I$, s.t. $f\circ h=g\circ h$.
Definition 2.11. Let ${\mathcal{C}}$ be category with finite limits, and let ${\mathcal{M}}\subseteq{\mathcal{C}}$ be a subcategory. We say that ${\mathcal{M}}$ is closed under base change if whenever we have a pullback square: $\xymatrix{A\ar[d]^{g}\ar[r]&B\ar[d]^{f}\\ C\ar[r]&D}$ such that $f$ is in ${\mathcal{M}}$, then $g$ is in ${\mathcal{M}}$.
Definition 3.10. A relative category $(\mathcal{C},\mathcal{W})$ will be called almost pro admissible, if $Lw^{\cong}(\mathcal{W})\subseteq Pro(\mathcal{C})^{\to}$ satisfies the following portion of the 2-out-of-3 property: For every pair of composable morphisms in $\operatorname{Pro}(\mathcal{C})$: $X\xrightarrow{f}Z\xrightarrow{g}Y$ we have: 1. If $f,g$ belong to $Lw^{\cong}(\mathcal{W})$ then $g\circ f\in Lw^{\cong}(\mathcal{W})$. 2. If $g,g\circ f$ belong to $Lw^{\cong}(\mathcal{W})$ then $f\in Lw^{\cong}(\mathcal{W})$.
Definition 2.7. Let $\mathcal{C}$ be a category, and $M\subseteq Mor(\mathcal{C})$ a class of morphisms in $\mathcal{C}$. Denote by: 1. ${}^{\perp}M$ the class of morphisms in $\mathcal{C}$ having the left lifting property w.r.t. any morphism in $M$. 2. $M^{\perp}$ the class of morphisms in $\mathcal{C}$ having the right lifting property w.r.t. any morphism in $M$. 3. $Lw^{\cong}(M)$ the class of morphisms in $\operatorname{Pro}(\mathcal{C})$ that are isomorphic to a morphism that comes from a natural transformation which is a level-wise $M$-map.
Definition 2.16. A relative category $(\mathcal{C},\mathcal{W})$ will be called: 1. pro admissible, if $Lw^{\cong}(\mathcal{W})\subseteq Pro(\mathcal{C})^{\to}$ satisfies the 2-out-of-3 property. 2. ind admissible, if $Lw^{\cong}(\mathcal{W})\subseteq Ind(\mathcal{C})^{\to}$ satisfies the 2-out-of-3 property. 3. admissible, if it both pro and ind admissible.
Definition 2.7. Let $C\in\mathcal{C}$ be any object. (1) A diagram $\xy(-28,0)*+{S[-1]}="0";(-8,0)*+{C}="2";(8,0)*+{Z_{C}}="4";(24,0)*+{S}="6";(-1% 8,-12)*+{U}="8";(-18,-5)*+{{}_{\circlearrowright}}="10";{\ar"0";"2"};{\ar^{z_{% C}}"2";"4"};{\ar"4";"6"};{\ar"0";"8"};{\ar"8";"2"};\endxy$ is called a reflection triangle if it satisfies the following. (i) $S\in\mathcal{S},U\in\mathcal{U}$. (ii) $S[-1]\to C\overset{z_{C}}{\longrightarrow}Z_{C}\to S$ is a distinguished triangle in $\mathcal{C}$. (iii) $Z_{C}\in\mathcal{C}^{+}$. (2) Dually, a diagram $\xy(-24,0)*+{V}="0";(-8,0)*+{K_{C}}="2";(8,0)*+{C}="4";(28,0)*+{V[1]}="6";(18,% -12)*+{T}="8";(18,-5)*+{{}_{\circlearrowright}}="10";{\ar"0";"2"};{\ar^{k_{C}}% "2";"4"};{\ar"4";"6"};{\ar"4";"8"};{\ar"8";"6"};\endxy$ is called a coreflection triangle if it satisfies the following. (i) $V\in\mathcal{V},T\in\mathcal{T}$. (ii) $V\to K_{C}\overset{k_{C}}{\longrightarrow}C\to V[1]$ is a distinguished triangle in $\mathcal{C}$. (iii) $K_{C}\in\mathcal{C}^{-}$.
Definition 2.1. Let $\mathcal{U},\mathcal{V}\subseteq\mathcal{C}$ be a full subcategories closed under isomorphisms, finite direct sums and summands. The pair $(\mathcal{U},\mathcal{V})$ is a cotorsion pair on $\mathcal{C}$ if it satisfies the following. (i) $\mathcal{C}=\mathcal{U}\ast\mathcal{V}[1]$. (ii) $\mathrm{Ext}^{1}(\mathcal{U},\mathcal{V})=0$. Here, $\mathcal{U}\ast\mathcal{V}[1]$ denotes the full subcategory of $\mathcal{C}$ consisting of those $C\in\mathcal{C}$ admitting a distinguished triangle $U\rightarrow C\rightarrow V[1]\rightarrow U[1]$ with $U\in\mathcal{U}$ and $V\in\mathcal{V}$.
Definition 2.3. For a twin cotorsion pair $\mathcal{P}=((\mathcal{S},\mathcal{T}),(\mathcal{U},\mathcal{V}))$ on $\mathcal{C}$, put $\displaystyle\mathcal{W}=\mathcal{U}\cap\mathcal{T}$ $\displaystyle,$ $\displaystyle\mathcal{C}^{+}=\mathcal{W}\ast\mathcal{V}[1],$ $\displaystyle\mathcal{C}^{-}=\mathcal{S}[-1]\ast\mathcal{W}$ $\displaystyle,$ $\displaystyle\mathcal{H}=\mathcal{C}^{+}\cap\mathcal{C}^{-}.$ We call the ideal quotient $\mathcal{H}/\mathcal{W}$ the heart of $\mathcal{P}$. Remark that there are inclusions of full subcategories $\xy(-16,0)*+{\mathcal{H}/\mathcal{W}}="0";(0,8)*+{\mathcal{C}^{+}/\mathcal{W}}% ="2";(0,-8)*+{\mathcal{C}^{-}/\mathcal{W}}="4";(16,0)*+{\mathcal{C}/\mathcal{W% }}="6";{\ar@{{}^{(}->}"0";"2"};{\ar@{{}^{(}->}"0";"4"};{\ar@{{}^{(}->}"2";"6"}% ;{\ar@{{}^{(}->}"4";"6"};{\ar@{}|\circlearrowright"0";"6"};\endxy.$
Definition 2.18. A twin cotorsion pair $\mathcal{P}=((\mathcal{S},\mathcal{T}),(\mathcal{U},\mathcal{V}))$ is said to be degenerated to a single cotorsion pair if it satisfies $\mathcal{S}=\mathcal{U}\quad\text{and}\quad\mathcal{T}=\mathcal{V}.$ In this case, its heart $\mathcal{H}/\mathcal{W}$ becomes an abelian category ([N1]), and the functor $H\colon\mathcal{C}\to\mathcal{H}/\mathcal{W}$ becomes cohomological ([AN]).
Definition $($Definition 3.2$)$ . Let $\mathcal{C}$ and $\mathcal{C}^{\prime}$ be triangulated categories. Let $\mathcal{P}=((\mathcal{S},\mathcal{T}),(\mathcal{U},\mathcal{V}))$ and $\mathcal{P}^{\prime}=((\mathcal{S}^{\prime},\mathcal{T}^{\prime}),(\mathcal{U}% ^{\prime},\mathcal{V}^{\prime}))$ be twin cotorsion pairs on $\mathcal{C}$ and $\mathcal{C}^{\prime}$, respectively. Let $F\colon\mathcal{C}\overset{\simeq}{\longrightarrow}\mathcal{C}^{\prime}$ be a triangle equivalence. $\mathcal{P}$ is said to be heart-equivalent to $\mathcal{P}^{\prime}$ along $F$ if there exists an equivalence of categories $E\colon\mathcal{H}/\mathcal{W}\overset{\simeq}{\longrightarrow}\mathcal{H}^{% \prime}/\mathcal{W}^{\prime}$ which makes the following diagram commutative up to a natural isomorphism. $\xy(-10,7)*+{\mathcal{C}}="0";(10,7)*+{\mathcal{C}^{\prime}}="2";(-10,-7)*+{% \mathcal{H}/\mathcal{W}}="4";(10,-7)*+{\mathcal{H}^{\prime}/\mathcal{W}^{% \prime}}="6";{\ar^{F}_{\simeq}"0";"2"};{\ar_{H}"0";"4"};{\ar^{H^{\prime}}"2";"% 6"};{\ar_{E}^{\simeq}"4";"6"};{\ar@{}|\circlearrowright"0";"6"};\endxy$
Definition 2.15. Define the functors $h$ and $H$ to be the compositions $\displaystyle h$ $\displaystyle=$ $\displaystyle\tau^{+}\tau^{-}\ =\ \big{(}\mathcal{C}/\mathcal{W}\overset{\tau^% {-}}{\longrightarrow}\mathcal{C}^{-}/\mathcal{W}\overset{\tau^{+}}{% \longrightarrow}\mathcal{H}/\mathcal{W}\big{)},$ $\displaystyle H$ $\displaystyle=$ $\displaystyle\big{(}\mathcal{C}\overset{\mathrm{quot.}}{\longrightarrow}% \mathcal{C}/\mathcal{W}\overset{h}{\longrightarrow}\mathcal{H}/\mathcal{W}\big% {)}.$ Also, let $\iota$ be the inclusion functor $\iota\colon\mathcal{H}/\mathcal{W}\hookrightarrow\mathcal{C}/\mathcal{W}.$ We have a natural isomorphism $h\circ\iota\cong\mathrm{Id}_{\mathcal{H}/\mathcal{W}}$.
Definition 2.2. Let $(\mathcal{S},\mathcal{T}),(\mathcal{U},\mathcal{V})$ be two cotorsion pairs on $\mathcal{C}$. The pair $\mathcal{P}=((\mathcal{S},\mathcal{T}),(\mathcal{U},\mathcal{V}))$ is a twin cotorsion pair on $\mathcal{C}$ if it satisfies $\mathrm{Ext}^{1}(\mathcal{S},\mathcal{V})=0$. Note that this condition is equivalent to $\mathcal{S}\subseteq\mathcal{U}$, and also to $\mathcal{V}\subseteq\mathcal{T}$.
Definition 3.2. Let $\mathcal{C},\mathcal{C}^{\prime}$ and $\mathcal{P},\mathcal{P}^{\prime}$ be as above, and let $F\colon\mathcal{C}\overset{\simeq}{\longrightarrow}\mathcal{C}^{\prime}$ be a triangle equivalence. $\mathcal{P}$ is said to be heart-equivalent to $\mathcal{P}^{\prime}$ along $F$ if there exists an equivalence of categories $E\colon\mathcal{H}/\mathcal{W}\overset{\simeq}{\longrightarrow}\mathcal{H}^{% \prime}/\mathcal{W}^{\prime}$ which makes the following diagram commutative up to a natural isomorphism. $\xy(-10,7)*+{\mathcal{C}}="0";(10,7)*+{\mathcal{C}^{\prime}}="2";(-10,-7)*+{% \mathcal{H}/\mathcal{W}}="4";(10,-7)*+{\mathcal{H}^{\prime}/\mathcal{W}^{% \prime}}="6";{\ar^{F}_{\simeq}"0";"2"};{\ar_{H}"0";"4"};{\ar^{H^{\prime}}"2";"% 6"};{\ar_{E}^{\simeq}"4";"6"};{\ar@{}|\circlearrowright"0";"6"};\endxy$ Remark that this notion of a heart-equivalence is an equivalence relation, in an obvious sense.
Definition 14. A symmetric Leibniz pseudoalgebra is a Leibniz pseudoalgebra $({\cal E},[-,$ $-],a)$ over some $(R,{\cal A})$, such that (26) and (27), or, equivalently, (28) and (29), are satisfied for all $f\in{\cal A}$ and all $X,Y,Z\in{\cal E}$. We denote by ${\tt SymLeiPsAlg}$ $\,(R,{\cal A})$ $\subset$ ${\tt LeiPsAlg}\,(R,{\cal A})$ the full subcategory of symmetric Leibniz pseudoalgebras.
Definition 7. Let $({\cal E}_{1},[-,-],a)$ be a Leibniz pseudoalgebra over $(R,{\cal A})$. A module over the Leibniz pseudoalgebra ${\cal E}_{1}$ is an ${\cal A}$-module ${\cal E}_{2}$ (hence an $R$-module), which is a module over the Leibniz $R$-algebra ${\cal E}_{1}$ whose left action $\mathchar 28950\relax^{\ell}$ satisfies the Leibniz rule $\mathchar 28950\relax^{\ell}(X)(fY)=f\mathchar 28950\relax^{\ell}(X)(Y)+a(X)(f% )Y\;,$ for any $f\in{\cal A},X\in{\cal E}_{1}$, and $Y\in{\cal E}_{2}$.
Definition 11. A Loday algebroid is a Leibniz algebroid $(E,[-,-],a)$ equipped with a derivation $\textsf{D}:C^{\infty}(M)\to\mathrm{Hom}_{C^{\infty}(M)}(\mathchar 28672\relax(% E^{\otimes 2}),\mathchar 28672\relax E)\;,$ such that $[fX,Y]=f[X,Y]-a(Y)(f)X+(\textsf{D}f)(X,Y)\;,$ for any $X,Y\in\mathchar 28672\relax E$ and $f\in C^{\infty}(M)$.
Definition 4. Let $(E_{1},[-,-]_{1},a_{1})$ and $(E_{2},[-,-]_{2},a_{2})$ be two Leibniz algebroids over a same manifold $M$. A Leibniz algebroid morphism between them is a bundle map $\phi:E_{1}\to E_{2}$ such that $a_{2}\,\phi=a_{1}$ and $\phi[X,Y]_{1}=[\phi X,\phi Y]_{2}$, for any $X,Y\in\Gamma E_{1}$.
Definition 2. A Leibniz algebroid is an anchored vector bundle $E\to M$ together with a Leibniz bracket $[-,-]$ on its space $\mathchar 28672\relax E$ of sections, which satisfy $[X,fY]=f[X,Y]+a(X)(f)Y,$ for any $f\in C^{\infty}(M)$ and $X,Y\in\Gamma E$.
Definition 16. A generalized Courant pseudoalgebra is a symmetric generalized pre-Courant pseudoalgebra.
Definition 5. Let $({\cal E}_{1},[-,-]_{1},a_{1})$ and $({\cal E}_{2},[-,-]_{2},a_{2})$ be two Leibniz pseudoalgebras over the same pair $(R,{\cal A})$. A Leibniz pseudoalgebra morphism between them is an ${\cal A}$-module morphism $\phi:{\cal E}_{1}\to{\cal E}_{2}$ such that $a_{2}\,\phi=a_{1}$ and $\phi[X,Y]_{1}=[\phi X,\phi Y]_{2}$, for any $X,Y\in{\cal E}_{1}$.
Definition 13. A symmetric Leibniz algebroid is a Leibniz algebroid $(E,[-,-],a)$ over $M$, such that, for any $f\in C^{\infty}(M)$, $X,Y\in\Gamma E$, $X\circ fY-(fX)\circ Y=0\;\;\text{and}\;,$ $[fX,Y\circ Z]-[X,Y]\circ fZ-(fY)\circ[X,Z]=0\;.$
Definition 9. A Courant algebroid is an anchored vector bundle $E\to M$, with anchor $a$, together with a Leibniz bracket $[-,-]$ on $\mathchar 28672\relax E$ and a bundle map $(-|-)\colon E\otimes E\to M\times\mathbb{R}$ that is in each fiber nondegenerate symmetric, called scalar product, which satisfy $a(X)(Y|Y)=2(X|[Y,Y])\;,$ $a(X)(Y|Y)=2([X,Y]|Y)\;,$ for any $X,Y\in\mathchar 28672\relax E$.
Definition 3. Let $R$ be commutative unital ring and let ${\cal A}$ be a commutative unital $R$-algebra. A Leibniz pseudoalgebra (or Leibniz-Rinehart algebra) over $(R,{\cal A})$ is an anchored module $({\cal E},a)$ over ${\cal A}$ endowed with a Leibniz $R$-algebra structure $[-,-]$, such that, for all $f\in{\cal A}$ and $X,Y\in{\cal E},$ • $[X,fY]=f[X,Y]+a(X)(f)\,Y$ and • $a[X,Y]=[a(X),a(Y)]$, where the RHS is the commutator.
Definition 6. Let $(E_{1},[-,-],a)$ be a Leibniz algebroid over $M$. A module over the Leibniz algebroid $E_{1}$ is a $C^{\infty}(M)$-module ${\cal E}_{2}$ (not necessarily a locally free sheaf of $C^{\infty}$-modules, i.e. not necessarily a module of sections of a vector bundle), which is a module $(\mathchar 28950\relax^{\ell},\mathchar 28950\relax^{r})$ over the Leibniz $\mathbb{R}$-algebra $\Gamma E_{1}$ whose left action satisfies the Leibniz rule $\mathchar 28950\relax^{\ell}(X)(fY)=f\mathchar 28950\relax^{\ell}(X)(Y)+a(X)(f% )Y\;,$ for any $f\in C^{\infty}(M),X\in\Gamma E_{1}$, and $Y\in{\cal E}_{2}$ (for convenience, we denote the left $\mathchar 28672\relax E_{1}$-action on ${\cal E}_{2}$ and the Leibniz bracket on $\mathchar 28672\relax E_{1}$ by the same symbol).
Definition 10. A Courant pseudoalgebra over an $R$-algebra ${\cal A}$ is an anchored module $({\cal E},a)$ endowed with a Leibniz bracket $[-,-]$ and with a nondegenerate bilinear symmetric form $(-|-)\colon{\cal E}\times{\cal E}\to{\cal A}$, such that $([X,Y]|Y)=(X|[Y,Y])\;,$ $a(X)(Y|Z)=([X,Y]|Z)+(Y|[X,Z])\;,$ for any $X,Y,Z\in{\cal E}$.
Definition 17. A morphism between two generalized (pre-)Courant pseudoalgebras $({\cal E}_{1},{\cal E}_{2},[-,-],(-|-),a,\mathchar 28950\relax^{\ell},% \mathchar 28950\relax^{r})\;\;\text{and}\;\;({\cal E}^{\prime}_{1},{\cal E}^{% \prime}_{2},[-,-]^{\prime},(-|-)^{\prime},a^{\prime},\mathchar 28950\relax^{% \prime\ell},\mathchar 28950\relax^{\prime r})$ over the same pair $(R,{\cal A})$, is a morphism $(\mathchar 28958\relax_{1},\mathchar 28958\relax_{2})$ from the ${\cal E}_{1}$-module ${\cal E}_{2}$ to the ${\cal E}^{\prime}_{1}$-module ${\cal E}^{\prime}_{2}$, such that $(-|-)^{\prime}\,(\mathchar 28958\relax_{1}\times\mathchar 28958\relax_{1})=% \mathchar 28958\relax_{2}\,(-|-)\;.$
Definition 1. If $M$ is a manifold, an anchored vector bundle over $M$ is a vector bundle $E\to M$ with a vector bundle morphism $a\colon E\to TM$, called its anchor. If $R$ is a commutative unital ring and ${\cal A}$ is a commutative unital $R$-algebra, an anchored module over ${\cal A}$ is an ${\cal A}$-module ${\cal E}$ with an ${\cal A}$-module morphism $a\colon{\cal E}\to\mathrm{Der}{\cal A}$, called its derivative.
Definition 18. Let $({\cal E},[-,-],a)$ be a Leibniz pseudoalgebra over $(R,{\cal A})$. A Leibniz pseudoalgebra ideal is an ${\cal A}$-submodule ${\cal I}\subset{\cal E}$, which is a two-sided Leibniz $R$-algebra ideal, i.e. $[{\cal I},{\cal E}]\subset{\cal I}$ and $[{\cal E},{\cal I}]\subset{\cal I}$, and which is contained in the kernel of the anchor, i.e. ${\cal I}\subset\ker a$.
Definition 12. A Loday pseudoalgebra is a Leibniz pseudoalgebra $({\cal E},[-,-],a)$ over $(R,{\cal A})$ equipped with a derivation $\textsf{D}:{\cal A}\to\mathrm{Hom}_{{\cal A}}({\cal E}\otimes_{{\cal A}}{\cal E% },{\cal E})\;,$ such that $[fX,Y]=f[X,Y]-a(Y)(f)X+(\textsf{D}f)(X,Y)\;.$
Definition 8. Let $({\cal E}_{1},[-,-],a)$ and $({\cal E}^{\prime}_{1},[-,-]^{\prime},a^{\prime})$ be two Leibniz pseudoalgebras, and let $({\cal E}_{2},\mathchar 28950\relax^{\ell},\mathchar 28950\relax^{r})$ and $({\cal E}^{\prime}_{2},\mathchar 28950\relax^{\prime\ell},\mathchar 28950% \relax^{\prime r})$ be an ${\cal E}_{1}$-module and an ${\cal E}^{\prime}_{1}$-module, respectively. A morphism between these two modules, is a pair $(\mathchar 28958\relax_{1},\mathchar 28958\relax_{2})$ made of a morphism $\mathchar 28958\relax_{1}:{\cal E}_{1}\to{\cal E}^{\prime}_{1}$ of Leibniz pseudoalgebras and an ${\cal A}$-linear map $\mathchar 28958\relax_{2}:{\cal E}_{2}\to{\cal E}^{\prime}_{2}$, such that $\mathchar 28950\relax^{\prime\ell}(\mathchar 28958\relax_{1}\times\mathchar 28% 958\relax_{2})=\mathchar 28958\relax_{2}\,\mathchar 28950\relax^{\ell}\;\;% \text{and}\;\;\mathchar 28950\relax^{\prime r}(\mathchar 28958\relax_{2}\times% \mathchar 28958\relax_{1})=\mathchar 28958\relax_{2}\,\mathchar 28950\relax^{r% }\;.$
Definition 15. Let $({\cal E}_{1},[-,-],a)$ be a Leibniz pseudoalgebra over $(R,{\cal A})$ and let $({\cal E}_{2},\mathchar 28950\relax^{\ell},\mathchar 28950\relax^{r})$ be an ${\cal E}_{1}$-module. Assume further that $(-|-):{\cal E}_{1}\times{\cal E}_{1}\to{\cal E}_{2}$ is a symmetric ${\cal A}$-bilinear ${\cal E}_{2}$-valued map, such that, for any $X,Y,Z\in{\cal E}_{1}$, the ‘invariance relations’ $\mathchar 28950\relax^{\ell}(X)(Y|Z)=([X,Y]|Z)+(Y|[X,Z])\;,$ $-\mathchar 28950\relax^{r}(X)(Y|Z)=([Y,Z]+[Z,Y]|X)\;\;\text{and}$ $([X,Y]|Z)+(Y|[X,Z])=([Y,Z]+[Z,Y]|X)\;$ hold true. We refer to such a tuple $({\cal E}_{1},{\cal E}_{2},[-,-],(-|-),a,\mathchar 28950\relax^{\ell},% \mathchar 28950\relax^{r})$ as a generalized pre-Courant pseudoalgebra.
Definition 3.6 . The function $\llbracket\pi\rrbracket_{nl}:\llbracket B\rrbracket\longrightarrow\llbracket C\rrbracket$ is defined by $\llbracket\pi\rrbracket_{nl}(P)=\llbracket\pi\rrbracket\lvert o\rangle_{P}$.
Definition 3.3 . The denotation $\llbracket\pi\rrbracket$ of a proof $\pi$ of $\Gamma\vdash B$ is a linear map $\llbracket\Gamma\rrbracket\longrightarrow\llbracket B\rrbracket$ defined by inductively assigning a string diagram to each proof tree; by the basic results of the diagrammatic calculus [JSGoTCI] this diagram unambiguously denotes a linear map. The inductive construction is described by the second column in (2.3) – (2.3). In each rule we assume a morphism has already been assigned to each of the sequents in the numerator of the deduction rule. These inputs are represented by blue circles in the diagram, which computes the morphism to be assigned to the denominator. To simplify the appearance of diagrams, we adopt the convention that a strand labelled by a type $A$ represents a strand labelled by the denotation $\llbracket A\rrbracket$. In particular, a strand labelled with a sequence $\Gamma=A_{1},\ldots,A_{n}$ represents a strand labelled by $\llbracket A_{1}\rrbracket\otimes\cdots\otimes\llbracket A_{n}\rrbracket$.
Definition 2.3 . The denotation $\llbracket A\rrbracket$ of a type $A$ is defined inductively as follows: • The propositional variables $x,y,z,\ldots$ are assigned chosen finite-dimensional vector spaces $\llbracket x\rrbracket,\llbracket y\rrbracket,\llbracket z\rrbracket,\ldots$; • $\llbracket 1\rrbracket=k$; • $\llbracket A\otimes B\rrbracket=\llbracket A\rrbracket\otimes\llbracket B\rrbracket$; • $\llbracket A\multimap B\rrbracket=\llbracket A\rrbracket\multimap\llbracket B\rrbracket$ which is notation for $\operatorname{Hom}_{k}(\llbracket A\rrbracket,\llbracket B\rrbracket)$; • $\llbracket!A\rrbracket={!}\llbracket A\rrbracket$. The denotation of a group of formulas $\Gamma=A_{1},\ldots,A_{n}$ is their tensor product $\llbracket\Gamma\rrbracket=\llbracket A_{1}\rrbracket\otimes\cdots\otimes% \llbracket A_{n}\rrbracket\,.$ If $\Gamma$ is empty then $\llbracket\Gamma\rrbracket=k$.
Definition 9.1 Given $Y:D^{\omega}\to\Sigma$ and $G:((D\to\Sigma)\to\Sigma)^{\omega}$ in $\mathbf{Coh}$ let ${\mathsf{BR}}(Y,G)$ be the least stable function $\Psi:D^{*}\to\Sigma$ in $\mathbf{Coh}$ satisfying $\Psi(s)=Y(s*\lambda n.G_{|s|}(\lambda x.\Psi(s*x)))$ for all $s\in D^{*}$.
Definition 4.3. In the situation of Proposition 4.1, an obstruction to an object $X$ in $\mathbf{C}$ is a diagram $\mathcal{A}$ in $\mathbf{A}$ together with a cone from $X$ to $H\mathcal{A}$ in $\mathbf{C}$ such that $\lim F\mathcal{A}$ is initial in $\mathbf{B}$. The object $X$ is called obstructed if an obstruction to it exists.
Definition 2.5. A coherent locale is one equivalent to one of the form $\mathrm{Idl}(D)$. Any coherent locale is compact; if it is also regular, we call it a Stone locale. A map between coherent locales that is isomorphic to one in the image of the functor $\mathrm{Idl}$ is called coherent.
