Definition 9. Let $(\mathscr{C},m,u)$ be an $\mathsf{E}$-category. We call $S(\mathscr{C})$ the underlying category of $\mathscr{C}$.
Definition 4. For any presheaves $X,Y$ over $\mathsf{A}$, the Day product product $X\otimes Y$ is the following left Kan extension $\tikzcd[ampersandreplacement=\&]\mathsf{A}^{op}\times\mathsf{A}^{op}\arrow[r,"% X\times Y"]\arrow[d,"\otimes",swap]\&\mathsf{Set}\times\mathsf{Set}\arrow[r,"% \times"]\&\mathsf{Set}\\ \mathsf{A}^{op}\ .\arrow[rru,dotted,"X\otimes Y"^{\prime}]$
Definition 10 (Monoidal model category). Let $(\mathsf{E},\otimes,\mathbb{1})$ be a monoidal category equipped with a model structure. It is said to be a monoidal model category if $\triangleright$ the monoidal structure is bilinear, $\triangleright$ the monoidal unit $\mathbb{1}$ is cofibrant, $\triangleright$ for any cofibrations $f:X\to X^{\prime}$ and $g:Y\to Y^{\prime}$, the morphism $X^{\prime}\otimes Y\sqcup_{X\otimes Y}X\otimes Y^{\prime}\to X^{\prime}\otimes Y% ^{\prime}$ is a cofibration; moreover, this is a weak equivalence whenever either $f$ or $g$ is.
Definition 17. Let $\pi_{0}$ be the following composite functor $\mathsf{E}\xrightarrow{\pi}Ho(\mathsf{E})\xrightarrow{S}\mathsf{Set}\ .$ where $Ho(\mathsf{E})$ is the homotopy category of $\mathsf{E}$ and $S$ is the Yoneda functor $\hom_{Ho(\mathsf{E})}(\mathbb{1},-)$. Since the localization functor $\mathsf{E}\to Ho(\mathsf{E})$ and $S:Ho(\mathsf{E})\to\mathsf{Set}$ are both lax monoidal, then $\pi_{0}$ is lax monoidal.
Definition 5. Let $(\mathsf{E},\otimes,\mathbb{1})$ be a monoidal category. A category enriched over $\mathsf{E}$ (or $\mathsf{E}$-category) $(\mathscr{C},m,u)$ is the data of $\triangleright$ a set of objects $Ob(\mathscr{C})$, $\triangleright$ for any objects $x,y\in Ob(\mathscr{C})$, an element $\mathscr{C}(x,y)$ of the category $\mathsf{E}$, $\triangleright$ an associative composition $m_{x,y,z}:\mathscr{C}(x,y)\otimes\mathscr{C}(y,z)\to\mathscr{C}(x,z)$, $\triangleright$ a unit for this composition $u_{x}:\mathbb{1}\to\mathscr{C}(x,x)$ for any object $x$. A functor $F$ between two such $\mathsf{E}$-categories $(\mathscr{C},m,u)$ and $(\mathscr{C}^{\prime},m^{\prime},u^{\prime})$ is the data of $\triangleright$ a function from $Ob(\mathscr{C})$ to $Ob(\mathscr{C}^{\prime})$ also denoted $F$, $\triangleright$ for any objects $x,y\in Ob(\mathscr{C})$, a morphism $F_{x,y}:\mathscr{C}(x,y)\to\mathscr{C}^{\prime}(F(x),F(y))$, $\triangleright$ which commutes with the composition and the unit in the sense that $\begin{cases}m^{\prime}_{F(x),F(y),F(z)}\left(F_{x,y}\otimes F_{y,z}\right)&=F% _{x,z}m_{x,y,z}\ ,\\ u_{F(x)}=F_{x,x}u_{x}\ ,\end{cases}$ for any objects $x,y,z$ of $\mathscr{C}$. This defines the category $\mathsf{Cat}_{\mathsf{E}}$ of $\mathsf{E}$-categories.
Definition 21. The category of reduced cubes $\square_{r}$ is the subcategory of sets whose objects are the sets $\square^{n}$ for $n\in\mathbb{N}$ and whose morphisms are generated by the cofaces $\delta^{0}_{i}$ and $\delta^{1}_{i}$ and the codegeneracies $\sigma_{i}$. The category of cubes with connections $\square_{c}$ is the subcategory of sets whose objects are the sets $\square^{n}$ for $n\in\mathbb{N}$ and whose morphisms are generated by the cofaces $\delta^{0}_{i}$ and $\delta^{1}_{i}$, the codegeneracies $\sigma_{i}$ and the connections $\gamma_{i}$.
Definition 6. A $\mathsf{E}$-quiver $\mathscr{Q}$ is the data of a set of objects $Ob(\mathscr{Q})$ together with an element $\mathscr{Q}(x,y)$ of $\mathsf{E}$ for any objects $x,y\in Ob(\mathscr{Q})$. A morphism $F$ of quivers from $\mathscr{Q}$ to $\mathscr{Q}^{\prime}$ is the data of a function from $Ob(\mathscr{Q})$ to $Ob(\mathscr{Q}^{\prime})$ also denoted $F$ and, for any objects $x,y\in Ob(\mathscr{Q})$, a morphism $F_{x,y}:\mathscr{Q}(x,y)\to\mathscr{Q}^{\prime}(F(x),F(y))$. We denote by $\mathsf{Quiv}_{\mathsf{E}}$ the category of $\mathsf{E}$-quivers.
Definition 13 (Category tensored-cotensored-enriched over a monoidal category). Let $(\mathsf{E},\otimes,\mathbb{1})$ be a monoidal category and let $\mathsf{C}$ be a category. We say that $\mathsf{C}$ is tensored-cotensored-enriched over $\mathsf{E}$ if there exists three functors: $\begin{cases}\{-,-\}:\mathsf{C}^{op}\times\mathsf{C}\rightarrow\mathsf{E}\\ -\triangleleft-:\mathsf{C}\times\mathsf{E}\rightarrow\mathsf{C}\\ \langle-,-\rangle:\mathsf{E}^{op}\times\mathsf{C}\rightarrow\mathsf{C}\end{cases}$ together with functorial isomorphisms $\hom_{\mathsf{C}}(X\triangleleft A,Y)\simeq\hom_{\mathsf{E}}(A,\{X,Y\})\simeq% \hom_{\mathsf{C}}(X,\langle A,Y\rangle)\ ,$ for any $X,Y\in\mathsf{C}$ and any $A\in\mathsf{E}$, such that $-\triangleleft-$ is a tensorisation of $\mathsf{E}$ on $\mathsf{C}$ or, equivalently, such that $\langle-,-\rangle$ is a cotensorisation.
Definition 23. Let $W_{c}\dashv N^{c}$ be the adjunction relating simplicial sets to $\square_{c}\mathsf{-Set}$-enriched-categories such that $W_{c}$ is the left Kan extension of the cosimplicial object $n\mapsto W_{n}$ and $N^{c}(\mathcal{C})(n)=\hom_{\mathsf{Cat}_{\square_{c}}}(W_{n},\mathcal{C})\ .$
Definition 11. Let $(\mathsf{E},\otimes,\mathbb{1})$ and $(\mathsf{F},\otimes,\mathbb{1})$ be two monoidal model categories. A Quillen monoidal adjunction relating $\mathsf{E}$ to $\mathsf{F}$ is an adjunction $\tikzcd[ampersandreplacement=\&]\mathsf{E}\arrow[r,shiftleft,"L"]\&\mathsf{F}% \arrow[l,shiftleft,"R"]$ which is both a Quillen adjunction and a monoidal adjunction.
Definition 28. A differential graded (dg) associative algebra (or dg algebra for short) $(\mathcal{A},m)$ is the data of a chain complex $\mathcal{A}$ together with an associative product $m:\mathcal{A}\otimes\mathcal{A}\to\mathcal{A}$.
Definition 19. Let $(\mathsf{E},\otimes,\mathbb{1})$ be a monoidal category. A segment of $\mathsf{E}$ is an object $H$ of $\mathsf{E}$ together with maps $\mathbb{1}\sqcup\mathbb{1}\xrightarrow{(\delta^{0}_{H},\delta^{1}_{H})}H% \xrightarrow{\sigma_{H}}\mathbb{1}$ which factorizes the morphism $\mathbb{1}\sqcup\mathbb{1}\to\mathbb{1}$. Moreover, in a monoidal model category, an interval is a segment such that the map $(\delta^{0}_{H},\delta^{1}_{H})$ is a cofibration and the map $\sigma_{H}$ is a weak equivalence.
Definition 25. Let $\mathsf{C}$ be a cocomplete category. A functor $F:\Delta\to\mathsf{C}$ induces an adjunction $\tikzcd\mathsf{sSet}\arrow[r,shiftleft,"F_{!}"]&\mathsf{C}\ ,\arrow[l,% shiftleft,"F^{!}"]$ where the left adjoint $F_{!}$ is the left Kan extension of $F$ and where $F^{!}(X)_{n}=\hom_{\mathsf{C}}(F(n),X)\ .$ This right adjoint functor is called a nerve functor. If $\mathsf{C}$ is a model category, the functor $F$ (or equivalently the functor $F^{!}$) is said to be homotopy coherent if the adjunction $F_{!}\dashv F^{!}$ is a Quillen adjunction with respect to the Joyal model structure.
Definition 8. For any object $X$ of $\mathsf{E}$, let $[1]_{X}$ be the $\mathsf{E}$-category with two objects $0$ and $1$ such that $\begin{cases}[1]_{X}(0,0)=[1]_{X}(1,1)=\mathbb{1}\ ,\\ _{X}(0,1)=X\ ,\\ _{X}(1,0)=\emptyset\ .\end{cases}$ This defines a functor $[1]:\mathsf{E}\to\mathsf{Cat}_{\mathsf{E}}$.
Definition 22. The category of reduced cubical sets $\square_{r}\mathsf{-Set}$ is the category of presheaves on $\square_{r}$, that is functors from $\square_{r}^{op}$ to $\mathsf{Set}$. The category of cubical sets with connections $\square_{c}\mathsf{-Set}$ is the category of presheaves on $\square_{c}$, that is functors from $\square_{c}^{op}$ to $\mathsf{Set}$.
Definition 15 (Homotopical enrichment). Let $\mathsf{M}$ be a model category. We say that $\mathsf{M}$ is homotopically enriched over $\mathsf{E}$ if it enriched over $\mathsf{E}$ and if for any cofibration $f:X\rightarrow X^{\prime}$ in $\mathsf{M}$ and any fibration $g:Y\rightarrow Y^{\prime}$ in $\mathsf{M}$, the morphism in $\mathsf{E}$: $\{X^{\prime},Y\}\rightarrow\{X^{\prime},Y\}\times_{\{X,Y^{\prime}\}}\{X,Y\}$ is a fibration. Moreover, we require this morphism to be a weak equivalence whenever $f$ or $g$ is a weak equivalence.
Definition A.3. A 2-operad $\Theta$ in $\mathscr{V}ect_{\mathrm{dg}}(\Bbbk)$ is a monoid in the category of 2-sequences in $\mathscr{V}ect_{\mathrm{dg}}(\Bbbk)$. Unwinding the definition, it is an assignment $U\rightsquigarrow\Theta(U)\in\mathscr{V}ect_{\mathrm{dg}}(\Bbbk)$, where $U$ is a 2-disk, such that $\Theta(\mathbf{dgnt})=0$, and for each morphism $P\colon U\to V$ of 2-disks there is a map of dg vector spaces $m(P)\colon\Theta(V)\otimes\bigotimes_{\nu\in\mathcal{F}(V)}\Theta(P^{-1}(\nu))% \to\Theta(U)$ which is subject to the following conditions: (i) there is a dg map $i\colon\Bbbk\to\Theta(\mathbf{globe})$ such that, for the map of 2-disks $\operatorname{\rm id}\colon U\to U$ the composition $\Theta(U)\otimes\Bbbk^{\otimes N}\xrightarrow{-\otimes i^{\otimes N}}\Theta(U)% \otimes\Theta(\mathbf{globe})^{\otimes N}\xrightarrow{P}\Theta(U)$ (where $N=\sharp\mathcal{F}(U)$) is the identity map, and for the (unique) map $p\colon U\to\mathbf{globe}$, the composition $\Bbbk\otimes\Theta(U)\xrightarrow{i\otimes-}\Theta(\mathbf{globe})\otimes% \Theta(U)\xrightarrow{p}\Theta(U)$ is the identity map; (ii) there is an associativity for two maps $U\xrightarrow{P}V\xrightarrow{Q}W$ of 2-operads, which reads as follows: The two maps $T_{1},T_{2}\colon\Theta(W)\otimes\bigotimes_{\eta\in\mathcal{F}(W)}\Theta(Q^{-% 1}(\eta))\otimes\bigotimes_{\nu\in\mathcal{F}(V)}\Theta(P^{-1}(\nu))\to\Theta(U)$ defined below, are equal. The map $T_{1}$ is equal to the composition $\underbrace{\Theta(W)\otimes\bigotimes_{\eta\in\mathcal{F}(W)}\Theta(Q^{-1}(% \eta))}\otimes\bigotimes_{\nu\in\mathcal{F}(V)}\Theta(P^{-1}(\nu))\to\Theta(V)% \otimes\bigotimes_{\nu\in\mathcal{F}(V)}\Theta(P^{-1}(\nu))\to\Theta(U)$ For the map $T_{2}$, fix $\eta\in\mathcal{F}(W)$. One has a map $m(P|_{Q^{-1}(\eta)})\colon\ \ \Theta(Q^{-1}(\eta))\otimes\bigotimes_{\nu\in% \mathcal{F}(Q^{-1}(\eta))}\Theta(P^{-1}(\nu))\to\Theta(P^{-1}Q^{-1}(\eta))$ Taking the tensor product over all $\eta\in\mathcal{F}(W)$, we get $m_{P,Q}\colon\ \ \bigotimes_{\eta\in\mathcal{F}(W)}\Theta(Q^{-1}(\eta))\otimes% \bigotimes_{\nu\in\mathcal{F}(Q^{-1}(\eta))}\Theta(P^{-1}(\nu))\to\bigotimes_{% \eta\in\mathcal{F}(W)}\Theta(P^{-1}Q^{-1}(\eta))$ Finally, we define the map $T_{2}$ as $\Theta(W)\otimes\underset{m_{P,Q}}{\underbrace{\bigotimes_{\eta\in\mathcal{F}(% W)}\Theta(Q^{-1}(\eta))\otimes\bigotimes_{\nu\in\mathcal{F}(V)}\Theta(P^{-1}(% \nu))}}\to\Theta(W)\otimes\bigotimes_{\eta\in\mathcal{F}(W)}\Theta(P^{-1}Q^{-1% }(\eta))\to\Theta(U)$ A map of 2-operads $\Psi\colon\Theta_{1}\to\Theta_{2}$ is defined as a map of the 2-sequences compatible with the monoid structures. That is, it is a map of complexes $\Psi(U)\colon\Theta_{1}(U)\to\Theta_{2}(U)$, for all 2-disks $U$, compatible with the units and with the composition maps $\circ_{P}$, for all maps of 2-disks $P\colon U\to V$.
Definition 3.3. Let $\mathscr{C}$ be a category with an object $I$ called the skew unit, and with a functor $\overset{\sim}{\otimes}\colon\mathscr{C}\times\mathscr{C}\to\mathscr{C}$ (called skew tensor product), and natural families of lax constraints having the directions $\alpha_{XYZ}\colon(X\overset{\sim}{\otimes}Y)\overset{\sim}{\otimes}Z\to X% \overset{\sim}{\otimes}(Y\overset{\sim}{\otimes}Z)$ $\lambda_{X}\colon I\overset{\sim}{\otimes}X\to X$ $\rho_{X}\colon X\to X\overset{\sim}{\otimes}I$ subject to the following conditions: $\xymatrix{&(W\overset{\sim}{\otimes}X)\overset{\sim}{\otimes}(Y\overset{\sim}{% \otimes}Z)\ar[rd]^{\alpha_{W,X,Y\overset{\sim}{\otimes}Z}}\\ ((W\overset{\sim}{\otimes}X)\overset{\sim}{\otimes}Y)\overset{\sim}{\otimes}Z% \ar[ru]^{\alpha_{W\overset{\sim}{\otimes}X,Y,Z}}\ar[d]_{\alpha_{W,X,Y\overset{% \sim}{\otimes}\operatorname{\rm id}_{Z}}}&&W\overset{\sim}{\otimes}(X\overset{% \sim}{\otimes}(Y\overset{\sim}{\otimes}Z))\\ (W\overset{\sim}{\otimes}(X\overset{\sim}{\otimes}Y))\overset{\sim}{\otimes}Z% \ar[rr]_{\alpha_{W,X\overset{\sim}{\otimes}Y,Z}}&&W\overset{\sim}{\otimes}((X% \overset{\sim}{\otimes}Y)\overset{\sim}{\otimes}Z)\ar[u]_{\operatorname{\rm id% }_{W}\overset{\sim}{\otimes}\alpha_{X,Y,Z}}}$ $\xymatrix{(I\overset{\sim}{\otimes}X)\overset{\sim}{\otimes}Y\ar[dr]_{\lambda_% {X\overset{\sim}{\otimes}\operatorname{\rm id}_{Y}}}\ar[rr]^{\alpha_{I,X,Y}}&&% I\overset{\sim}{\otimes}(X\overset{\sim}{\otimes}Y)\ar[dl]^{\lambda_{X\overset% {\sim}{\otimes}Y}}\\ &X\overset{\sim}{\otimes}Y}$ $\xymatrix{(X\overset{\sim}{\otimes}I)\overset{\sim}{\otimes}Y\ar[r]^{\alpha_{X% ,I,Y}}&X\overset{\sim}{\otimes}(I\overset{\sim}{\otimes}Y)\ar[d]^{% \operatorname{\rm id}_{X}\overset{\sim}{\otimes}\lambda_{Y}}\\ X\overset{\sim}{\otimes}Y\ar[u]^{\rho_{X}\overset{\sim}{\otimes}\operatorname{% \rm id}_{Y}}\ar[r]_{\operatorname{\rm id}_{X\overset{\sim}{\otimes}Y}}&X% \overset{\sim}{\otimes}Y}$ $\xymatrix{(X\overset{\sim}{\otimes}Y)\overset{\sim}{\otimes}I\ar[rr]^{\alpha_{% X,Y,I}}&&X\overset{\sim}{\otimes}(Y\overset{\sim}{\otimes}I)\\ &X\overset{\sim}{\otimes}Y\ar[ul]^{\rho_{X\overset{\sim}{\otimes}Y}}\ar[ur]_{% \operatorname{\rm id}_{X}\overset{\sim}{\otimes}\rho_{Y}}}$ $\xymatrix{I\ar[rr]^{\operatorname{\rm id}_{I}}\ar[dr]_{\rho_{I}}&&I\\ &I\overset{\sim}{\otimes}I\ar[ru]_{\lambda_{I}}}$
Definition A.7. Let $\Theta$ be a (span or ordinary) dg 2-operad with base $C$. An algebra over $\Theta$ is a dg 2-graph $\mathscr{C}$ with base $C$, such that there is a map of dg 2-operads $\Theta\to{\mathscr{E}nd}(\mathscr{C})$
Definition A.5. A span 2-operad (for an ordinary category $C$) is a collection $\{\Theta(U)\in 2{\mathscr{G}rph}(C)\}$ of 2-graphs with base $C$, labelled by the 2-disks $U$, with the following “operadic composition”: Let $U\xrightarrow{P}V$ be a map of 2-disks, $[P]\colon[V]\to[U]$ the corresponding map of 2-categories. Assume we are given a $V$-diagram $D$ in $C$ such that $p_{*}D=g$. For each minimal ball $\nu\in\mathcal{F}(V)$, denote by $g_{\nu}$ the globe $D(\nu)$ in $C$. Then there is a map $\circ_{(P,D)}\colon\Theta(V)(g)\otimes\bigotimes_{\nu\in\mathcal{F}(V)}\Theta(% {P^{-1}(\nu)})(g_{\nu})\to\Theta(U)(g)$ which is subject to the properties generalizing those for the case of ordinary 2-operads, see [BM1, Section 7]. A span 2-operad is called reduced if $\Theta(\mathbf{dgnt})=0$.
Definition 3.4. A skew monoidal category is called perfect if $\alpha_{X,I,Y}$, $\lambda_{X}$, $\rho_{X}$ are isomorphisms, for any objects $X,Y$.
Definition 2 The functor $F:D_{(A,B,f)}\to\mathcal{A}$ is defined as follows: • $F(d)=(A(w),U(w),f(w))$, where $w=w(d)$ and $A(w)$, $U(w)$, and $f(w)$ are as in (1). • $F(d\to d^{\prime})=(T\alpha_{i\to i^{\prime}},h):Fd\to Fd^{\prime}$ is defined whenever $d=(i,j,k,q)$, $d^{\prime}=(i^{\prime},j^{\prime},k^{\prime},q^{\prime})$, and $d\leq d^{\prime}$. The morphism $h$ is defined by the pushout property of $U(d)$, as shown in either the left or the right diagram below, according as $d\leq d^{\prime}$ is obtained via AA or BB.
Definition 1 For each $(A,B,f)\in T/\mathcal{A}$ define $D_{(A,B,f)}=(D,\leq)$, where $\displaystyle D$ $\displaystyle\ \ \quad=\quad\ \left\{(i,j,k,q)\quad\Bigg{|}\quad\begin{aligned% } &\displaystyle i\in\mathcal{I},j\in\mathcal{J}_{i},k\in\mathcal{K},q:P_{i,j}% \to B_{k}\\ &\displaystyle\qquad f\circ T\alpha_{i}\circ p_{i,j}=\beta_{k}\circ q\end{% aligned}\right\}$ $\displaystyle\begin{array}[]{c}(i,j,k,q)\\ \leq\\ (i^{\prime},j^{\prime},k^{\prime},q^{\prime})\end{array}$ $\displaystyle\;\;\;\Longleftrightarrow\quad\left\{\begin{array}[]{lr}i=i,j\leq j% ^{\prime},k\leq k^{\prime},\beta_{k\to k^{\prime}}\circ q=q^{\prime}\circ p_{i% ,j\to j^{\prime}}&\framebox{AA}\\ \hskip 86.724pt\mbox{or}\\ i<i^{\prime},k\leq k^{\prime},\exists r:P_{i,j}\to P_{i^{\prime},j^{\prime}}\ % \text{such that}\\ \;\;(T\alpha_{i\to i^{\prime}}{\circ}p_{i,j}=p_{i^{\prime},j^{\prime}}{\circ r% }),(\beta_{k\to k^{\prime}}{\circ}q=q^{\prime}{\circ}r)&\framebox{BB}\end{% array}\right.$
Proposition-Definition 7.5. With the previous notation we have: 1. The category of $\mathbb{Z}$-sequences is equivalent to the functor category $\operatorname{Hom}(\operatorname{\mathbb{Z}_{disc}},\operatorname{\mathscr{M}_% {\mathcal{U}}[\mathscr{M}]})=(\operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr% {M}]})^{\operatorname{\mathbb{Z}_{disc}}}$. 2. Linked $\mathbb{Z}$-sequences and linked morphisms form a category $Sp_{\mathcal{U}}^{+}(\mathscr{M})$ whose objects are called $\mathcal{U}$-prespectrum. 3. Strictly linked $\mathbb{Z}$-sequences form a subcategory $Sp_{\mathcal{U}}(\mathscr{M})\subset Sp_{\mathcal{U}}^{+}(\mathscr{M})$.
Proposition-Definition 7.12. For $n\in\mathbb{Z}$, define the $n$th Dirac mass functor $\delta_{n}:\operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr{M}]}% \longrightarrow\operatorname{Hom}(\operatorname{\mathbb{Z}_{disc}},% \operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr{M}]})$ as the left adjoint to the $n$th evaluation $\text{Ev}_{n}:\operatorname{Hom}(\operatorname{\mathbb{Z}_{disc}},% \operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr{M}]})\longrightarrow% \operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr{M}]}$ defined by $\text{Ev}_{n}(\mathcal{X})=\mathcal{X}_{n}$. For an object $\mathcal{A}\in\operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr{M}]}$, $\delta(\mathcal{A})$ is given by: • $\delta_{n}(\mathcal{A})_{k}=\mathcal{A}$ if $k=n$. • $\delta_{n}(\mathcal{A})_{k}=\emptyset$ if $k\neq n$. 1. We have an functorial isomorphism of hom-sets: $\operatorname{Hom}_{\operatorname{\mathscr{M}_{\mathcal{U}}[\mathscr{M}]}}(% \mathcal{A},\mathcal{X}_{n})\cong\operatorname{Hom}_{(\operatorname{\mathscr{M% }_{\mathcal{U}}[\mathscr{M}]})^{\operatorname{\mathbb{Z}_{disc}}}}(\delta(% \mathcal{A}),\mathcal{X}).$ 2. For every $\mathcal{X}=(\mathcal{X}_{n})\in(\operatorname{\mathscr{M}_{\mathcal{U}}[% \mathscr{M}]})^{\operatorname{\mathbb{Z}_{disc}}}$ we have $\mathcal{X}\cong\sum_{n}\delta_{n}(\mathcal{X}_{n})=\coprod_{n}\delta_{n}(% \mathcal{X}_{n}).$
Definition 2.2. A symmetric monoidal category consists of a monoidal category ${\cal C}$ with a chosen natural isomorphism $\sigma_{A,B}:A\otimes B\stackrel{{\scriptstyle\cong}}{{\rightarrow}}B\otimes A$, called symmetry, which satisfies $\sigma_{B,A}\circ\sigma_{A,B}=1_{A\otimes B}$, $\lambda_{A}\circ\sigma_{A,I}=\rho_{A}$, and $\alpha_{C,A,B}\circ\sigma_{A\otimes B,C}\circ\alpha_{A,B,C}=(\sigma_{A,C}% \otimes 1_{B})\circ\alpha_{A,C,B}\circ(1_{A}\otimes\sigma_{B,C})$.
Definition 2.3. A monoidal functor $(F,m_{A,B},m_{I})$ between monoidal categories $({\cal C},\otimes,I,\alpha,\rho,\lambda)$ and $({\cal D},\otimes^{\prime},I^{\prime},\alpha^{\prime},\rho^{\prime},\lambda^{% \prime})$ is a functor $F:{\cal C}\rightarrow{\cal D}$ equipped with: - morphisms $m_{A,B}:F(A)\otimes^{\prime}F(B)\rightarrow F(A\otimes B)$ natural in $A$ and $B$, - a morphism $m_{I}:I^{\prime}\rightarrow F(I)$, which satisfy some coherence axioms preserving the symmetric monoidal structure [MacLane91]. A monoidal functor is strong when $m_{I}$ and all the $m_{A,B}$ are isomorphisms. It is strict when $m_{I}$ and all the $m_{A,B}$ are identities. If in addition, ${\cal C}$ and ${\cal D}$ are symmetric monoidal with respective symmetries $\sigma$ and $\sigma^{\prime}$, then $F$ is a symmetric monoidal functor if for all $A,B$, $\xymatrix@=20pt{FA\otimes^{\prime}FB{}{}{}{}{}{}{}{}{}{}\xy@@ix@{{\hbox{}}}}$
Definition 2.1. A monoidal category, also sometimes called tensor category, is a category ${\cal C}$ with a bifunctor $\otimes:{\cal C}\times{\cal C}\rightarrow{\cal C}$ together with a unit object $I\in{\cal C}$ and natural isomorphisms $\rho_{A}:A\otimes I\stackrel{{\scriptstyle\cong}}{{\rightarrow}}A$, $\lambda_{A}:I\otimes A\stackrel{{\scriptstyle\cong}}{{\rightarrow}}A$, and $\alpha_{A,B,C}:A\otimes(B\otimes C)\stackrel{{\scriptstyle\cong}}{{\rightarrow% }}(A\otimes B)\otimes C$, satisfying some coherence axioms [MacLane91]. The monoidal category is strict if $\rho$, $\lambda$, and $\alpha$ are identities. It is well-known that every monoidal category is equivalent to a strict one [MacLane91]. Here, and throughout the paper, we often omit the subscripts from notations such as $\alpha_{A,B,C}$ when they are clear from the context.
Definition 3 (symbolic language). By an object formula in the (symbolic) language of an SMC we mean any expression involving objects and the tensor thereof. By a (well-formed) morphism formula in the (symbolic) language of an SMC we mean any expression involving morphisms, sequential composition, and parallel composition thereof, for which sequential composition only occurs for morphisms with matching types.
Definition 6 ($\dagger$-SMC). A dagger category is a category equipped with an involutive identity-on-objects contravariant functor $\dagger:\mathbf{C}^{op}\rightarrow\mathbf{C}$, called a dagger functor. A dagger (strict) symmetric monoidal category ($\dagger$-SMC) is a (strict) SMC equipped with a dagger functor such that for all $A,B\in|\mathbf{C}|$ we have $\sigma^{\dagger}_{A,B}=\sigma^{-1}_{A,B}$, and $(A\otimes B)^{\dagger}=A^{\dagger}\otimes B^{\dagger},$ and for all $f:A\rightarrow C,g:B\rightarrow D$ in $\mathbf{C}$: $(f\otimes g)^{\dagger}=f^{\dagger}\otimes g^{\dagger}.$
Definition 11. In an SMC, a morphism $f:A\to B$ is disconnected if it decomposes as $f=p\circ e$ for some $e:A\to I$ and $p:I\to A$. A morphism is connected if it is not disconnected.
Definition 44 (Carved category). Let $\mathbf{C}$ be an SMC. A carved category (of $\mathbf{C}$), denoted $\mathbf{CC}$, is a normalized subcategory of $\mathbf{C}$ such that for $A,B\in|\mathbf{C}|$, iff $A$ and $B$ are connected then $A\otimes B\notin|\mathbf{CC}|$.
Definition 21. Let ${\cal F}$ be a morphism formula. A slice ${\cal B}$ is included in ${\cal F}$ if the objects occurring in ${\cal B}$ is a subset of the input and output types of the atomic morphisms that are in $\mathcal{F}$.
Definition 31. A causal category (or caucat) $\mathbf{CC}$ is a symmetric strict partial monoidal category whose unit object $I$ is terminal, i.e. for each object $A\in|\mathbf{CC}|$ there is a unique morphism $\top_{A}:A\to I$, and for which the monoidal product, $A\otimes B$, exists iff $\mathbf{CC}(A,B)=[\mathbf{CC}(I,B)]\circ\top_{A}\quad\mbox{and}\quad\mathbf{CC% }(B,A)=[\mathbf{CC}(I,A)]\circ\top_{B}\,.$ We also require that each object has at least one element, i.e. $\forall A\in|{\bf CC}|:{\bf CC}(I,A)\not=\emptyset$.
Definition 9 (Operational terminology). A slice is an object formula in the symbolic language of SMCs, and a scenario or protocol is a morphism formula in the symbolic language of SMCs, or equivalently, a diagram in the graphical language of SMCs.
Definition 29. A partial functor $F:\mathbf{B}\rightarrow\mathbf{C}$ is a functor $\hat{F}:\mathbf{A}\rightarrow\mathbf{C}$, where $\mathbf{A}$ is a subcategory of $\mathbf{B}$; $\mathbf{A}$ is called the domain of definition of $F$, written $\textrm{dd}(F)=\mathbf{A}$, and $\mathbf{B}$ is called the domain of $F$, written $\textrm{dom}(F)=\mathbf{B}$. A partial bifunctor is a partial functor whose domain is a product category.
Definition 43. The causal structure of a partial (or full) monoidal category is a directed graph $\mathcal{G}=(G,E)$, whose vertices $G$ are the objects of $\mathbf{CC}$, and an edge $(A,B)\in E$ exists iff $\mathbf{CC}(A,B)$ is connected.
Definition 15. By an environment structure we mean a family of effects $\top_{A}:A\to{I}$, one for each system $A$. We call a CJ-universe with an environment structure a CJ$\top$-universe.
Definition 8. In a $\dagger$-SMC a Bell state $(A,A^{*},\eta)$ is a compact structure $(A,A^{*},\eta^{\dagger}\circ\sigma_{A,A^{*}},\eta)$, and a dagger compact category is a $\dagger$-SMC for which each object has a chosen Bell state; these choices are moreover coherent with dagger symmetric monoidal structure.
Definition 23. Let ${\cal F}$ be a morphism formula made up of atomic morphisms. Another morphism formula ${\cal G}$ is a sub-formula of ${\cal F}$, if ${\cal F}$ can be formed from ${\cal G}$ (necessarily included!), $\otimes$, $\circ$ and other morphism formula. Similarly we define sub-scenario and sub-protocol.
Definition 5 (Non-trivial parallel composition; atomic morphism). The non-trivial parallel composition of morphisms $g_{1}:A_{1}\to B_{1}$ and $g_{2}:A_{2}\to B_{2}$ is a morphism $f=g_{1}\otimes g_{2}$, where neither $g_{1}$ nor $g_{2}$ is a scalar (i.e. of type $I\rightarrow I$). A morphism $f:A\to B$ is atomic if, for all post or pre–compositions of generalized symmetry morphisms, it cannot be written as a non-trivial parallel composition of other morphisms.
Definition 1. A strict monoidal category is a category $\mathbf{C}$ equipped with a bifunctor $\otimes:\mathbf{C}\times\mathbf{C}\rightarrow\mathbf{C}$ and a unit object ${I}$ such that $(|\mathbf{C}|,\otimes,I)$ is a monoid, and for all $f,g,h$ in $\mathbf{C}$ we have associativity of acausal composition: $f\otimes(g\otimes h)=(f\otimes g)\otimes h\,.$
Definition 26. A spatial slice ${\cal B}$ with $B:={\cal B}$ is total for a scenario ${\cal F}:A\to C$ in which it is included if ${\cal F}$ decomposes into two subscenarios ${\cal F}_{1}:A\to B$ and ${\cal F}_{2}:B\to C$.
Definition 41 (Normalization). Given a ($\dagger$-compact) SMC $\mathbf{C}$ with environment structure, we define a new SMC $\mathbf{C}_{\top}$ with the same objects as $\mathbf{C}$ but with morphisms restricted to normalized ones, and a corresponding inclusion functor $F_{\top}:\mathbf{C}_{\top}\hookrightarrow\mathbf{C}$.
Definition 14. In a CJ-universe for all systems $A$ there exists another system $A^{*}$, not causally related to $A$, as well as a bipartite state $\eta_{A}:{I}\to A^{*}\otimes A$, called the CJ-state, such that for all $B$, ${\bf C}(A,B)\to{\bf C}({I},A^{*}\otimes B)::f\mapsto(1_{A^{*}}\otimes f)\circ% \eta_{A}$ is an injective mapping.
Definition 45 (Pairing construction). The pairing of a monoidal category ${\bf C}$ and a directed graph $\mathcal{G}$, is a category ${\bf CC}({\bf C},\mathcal{G})$, defined inductively as follows: • Objects are either sets of pairs $\{(A_{i},x_{i})\}_{i\in{\cal I}}$ with $A_{i}\in|{\bf C}|\setminus\{I\}$ for all $i\in{\cal I}$ and $\{x_{i}\}_{i\in{\cal I}}\in R(G)$, or $(I,\emptyset)$. For $\{(A_{i},x_{i})\}_{i\in{\cal I}}$ and $\{(B_{j},y_{j})\}_{j\in{\cal J}}$ the tensor is the union and exists provided that: $\{x_{i}\}_{i\in{\cal I}}\cap\{y_{j}\}_{j\in{\cal J}}=\emptyset\qquad\{x_{i}\}_% {i\in{\cal I}}\cup\{y_{j}\}_{j\in{\cal J}}\in R(G)\,,$ and we set $\{(A_{i},x_{i})\}_{i\in{\cal I}}\otimes(I,\emptyset):=\{(A_{i},x_{i})\}_{i\in{% \cal I}}$. • For states we set: ${\bf CC}({\bf C},\mathcal{G})\bigl{(}(I,\emptyset),\{(A_{i},x_{i})\}_{i\in{% \cal I}}\bigr{)}:={\bf C}(I,\otimes_{i\in{\cal I}}A_{i})$ where due to the fact that ${\bf C}$ is symmetric the order of tensoring is not essential, just a matter of bookkeeping. • For general morphisms we set: ${\bf CC}({\bf C},\mathcal{G})\bigl{(}\{(A_{i},x_{i})\}_{i\in{\cal I}},\{(B_{j}% ,y_{j})\}_{j\in{\cal J}}\bigr{)}:=\hskip 153.644882pt$ $\left\{\sigma^{\prime}\circ\left(f\otimes(p\circ\top_{\otimes_{i\in{\cal I}% \setminus{\cal I}^{\prime}}A_{i}})\right)\circ\sigma\left|\!\begin{array}[]{c}% {\cal I}^{\prime}\subseteq{\cal I},{\cal J}^{\prime}\subseteq{\cal J}\\ \{x_{i}\}_{i\in{\cal I}^{\prime}}\sqsubseteq\{y_{j}\}_{j\in{\cal J}^{\prime}}% \\ p\in{\bf C}(I,\otimes_{j\in{\cal J}\setminus{\cal J}^{\prime}}B_{j})\\ f\in{\bf C}(\otimes_{i\in{\cal I}}A_{i},\otimes_{j\in{\cal J}}B_{j})\end{array% }\!\!\right\}\right.$ where $\sigma$ and $\sigma^{\prime}$ are the unique symmetry isomorphisms that re-order the objects of ${\bf C}$ to match the ordering of ${\cal I}$ and ${\cal J}$, and $X\sqsubseteq Y$ means: $\forall x\in X,\forall y\in Y:x\leq y\,.$ Finally, we close under tensoring, that is, for all $\{(A_{i},x_{i})\}_{i\in{\cal I}}$ and $\{(A_{i}^{\prime},x_{i}^{\prime})\}_{i\in{\cal I}^{\prime}}$ for which the tensor exists, and all $\{(B_{j},y_{j})\}_{j\in{\cal J}}$ and all $\{(B_{j}^{\prime},y_{j}^{\prime})\}_{j\in{\cal J}^{\prime}}$ for which the tensor exists, if $f\in{\bf CC}(\{(A_{i},x_{i})\}_{i\in{\cal I}},\{(B_{j},y_{j})\}_{j\in{\cal J}})$ and $f^{\prime}\in{\bf CC}(\{(A_{i}^{\prime},x_{i}^{\prime})\}_{i\in{\cal I}^{% \prime}},\{(B_{j}^{\prime},y_{j}^{\prime})\}_{j\in{\cal J}^{\prime}})$ then $f\otimes f^{\prime}\in{\bf CC}(\{(A_{i},x_{i})\}_{i\in{\cal I}}\cup\{(A_{i}^{% \prime},x_{i}^{\prime})\}_{i\in{\cal I}^{\prime}},\{(B_{j},y_{j})\}_{j\in{\cal J% }}\cup\{(B_{j}^{\prime},y_{j}^{\prime})\}_{j\in{\cal J}^{\prime}}).$
Definition 22. A spatial slice is a slice $B_{1}\otimes\ldots\otimes B_{n}$ for which every pair of objects $(B_{i},B_{j\not=i})$ that occur in it are disconnected objects, that is, if $\mathbf{C}(B_{i},B_{j})$ and $\mathbf{C}(B_{j},B_{i})$ are disconnected.
Definition 2. A symmetric strict monoidal category (SMC) is a monoidal category $\mathbf{C}$ equipped with a family of symmetry isomorphisms $\sigma_{A,B}:A\otimes B\rightarrow B\otimes A$ which is such that for all $A,B\in|\mathbf{C}|$ we have $\sigma^{-1}_{A,B}=\sigma_{B,A}$, and for all $A,B,C,D\in|\mathbf{C}|$ and $f:A\rightarrow C,g:B\rightarrow D$ in $\mathbf{C}$, we have: $\sigma_{C,D}\circ(f\otimes g)=(g\otimes f)\circ\sigma_{A,B}.$
Definition 33 (Disconnectedness for partial monoidal category). In a partial monoidal category, a morphism $f:A\to B$ is disconnected if it decomposes as $f=p\circ e$ for some $e:A\to I$ and $p:I\to A$, and a hom-set $\mathbf{C}(A,B)$ is disconnected if it contains only disconnected morphisms. If both $\mathbf{C}(A,B)$ and $\mathbf{C}(B,A)$ are disconnected then we say that the objects $A$ and $B$ are disconnected.
Definition 49 (‘Disconnectedness’ for symbolic language). We say that a symbolic language expression $\mathcal{F}:\mathcal{A}\rightarrow\mathcal{B}$ factors through $\otimes$ if, by pre- and post-composition of generalized symmetry morphisms and by using the axioms of SMCs, $\mathcal{F}$ cannot be rewritten as a symbolic language expression $\mathcal{F}_{1}\otimes\mathcal{F}_{2}$.
