Definition 1.4. A functor $F\colon\mathscr{F}\to\mathscr{C}$ is a fibration if for each $x\colon X\to FA$ there is an arrow $f\colon B\to A$ of $\mathscr{F}$ such that $Ff=x$ and having the property that whenever $h\colon C\to A$ makes a commutative triangle $xu=Fh$ as below there is a unique $F$-lift $\hat{u}\colon C\to B$ over $u$ making a commutative triangle in $\mathscr{F}$ as indicated in the following picture $C$$B$$A$$FC$$X$$FA$$\hat{u}$$h$$f$$u$$Fh$$Ff=x$ Such a morphism $f$ is cartesian over $x$. A morphism of $\mathscr{F}$ is $F$-vertical if its image under $F$ is an identity. The fiber of $F$ over an object $C\in\mathscr{C}$ is the subcategory of $\mathscr{F}$ of objects and vertical morphisms over $C$ via $F$. A functor $E\colon\mathscr{E}\to\mathscr{C}$ is an opfibration if $E^{op}$ is a fibration; in this case the morphisms of $\mathscr{E}$ having the special lifting property are called “opcartesian.”
Definition 3.22. A 2-fibration $P\colon\mathfrak{E}\to\mathfrak{B}$ is split if it is cloven with cleavage $\phi(-,-)$ satisfying equations 3.2, 3.3,3.4,3.5, and 3.6 above. Let $\mathbf{2Fib}(\mathfrak{B})$ denote the 3-category of split 2-fibrations over $\mathfrak{B}$, splitting-preserving morphisms, transformations with vertical components and vertical modifications.
Definition 2.7. A 3-category is a $||\mathbf{2Cat}||$-enriched category.
Definition 3.20 (§2 [Her99] and §2.2.1 of [Buc14]). Let $P\colon\mathfrak{E}\to\mathfrak{B}$ denote a 2-functor. An arrow $f\colon A\to B$ of $\mathfrak{E}$ is cartesian if it satisfies the following two conditions. 1. Whenever $g\colon C\to B$ is an arrow of $\mathfrak{E}$ for which there is a morphism $h\colon PC\to PA$ making a commutative triangle in $\mathfrak{B}$ as on the right $C$$A$$B$$PC$$PA$$PB$$\hat{h}$$g$$f$$h$$Pg$$Pf$ it follows that there is a unique $\hat{h}\colon C\to A$ in $\mathfrak{E}$ with $P\hat{h}=h$ making a commutative triangle in $\mathfrak{E}$ as on the left above. 2. Whenever $\theta\colon g\Rightarrow k$ is a 2-cell of $\mathfrak{E}$ for which there is a 2-cell $\gamma\colon h\Rightarrow l$ of $\mathfrak{B}$ making a commutative diagram of composed 2-cells in $\mathfrak{B}$ as at right below $C$$A$$B$$PC$$PA$$PB$$\Rightarrow$$\Rightarrow$$\Rightarrow$$\Rightarrow$$\hat{l}$$\hat{h}$$g\;$$k$$f$$l$$h$$Pg\;\;$$Pk$$Pf$ it follows that there is a unique lift 2-cell $\hat{\gamma}\colon\hat{h}\Rightarrow\hat{l}$ in $\mathfrak{E}$ with $P\hat{\gamma}=\gamma$ making a commutative diagram of composed 2-cells in $\mathfrak{E}$ as on the left immediately above.
Definition 2.17 (Lax Functor). A (normalized) lax functor between 2-categories $F\colon\mathfrak{A}\to\mathfrak{B}$ makes object, arrow, and 2-cells assignments $A\mapsto FA$, $f\mapsto Ff$, and $\alpha\mapsto F\alpha$ and comes equipped with coherence 2-cells $\phi_{f,g}\colon FgFf\Rightarrow F(gf)$ for any two composable arrows $f$ and $g$, all satisfying the following conditions. 1. $F$ strictly preserves domains, codomains, sources and targets, identity morphisms and 2-cells, and vertical composition of 2-cells. 2. For composable arrows $f\colon A\to B$, $g\colon B\to C$ and $h\colon C\to D$ of $\mathfrak{K}$, there is an equality of composite coherence 2-cells $FB$$FC$$FA$$FD$$\Downarrow\phi_{f,g}$$\Downarrow\phi_{gf,h}$$FB$$FC$$FA$$FD.$$\Downarrow\phi_{f,hg}$$\Downarrow\phi_{g,h}$$=$$Fg$$Ff$$Fh$$F(hgf)$$F(gf)$$Fg$$F(hg)$$Ff$$Fh$$F(hgf)$ 3. For horizontally composable 2-cells $\alpha\colon f\Rightarrow g$ and $\beta\colon h\Rightarrow k$ with $f,g\colon A\rightrightarrows B$ and $h,k\colon B\rightrightarrows C$, there is an equality of 2-cells $FA$$\Downarrow F\alpha$$FB$$\Downarrow F\beta$$FC$$\Downarrow\phi_{g,k}$$FA$$FC$$\Downarrow\phi_{f,h}$$\Downarrow F(\beta\ast\alpha)$$=$$Ff$$Fg$$Fh$$Fk$$F(kg)$$FgFf$$F(gf)$$F(kg)$ Let $|\mathbf{2Cat}_{lax}|$ denote the 1-category of 2-categories and lax functors between them.
Definition 2.1.1. A semimodel structure on a category $\mathcal{M}$ consists of classes of weak equivalences $\mathscr{W}$, fibrations $\mathscr{F}$, and cofibrations $\mathscr{Q}$ satisfying the following axioms: M1 The initial object is cofibrant. M2 The class $\mathscr{W}$ is closed under the two out of three property. M3 $\mathscr{W},\mathscr{F},\mathscr{Q}$ are all closed under retracts. M4 i Cofibrations have the left lifting property with respect to trivial fibrations. ii Trivial cofibrations whose domain is cofibrant have the left lifting property with respect to fibrations. M5 i Every map in $\mathcal{M}$ can be functorially factored into a cofibration followed by a trivial fibration. ii Every map whose domain is cofibrant can be functorially factored into a trivial cofibration followed by a fibration. M6 Fibrations are closed under pullback. If, in addition, $\mathcal{M}$ is bicomplete, then we call $\mathcal{M}$ a semimodel category. $\mathcal{M}$ is said to be cofibrantly generated if there are sets of morphisms $I$ and $J$ in $\mathcal{M}$ such that $\operatorname{inj}I$ is the class of trivial fibrations, $\operatorname{inj}J$ is the class of fibrations in $\mathcal{M}$, the domains of $I$ are small relative to $I$-cell, and the domains of $J$ are small relative to maps in $J$-cell whose domain is cofibrant. We will say $\mathcal{M}$ is combinatorial if it is cofibrantly generated and locally presentable.
Definition 4.17 (Lyndon words). Given an alphabet $A$ with a total order, a word $l\in\mathcal{W}(A)$ is said to be a Lyndon word if, for any concatenation factorization $l=a_{1}\cdot a_{2}$ into non-empty words, we have that $a_{2}\geq l$.
Definition 1.22 (Marked permutations). If we consider a marked permutation $\pi^{*}$ on a set $I$, that is, a pair $(\leq_{P},\leq_{V})$ of total orders in $I^{*}$, we write $\mathbb{X}(\pi^{*})=I$. If $f:J\to I$ is an injective map, this can be extended canonically to an injective map $f^{*}:J^{*}\to I^{*}$. Thus, the preimage of each order $\leq_{P},\leq_{V}$ under $f^{*}$ is well defined and is also a total order in $J^{*}$. This defines the marked permutation $\mathtt{MPer}[f](\pi^{*})$. Note that a relabeling of the permutation $\pi^{*}$ in $I^{*}$ is a relabeling of the corresponding marked permutation in $I$ if the relabeling preserves the marked elements.
Definition 3.9 (Marked graphs and two products). For a finite set $I$, a marked graph $G^{*}$ on $I$ is a graph on the vertex set $I\sqcup\{*\}$. This defines a combinatorial presheaf $\mathtt{MGr}$ via the usual notion of relabeling and induced subgraphs. We can further endow the combinatorial presheaf $\mathtt{MGr}$ with two different associative presheaf structures. First, the joint union, $\vee$, which is defined as follows: If $G_{1}^{*}\in\mathtt{MGr}[I],G_{2}^{*}\in\mathtt{MGr}[J]$ with $I\cap J=\emptyset$, then $G_{1}^{*}\vee_{I,J}G_{2}^{*}$ has no edges between $I$ and $J$, and the marked vertices are merged. The second product, the inflation product $\star$ is defined as follows: If $G_{1}^{*}\in\mathtt{MGr}[I],G_{2}^{*}\in\mathtt{MGr}[J]$ with $I\cap J=\emptyset$, then two vertices $i\in I,j\in J$ are connected in $G_{1}^{*}\star_{I,J}G_{2}^{*}$ if $j$ and $*$ are connected in $G_{1}^{*}$. The unit of both products is the marked graph $1$ with a unique vertex and no edges.
Definition 4.30. For a DC interval $I$ of a marked permutation $\alpha^{*}=(\leq_{P},\leq_{V})$, we define the permutation $\alpha^{*}\setminus_{I^{*}}$ in the set $I^{c}$ resulting from the restriction of the orders $\leq_{P},\leq_{V}$ to the set $I^{c}$. Alternatively, this is the permutation resulting from the removal of the marked element in $\alpha^{*}|_{I^{c}}$.
Definition 2.9 (Irreducible objects). Let $(h,\ast,1)$ be a connected associative presheaf. An object $t\in h[I]$ with $t\neq 1$ is called irreducible if any two objects $a\in h[A],b\in h[B]$ such that $a\ast b=t$ and $A\sqcup B=I$ have either $a=1$ or $b=1$. The notion of irreducibility lifts to $\mathcal{G}(h)$. That is, a coinvariant $t\in\mathcal{G}(h)$ with $t\neq 1$ is said to be irreducible if any $a,b\in\mathcal{G}(h)$ such that $a\cdot b=t$ have either $a=1$ or $b=1$. We have that $a\in h[I]$ is irreducible if and only if the corresponding equivalence class $\bar{a}\in\mathcal{G}(h)$ is irreducible. The family of irreducible equivalent classes in $\mathcal{G}(h)$ is denoted by $\mathcal{I}(h)\subseteq\mathcal{G}(h)$.
Definition 1.16 (Associative presheaf). An associative presheaf is a monoid in $\mathtt{CPSh}$, that is, is a combinatorial presheaf $h$ together with natural transformations $\eta:h\odot h\Rightarrow h$ and $\iota:\mathcal{E}\Rightarrow h$ that satisfy associativity and unit conditions. We use, for $a\in h[I]$ and $b\in h[J]$, the notation $\eta_{I,J}(a,b)=a\ast b$. We also denote the unit by $1:=\iota[\emptyset](\diamond)\in h[\emptyset]$. This is said to be commutative if, for any $a\in h[I],b\in h[J]$ with $I\cap J=\emptyset$, we have $a\ast b=b\ast a$.
Definition 4.3 (Irreducible marked permutations). A marked permutation $\pi^{*}$ is called irreducible if any factorization $\pi^{*}=\tau^{*}_{1}\star\tau_{2}^{*}$ has either $\tau^{*}_{1}=\bar{1}$ or $\tau^{*}_{2}=\bar{1}$.
Definition 1.2 (Patterns in presheaves). Let $h$ be a presheaf, and consider two objects $a\in h[I],b\in h[J]$. We say that $J^{\prime}\subseteq I$ is a pattern of $a$ in $b$ if $b|_{J^{\prime}}\sim a$. We define the pattern function $\operatorname{\mathbf{p}}_{a}(b):=\left|\{J^{\prime}\subseteq J\text{ s.t. }% \operatorname{\mathbf{res}}_{J^{\prime}}(b)\sim a\}\right|\,.$
Definition 3.1 (Set composition and set partition). Let $I$ be a finite set. A set composition of $I$ is a list $(B_{1},\dots B_{k})$, that can also be written as $B_{1}|\dots|B_{k}$, of pairwise disjoint nonempty subsets of $I$, such that $I=\bigcup_{i}B_{i}$. We denote by $\Pi_{I}$ the family of set compositions of $I$. A set partition of $I$ is a family $\bm{\pi}=\{I_{1},\dots,I_{k}\}$ of pairwise disjoint nonempty sets, such that $\bigcup_{i}I_{i}=I$. We write $\Sigma_{I}$ for the family of set partitions of $I$. If $\vec{\bm{\pi}}\in\Pi_{I}$ is a set composition, we can define its underlying set partition of $I$ by disregarding the order of the list. We denote it by $\bm{\lambda}(\vec{\bm{\pi}})$.
Definition 4.10 (Stability conditions). A factorization of a marked permutation $\alpha^{*}$ into irreducible marked permutations, $\alpha^{*}=\xi_{1}^{*}\star\dots\star\xi_{j}^{*}\,,$ or the corresponding word $(\xi_{1}^{*},\dots,\xi_{j}^{*})$ in $\mathcal{W}(\Omega)$, is said to be • $i$-$\oplus$-stable if there is no $\pi,\tau$ $\oplus$-indecomposable permutations such that $\xi_{i}^{*}=\bar{1}\oplus\pi\,\text{ and }\xi_{i+1}^{*}=\tau\oplus\bar{1}\,;$ • $i$-$\ominus$-stable if there is no $\pi,\tau$ $\ominus$-indecomposable permutations such that $\xi_{i}^{*}=\tau\ominus\bar{1}\text{ and }\xi_{i+1}^{*}=\bar{1}\ominus\pi\,.$ Such factorization or word is said to be $\oplus$-stable (resp. $\ominus$-stable) if it is $i$-$\oplus$-stable (resp. $i$-$\ominus$-stable ) for any $i=1,\dots,j-1$. Finally, such a factorization or word is said to be stable if it is both $\oplus$-stable and $\ominus$-stable.
Definition 1.20 (Presheaf on permutations - morphisms and notation). If we consider a permutation $\pi$ on a set $I$, that is, a pair $(\leq_{P},\leq_{V})$ of total orders in $I$, we write $\mathbb{X}(\pi)=I$. If $f:J\to I$ is an injective map, the preimage of each order $\leq_{P},\leq_{V}$ is well defined and is also a total order in $J$. This defines the permutation $\mathtt{Per}[f](\pi)$.
Definition 4.22 (Word shuffle). Consider $\Omega$ an alphabet, and let $w,l_{1},\dots,l_{k}\in\mathcal{W}(\Omega)$. We say that $w=(w_{1},\dots,w_{j})$ is a word shuffle of $l_{1},\dots,l_{k}$ if $[j]$ can be partitioned into $k$ many disjoint sets $\{q_{1}^{(i)}<\dots<q^{(i)}_{|l_{i}|}\}$, where $i$ runs over $i=1,\dots,k$, such that $l_{i}=(w_{q_{1}^{(i)}},\dots,w_{q_{|l_{i}|}^{(i)}})\,,$ for all $i=1,\dots,k$.
Definition 2.6 (Product structure in $\mathcal{G}(h)$). If $(h,\ast,1)$ is an associative presheaf, then $\mathcal{G}(h)$ inherits an associative product. If $a$ is an object, we denote its equivalence class under $\sim$ by $\bar{a}$ in this remark. The associative product in $\mathcal{G}(h)$ is defined as follows: Let $a\in h[n_{1}],b\in h[n_{2}]$ and denote $[n_{1}+1,n_{1}+n_{2}]=\{n_{1}+1,\dots,n_{1}+n_{2}\}$. Consider $st$ the order preserving map $st:[n_{1}+1,n_{1}+n_{2}]\to[n_{2}]$, and let $b^{\prime}=h[st](b)$. Then we define the product in $\mathcal{G}(h)$ as $\bar{a}\cdot\bar{b}:=\overline{a\ast b^{\prime}}\in h[n_{1}+n_{2}]_{\sim}$. It is a direct computation to see that $\overline{a\ast b}$ does not depend on the representative chosen for $\overline{a}$ and $\overline{b}$. Thus we have a well defined operation in $\mathcal{G}(h)$.
Definition 3.13 (The presheaf on set compositions). Let $I$ be a finite set, and recall the definition of a set composition in Definition 3.1. If $J\subseteq I$ and $\vec{\bm{\pi}}=(I_{1},\dots,I_{k})$ is a set composition of $I$, then $\vec{\bm{\pi}}|_{J}=(I_{1}\cap J,\dots,I_{k}\cap J)$ is a set composition of $J$, after disregarding the empty sets. This defines a presheaf structure $\mathtt{SComp}$ with $\mathtt{SComp}[I]=\Pi_{I}$, the family of set compositions of $I$. We further endow $\mathtt{SComp}$ with an associative structure $\uplus$ as follows: if $\vec{\bm{\pi}}=(I_{1},\dots,I_{q})$, $\vec{\bm{\tau}}=(J_{1},\dots,J_{p})$ are set partitions of the disjoint sets $I,J$, respectively, let $\vec{\bm{\pi}}\uplus\vec{\bm{\tau}}=(I_{1},\dots,I_{q},J_{1},\dots,J_{p})$ be a set composition of $I\sqcup J$. It is straightforward to observe that $(\mathtt{SComp},\uplus,\emptyset)$ is an associative connected presheaf. Further, we can also observe that the map $\bm{\lambda}:\mathtt{SComp}\Rightarrow\mathtt{SPart}$ is an associative presheaf morphism.
Definition 1.1 (Combinatorial presheaves). A combinatorial presheaf (or a presheaf, for short) is a contravariant functor from $\mathtt{Set}_{\hookrightarrow}$ to $\mathtt{Set}$. A morphism of combinatorial presheaves is simply natural transformation of functors. In this way, we have the category $\mathtt{CPSh}$ of combinatorial presheaves.
Definition 2.7. Let $a\in\mathcal{G}(h)$. Then, define $\Delta\operatorname{\mathbf{p}}_{a}:=\sum_{\begin{subarray}{c}b,c\in\mathcal{G% }(h)\\ b\cdot c=a\end{subarray}}\operatorname{\mathbf{p}}_{b}\otimes\operatorname{% \mathbf{p}}_{c}\,.$ Note that the right hand side is a finite sum, because $b\cdot c=a$ implies that $|b|,|c|\leq|a|$, so this is well defined. Define further the map $\epsilon:\mathcal{A}(h)\to\mathbb{Q}$ that sends $\operatorname{\mathbf{p}}_{a}$ to $\mathbb{1}[a=1]$, where $1$ stands for the unit in the associative presheaf $h$.
Definition 4.2 (Decomposability on the operations $\oplus$ and $\ominus$). We say that a permutation is $\oplus$-indecomposable if it has no non-trivial decomposition of the form $\tau_{1}\oplus\tau_{2}$, and $\oplus$-decomposable otherwise. We say that a marked permutation is $\oplus$-indecomposable if it has no decomposition of the form $\tau\oplus\pi^{*}$ or $\pi^{*}\oplus\tau$, where $\pi^{*}$ is a marked permutation and $\tau$ is a non-trivial permutation, and $\oplus$-decomposable otherwise. Similar definitions hold for $\ominus$. A permutation (resp. a marked permutation) is said to be indecomposable if it is both $\oplus$ and $\ominus$-indecomposable, and is said to be decomposable otherwise.
Definition 1.11 (Inflation product). The inflation product $\star$ in marked permutations is defined as follows: Given two marked permutations $\tau^{*}\in\mathtt{MPer}[I]$ and $\pi^{*}\in\mathtt{MPer}[J]$ with $I,J$ disjoint sets, the inflation product $\tau^{*}\star\pi^{*}\in\mathtt{MPer}[I\sqcup J]$ is a marked permutation resulting from replacing in the diagram of $\tau^{*}$ the marked element with the diagram of $\pi^{*}$. Here is an example: $\includegraphics[valign=c, scale=0.65]{infprod.pdf}\,.$
Definition 4.13 (Orders on marked permutations). The lexicographic order on permutations is the lexicographic order when reading the one-line notation of permutations, and is written $\pi\leq_{per}\tau$. Recall that, for a marked permutation $\alpha^{*}=(\leq_{P},\leq_{V})$ in $I$, we define its rank $\mathfrak{rk}(\alpha^{*})$ as the rank of $*$ in $I\sqcup\{*\}$ with respect to the order $\leq_{P}$. We also write $\alpha$ for referring to the corresponding permutation in the set $I\sqcup\{*\}$. We define the lexicographic order on marked permutations, also denoted $\leq_{per}$, as follows: we say that $\pi^{*}\leq_{per}\tau^{*}$ if $\pi<_{per}\tau$ or if $\pi=\tau$ and $\mathfrak{rk}(\pi^{*})\leq\mathfrak{rk}(\tau^{*})$. This in particular endows our alphabet $\Omega$ of irreducible marked permutations with an order. When we compare words on $\mathcal{W}(\Omega)$ we order them lexicographically according to $\leq_{per}$, and denote it simply as $\leq$. We define the factorization order $\leq_{fac}$ on marked permutations as follows: Let $\pi^{*}=\xi_{1}^{*}\star\dots\star\xi_{k}^{*}$ and $\tau^{*}=\tau_{1}^{*}\star\dots\star\tau_{j}^{*}$ be the respective unique stable factorizations of $\pi^{*}$ and $\tau^{*}$. Then, we say that $\pi^{*}\leq_{fac}\tau^{*}$ if $(\xi_{1}^{*},\dots,\xi_{k}^{*})\leq(\tau_{1}^{*},\dots,\tau_{j}^{*})$ in $\mathcal{W}(\Omega)$.
Definition 1.21 (The $\ominus$ operation). Given two permutations, $\pi,\sigma$, we have already introduced the product $\pi\oplus\sigma$. We now define the permutation $\pi\ominus\tau\in\mathtt{Per}[I\sqcup J]$ as the pair of total orders $(\leq_{P}^{\ominus},\leq_{V}^{\ominus})$ extending the respective ones from $\pi,\tau$ to $I\sqcup J$ by forcing that $i\leq_{P}^{\ominus}j$ and $i\geq_{V}^{\ominus}j$ for any $i\in I,j\in J$. Correspondingly, the diagram of $\pi\ominus\tau$ results from the ones from $\pi$, $\tau$ as $\pi\ominus\tau=\begin{array}[]{|c|c|}\hline\pi&\\ \hline&\tau\\ \hline\end{array}\,\,\,.$
Definition 3.2 (Factorization of objects and coinvariants). Consider an associative presheaf $h$ that is connected, and an object $o\in h[I]$. A factorization of $o$ is a word $(x_{1},\dots,x_{k})$ of objects such that $x_{1}\ast\dots\ast x_{k}=o$. A factorization $(x_{1},\dots,x_{k})$ of $o$ is said to be into irreducibles when each $x_{i}$ is an irreducible object for $i=1,\dots,l$. A factorization of a coinvariant $a\in\mathcal{G}(h)$ is a decomposition of the form $a=s_{1}\cdots s_{k}$. This factorization is said to be into irreducibles if each $s_{i}$ is irreducible. It is clear to see that an object is irreducible if and only if its coinvariant is irreducible.
Definition 4.28. Let $\beta^{*}$ be a marked permutation on the set $X$, i.e. $\beta^{*}=(\leq_{P},\leq_{V})$ is a pair of orders on the set $X^{*}$. A doubly connected interval on $\beta^{*}$, or a DC interval for short, is a set $I\subseteq X$ such that $I^{*}$ is an interval on both orders $\leq_{P},\leq_{V}$. A proper DC interval is a DC interval $I$ such that $I\neq X$.
Definition 3.11 (The presheaf on set partitions). If $\bm{\pi}$ is a set partition of $I$ and $J\subseteq I$, then $\bm{\pi}|_{J}=\{I_{1}\cap J,\dots,I_{k}\cap J\}$ is a set partition of $J$, after disregarding the empty sets. This defines a presheaf structure $\mathtt{SPart}$ with $\mathtt{SPart}[I]=\Sigma_{I}$, the family of set partitions of $I$. We further endow $\mathtt{SPart}$ with an associative structure $\uplus$ as follows: if $\bm{\pi}=\{I_{1},\dots,I_{q}\}$, $\bm{\tau}=\{J_{1},\dots,J_{p}\}$ are set partitions of the disjoint sets $I,J$, respectively, let $\bm{\pi}\uplus\bm{\tau}=\{I_{1},\dots,I_{q},J_{1},\dots,J_{p}\}$ be a set partition of $I\sqcup J$. It is straightforward to observe that $(\mathtt{SPart},\uplus,\emptyset)$ is a commutative connected presheaf.
Definition 2.5 (Shuffles and quasi-shuffles). If an object $a$ is such that $\binom{a}{b_{1},\dots,b_{k}}>0$ we say that $a$ is a quasi-shuffle of $b_{1},\dots,b_{k}$. In addition, if $|a|=\sum_{i=1}^{k}|b_{i}|$, we say that $a$ is a shuffle of $b_{1},\dots,b_{k}$.
Definition 4.19 (Stable Lyndon marked permutations). A word on irreducible marked permutations $w=(\xi_{1}^{*},\dots,\xi_{j}^{*})\in\mathcal{W}(\Omega)$ is called stable Lyndon, or SL for short, if it is a Lyndon word and satisfies the stability conditions introduced in Definition 4.10. A marked permutation $\pi^{*}$ is called stable Lyndon, or SL for short, if there exists an SL word $l=(\xi_{1}^{*},\dots,\xi_{j}^{*})$ such that $l^{*}=\pi^{*}$. We write $\mathcal{L}_{SL}$ for the set of SL marked permutations. Observe that, from 4.12, if such an SL word exists it is unique.
Definition 1.19. Let $(h,\ast_{h},1_{h})$ and $(j,\ast_{j},1_{j})$ be associative presheaves, and let $f$ be a presheaf morphism between $(h,\ast_{h},1_{h})$ and $(j,\ast_{j},1_{j})$. This is an associative presheaf morphism if it preserves the unit and the associative product of the associative presheaves.
Definition 2.12 (The pattern algebra functor). Because of Theorem 2.11, we can define the pattern algebra contravariant functor $\mathcal{A}:\mathtt{CPSh}\to\mathtt{Alg}_{\mathbb{Q}}$. This functor when restricted to the subcategory of associative presheaves is also a functor to bialgebras as $\mathcal{A}:Mon(\mathtt{CPSh})\to\mathtt{BiAlg}_{\mathbb{Q}}$.
Definition 4.7 (Monoidal equivalence relation on $\mathcal{W}(\Omega)$). We now define an equivalence relation on $\mathcal{W}(\Omega)$. For a word $w\in\mathcal{W}(\Omega)$, if $w=(\xi_{1}^{*},\dots,\xi^{*}_{k})$ is such that $\xi_{i}^{*}\star\xi_{i+1}^{*}=\xi_{i+1}^{*}\star\xi_{i}^{*}$ is an $\oplus$-relation or an $\ominus$-relation, we say that $w\sim(\xi_{1}^{*},\dots\xi_{i-1}^{*},\xi_{i+1}^{*},\xi_{i}^{*},\dots,\xi^{*}_{% k})$. We further take the transitive and reflexive closure to obtain an equivalence relation on $\mathcal{W}(\Omega)$.
Definition 2.6. Let $P$ be a cancellative semigroup. Then we let $C^{*}(P,P^{\text{op}})$ be the universal unital C*-algebra generated by a set of partial isometries $\{S_{p}:p\in P\}$ and projections $\{e_{Y}:Y\in\mathcal{J}(P)\}$ such that 1. $S_{p}S_{q}=S_{pq}$ for all $p,q\in P$, 2. $e_{Y}e_{Z}=e_{Y\cap Z}$ for all $Y,Z\in\mathcal{J}(P)$. 3. $e_{\Delta}=1,e_{\emptyset}=0$, 4. $S_{p}e_{Y}S_{p}^{*}=e_{Y_{p}}$ for all $Y\in\mathcal{J}(P)$, $p\in P$, and 5. $S_{p}^{*}e_{Y}S_{p}=e_{Y^{p}}$ for all $Y\in\mathcal{J}(P)$, $p\in P$.
Definition 2.1. Let $P$ be a cancellative semigroup and let $J$ be as above. We let $C^{*}_{\text{ts}}(P,P^{\text{op}})$ denote the C*-algebra generated by the set $\{J_{p}:p\in P\}\subseteq\mathcal{B}\left(\ell^{2}(\Delta)\right)$.
Definition 3.4. Let $P$ be an LCM monoid, and let $\mathcal{S}_{P}$ be as in (15). We define the boundary quotient of $C^{*}(P,P^{\text{op}})$, denoted $\mathcal{Q}(P,P^{\text{op}})$, to be the tight C*-algebra of $\mathcal{S}_{P}$, $\mathcal{Q}(P,P^{\text{op}}):=C^{*}_{\text{tight}}(\mathcal{S}_{P}).$
Definition 2.7. Let $P$ be a semigroup. We say that $P$ is 1. a right LCM semigroup if it is left cancellative and every pair of elements with a common right multiple has a least common right multiple, 2. a left LCM semigroup if it is right cancellative and every pair of elements with a common left multiple has a least common left multiple, 3. an LCM semigroup if it is both a right LCM semigroup and a left LCM semigroup. For any of the three above, the word “semigroup” can be replaced with “monoid” if the semigroup has an identity. Note that if $P$ is a monoid, we have 1. $P$ is a right LCM monoid $\iff$ $P$ left cancellative and the intersection of any two principal right ideals is either empty or another principal right ideal, 2. $P$ is a left LCM monoid $\iff$ $P$ is right cancellative and the intersection of any two principal left ideals is either empty or another principal left ideal. 3. $P$ is an LCM monoid $\iff$ $P$ is cancellative, the intersection of any two principal right ideals is either empty or another principal right ideal, and the intersection of any two principal left ideals is either empty or another principal left ideal.
Definition 2.5. Let $P$ be a cancellative semigroup. Then the set of constructible subsets of $P\times P$, denoted $\mathcal{J}(P)$, is the smallest collection of subsets of $P\times P$ which 1. is closed under finite intersections 2. contains $Y_{p}$ and $Y^{p}$ whenever $Y\in\mathcal{J}(P)$ and $p\in P$, and 3. contains $\Delta$ and $\emptyset$.
Definition 2.13. Let $(G,X)$ be a self-similar action. 1. [EP17, Definition 5.4] $(G,X)$ is called pseudo-free if $g\cdot\alpha=\alpha$ and $\left.g\right|_{\alpha}=1_{G}$ for some $\alpha\in X^{*}$ implies that $g=1_{G}$. 2. [Nek04, p.13] $(G,X)$ is called recurrent if for any $h\in G$ and for any $\alpha,\beta\in X^{*}$ with $|\alpha|=|\beta|$, there exists $g\in G$ such that $g\cdot\alpha=\beta\hskip 28.452756pt\text{and}\hskip 28.452756pt\left.g\right|% _{\alpha}=h.$
Definition 9. Let $\mathcal{A}$ be an abelian category and $\mathcal{T}_{0}$ be a set of objects such that arbitrary coproducts of objects of $\mathcal{T}_{0}$ exist in $\mathcal{A}$. We shall say that $\mathcal{T}_{0}$ is: 1. a 1-tilting set when $\coprod_{T\in\mathcal{T}_{0}}T$ is a 1-tilting object; 2. a self-small set when, for each $T\in\mathcal{T}_{0}$ and each family $(T_{\lambda})_{\lambda\in\Lambda}$ in $\mathcal{T}_{0}$, the canonical map $\coprod_{\lambda\in\Lambda}\mathcal{A}(T,T_{\lambda})\longrightarrow\mathcal{A% }(T,\coprod_{\lambda\in\Lambda}T_{\lambda})$ is an isomorphism. 3. a classical 1-tilting set when it is 1-tilting and self-small. When $\mathcal{T}_{0}=\{T\}$ we say that $T$ is, respectively, a 1-tilting, a self-small and a classical 1-tilting object.
Definition 6. Let $\mathcal{A}$ be an abelian category and let $X$ and $V$ be objects of $\mathcal{A}$, where we asume that all (set-indexed) coproducts of copies of $V$ exist in $\mathcal{A}$. We will say that $X$ is $V$-generated (resp. $V$-presented) when there is an epimorphism of the form $V^{(I)}\twoheadrightarrow X$ (resp. an exact sequence $V^{(J)}\longrightarrow V^{(I)}\twoheadrightarrow X$) for some set $I$ (resp. sets $I$ and $J$). We will denote by $\text{Gen}(V)$ and $\text{Pres}(V)$ the classes of $V$-generated and $V$-presented objects, respectively. When $Q\in\text{Ob}(\mathcal{A})$ is such that all products of copies of $Q$ exist in $\mathcal{A}$, we get the dual notions of $Q$-cogenerated and $Q$-copresented object, and the corresponding subcategories $\text{Cogen}(Q)$ and $\text{Copres}(Q)$.
Definition 10. Let $\mathcal{A}$ be any additive category. We shall say that an object $Y$ of $\mathcal{A}$ is pure-injective if the following two conditions hold: 1. The product of $Y^{I}$ exists in $\mathcal{A}$, for all sets $I$; 2. For each nonempty set $I$, there is a map $\phi:Y^{I}\longrightarrow Y$ such that $\phi\circ\iota_{j}=1_{Y}$, for all $j\in I$. Here $\iota_{j}:Y\longrightarrow Y^{I}$ is the unique morphism such that $\pi_{i}\circ\iota_{j}=\delta_{ij}1_{Y}$, with $\delta_{ij}$ the Kronecker symbol and $\pi_{i}:Y^{I}\longrightarrow Y$ the $i$-th projection. We call the morphism $\iota_{j}$ in $j$-th injection into the product.
Definition 8. Let $\mathcal{A}$ be an abelian category. An object $V$ (resp. Q) of $\mathcal{A}$ will be called quasi-tilting (resp. quasi-cotilting) when all coproducts (resp. products) of copies of $V$ (resp. $Q$) exist in $\mathcal{A}$ and $\text{Gen}(V)=\overline{\text{Gen}}(V)\cap\text{Ker}(\text{Ext}^{1}_{\mathcal{% A}}(V,?)).$ (resp. $\text{Cogen}(Q)=\underline{\text{Cogen}}(Q)\cap\text{Ker}(\text{Ext}^{1}_{% \mathcal{A}}(?,Q))$). The corresponding torsion pair $\mathbf{t}=(\text{Gen}(V),V^{\perp})$ (resp. $\mathbf{t}=(^{\perp}Q,\text{Cogen}(Q))$) (see Lemma 3.2) is called the quasi-tilting (resp. quasi-cotilting) torsion pair associated to $V$ (resp. $Q$). When, for such a $V$ (resp. $Q$), one has $\text{Gen}(V)=\text{Ker}(\text{Ext}^{1}_{\mathcal{A}}(V,?)$ (resp. $\text{Cogen}(Q)=\text{Ker}(\text{Ext}_{\mathcal{A}}^{1}(?,Q))$) and this class is cogenerating (resp. generating) in $\mathcal{A}$, we will say that $V$ (resp $Q$) is a 1-tilting (resp. 1-cotilting) object. The corresponding torsion pair is called the tilting (resp. cotilting) torsion pair associated to $V$ (resp. $Q$).
Definition 4. The t-structure $\tau_{\mathbf{t}}$ of last proposition is said to be the HRS-tilt of $\tau$ with respect to $\mathbf{t}$. The HRS process in $\mathcal{D}$ is a ‘map’ $\Phi_{\mathcal{D}}$ defined on the class of pairs $(\tau,\mathbf{t})$, where $\tau$ is a nondegenerate t-structure in $\mathcal{D}$ and $\mathbf{t}$ is a torsion pair in the heart $\mathcal{H}_{\tau}$ of $\tau$. It is defined by $\Phi_{\mathcal{D}}(\tau,\mathbf{t})=(\tau_{\mathbf{t}},\bar{\mathbf{t}})$.
Definition 2. Let $\mathbf{t}=(\mathcal{T},\mathcal{F})$ be a torsion pair in $\mathcal{A}$. We will say that $\mathbf{t}$ is: 1. faithful (resp. co-faithful) when $\mathcal{F}$ (resp. $\mathcal{T}$) is a generating (resp. cogenerating) class of $\mathcal{A}.$ 2. of finite type when direct limits in $\mathcal{A}$ of objects in $\mathcal{F}$ exist and are in $\mathcal{F}$.
Definition 7. Let $\mathcal{A}$ be an abelian category and let $V$ be an object such that all coproducts of copies of $V$ exist in $\mathcal{A}$. We will say that an object $X$ is $V$-subgenerated when it is isomorphic to a subobject of an object in $\text{Gen}(V).$ The class of $V$-subgenerated objects will be denoted by $\overline{\text{Gen}}(V).$ On the other hand, the class of objects on $\mathcal{A}$ which are isomorphic to direct summands of (resp. finite) coproducts of copies of $V$ will be denoted by $\text{Add}(V)$ (resp. $\text{add}(V)$). Dually, when $Q$ is an object such that all products of copies of $Q$ exist in $\mathcal{A}$, we define the concept of $Q$-subcogenerated object, with the corresponding class $\underline{\text{Cogen}}(Q)$, and the category $\text{Prod}(Q)$ of objects isomorphic to direct summands of products of copies of $Q$.
Definition 3. Let $(\mathcal{D},?[1])$ be a triangulated category. A t-structure on $\mathcal{D}$ is a couple of full subcategories closed under direct summands $(\mathcal{U},\mathcal{W})$ such that: 1. $\mathcal{U}[1]\subseteq\mathcal{U};$ 2. $\mathcal{D}(U,W[-1])=0$, for all $U\in\mathcal{U}$ and $W\in\mathcal{W}$; 3. For each $X\in\mathcal{D}$, there is a distinguished triangle: $U_{X}\rightarrow X\rightarrow V_{X}\rightarrow U_{X}[1]$ with $U_{X}\in\mathcal{U}$ and $V_{X}\in\mathcal{W}[-1]$.
Definition 1. A torsion pair in $\mathcal{A}$ is a pair $\mathbf{t}=(\mathcal{T},\mathcal{F})$ of full subcategories satisfying the following two conditions: 1) $\mathcal{A}(T,F)=0$, for all $T\in\mathcal{T}$ and $F\in\mathcal{F}$; 2) For each object $X$ of $\mathcal{A}$, there is an exact sequence $\xymatrix{0\ar[r]&T_{X}\ar[r]&X\ar[r]&F_{X}\ar[r]&0}$ where $T_{X}\in\mathcal{T}$ and $F_{X}\in\mathcal{F}$.
Definition 5. A torsion pair $\mathbf{t}=(\mathcal{T},\mathcal{F})$ in an abelian category $\mathcal{A}$ will be an adequate torsion pair when $\text{Ext}_{\mathcal{A}}^{1}(T,F)$ is a set, as opposite to a proper class, for all $T\in\mathcal{T}$ and $F\in\mathcal{F}$. We will denote by $(\mathbf{AB},\mathbf{tor})$ the class of pairs $(\mathcal{A},\mathbf{t})$ consisting of an abelian category $\mathcal{A}$ and an adequate torsion pair $\mathbf{t}$ in it. The Happel-Reiten-Smalø (HSR) tilting process is the map $\Phi:(\mathbf{AB},\mathbf{tor})\longrightarrow(\mathbf{AB},\mathbf{tor})$ given by $\Phi[(\mathcal{A},\mathbf{t})]=(\mathcal{H}_{\mathbf{t}},\bar{\mathbf{t}})$, where $\mathcal{H}_{\mathbf{t}}$ is the heart of the HRS tilt $\tau_{\mathbf{t}}$ of the canonical t-structure of $\mathcal{D}(\mathcal{A})$ with respect to $\mathbf{t}$ (see Definition 4).
