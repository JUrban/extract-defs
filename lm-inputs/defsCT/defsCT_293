Definition 3.4. \thlabel def:morphism-of-interpretations Let $(\Gamma,k),(\Gamma^{\prime},k^{\prime}):T\to T^{\prime}$ be interpretations. A morphism of interpretations $\theta:(\Gamma,k)\to(\Gamma^{\prime},k^{\prime})$ is a formula $\theta(x_{1},\ldots,x_{k},y_{1},\ldots,y_{k^{\prime}})$ in the language of $T^{\prime}$ such that: (1) $T^{\prime}\models\forall\bar{x}(\Gamma(x=x)(\bar{x})\to\exists\bar{y}\theta(% \bar{x},\bar{y}))$, (2) $T^{\prime}\models\forall\bar{x}\bar{y}(\theta(\bar{x},\bar{y})\to\Gamma(x=x)(% \bar{x})\wedge\Gamma^{\prime}(y=y)(\bar{y}))$, (3) $T^{\prime}\models\forall\bar{x}\bar{x}^{\prime}\bar{y}(\theta(\bar{x},\bar{y})% \wedge\Gamma(x=x^{\prime})(\bar{x},\bar{x}^{\prime})\to\theta(\bar{x}^{\prime}% ,\bar{y}))$, (4) $T^{\prime}\models\forall\bar{x}\bar{y}\bar{y}^{\prime}(\theta(\bar{x},\bar{y})% \wedge\Gamma^{\prime}(y=y^{\prime})(\bar{y},\bar{y}^{\prime})\to\theta(\bar{x}% ,\bar{y}^{\prime}))$, (5) for every formula $\varphi(x_{1},\ldots,x_{n})$ in the language of $T$, we have: $T^{\prime}\models\forall\bar{x}_{1}\ldots\bar{x}_{n}\bar{y}_{1}\ldots\bar{y}_{% n}(\Gamma(\varphi)(\bar{x}_{1},\ldots,\bar{x}_{n})\wedge\bigwedge_{i=1}^{n}% \theta(\bar{x}_{i},\bar{y}_{i})\to\Gamma^{\prime}(\varphi)(\bar{y}_{1},\ldots,% \bar{y}_{n})).$ This simplifies to $T^{\prime}\models\Gamma(\varphi)\to\Gamma^{\prime}(\varphi)$ for formulas without free variables. Two morphisms of interpretations are considered to be equal if they are equivalent formulas, modulo the relevant theory. Given morphisms $\theta(\bar{x},\bar{y}):(\Gamma,k)\to(\Gamma^{\prime},k^{\prime})$ and $\eta(\bar{y},\bar{z}):(\Gamma^{\prime},k^{\prime})\to(\Gamma^{\prime\prime},k^% {\prime\prime})$, we define their composition to be $\exists\bar{y}(\theta(\bar{x},\bar{y})\wedge\eta(\bar{y},\bar{z}))$. One easily checks that this defines a morphism $(\Gamma,k)\to(\Gamma^{\prime\prime},k^{\prime\prime})$.
Definition 8.1. \thlabel def:pseudofunctor-classifying-topos Every coherent theory $T$ has a classifying topos $\mathbf{Set}[T]$. We extend this to a pseudofunctor $\mathbf{Set}[-]:\mathfrak{CohTheory}^{\textup{op}}\to\mathfrak{Topos}$ by describing what it does on 1-cells and 2-cells. Let $(\Gamma,k):T\to T^{\prime}$ be an interpretation, and let $M$ be a model of $T^{\prime}$ in some topos $\mathcal{E}$. Then we can carry out the construction from \threfrem:interpretation-models internally in $\mathcal{E}$ to obtain a model $\Gamma^{*}(M)$ of $T$ in $\mathcal{E}$. In particular, if we consider $G_{T^{\prime}}$ in $\mathbf{Set}[T^{\prime}]$, then we obtain a model $\Gamma^{*}(G_{T^{\prime}})$ of $T$ in $\mathbf{Set}[T^{\prime}]$. Under the equivalence $\displaystyle T\text{-}\mathbf{Mod}(\mathbf{Set}[T^{\prime}])\simeq% \operatorname{Hom}(\mathbf{Set}[T^{\prime}],\mathbf{Set}[T]),$ this corresponds to a geometric morphism $\mathbf{Set}[\Gamma,k]:\mathbf{Set}[T^{\prime}]\to\mathbf{Set}[T]$. Let $\theta:(\Gamma,k)\to(\Gamma^{\prime},k^{\prime})$ be a morphism of interpretations from $T$ to $T^{\prime}$. Carrying out the construction from \threfrem:morphism-of-interpretations-gives-homomorphism-of-models internally in $\mathbf{Set}[T^{\prime}]$ we get an internal homomorphism $f_{\theta}:\Gamma^{*}(G_{T^{\prime}})\to\Gamma^{\prime*}(G_{T^{\prime}})$. Under the equivalence in (1), this corresponds to a natural transformation $\mathbf{Set}[\theta]:\mathbf{Set}[\Gamma,k]\to\mathbf{Set}[\Gamma^{\prime},k^{% \prime}]$.
Definition 4.6. \thlabel def:beck-chevalley Let $\mathcal{A},\mathcal{B},\mathcal{C}$ and $\mathcal{D}$ be partial orders considered as categories. Suppose we have a commuting square of functors as on the left, and that $G_{*}$ and $H_{*}$ have left adjoints $G^{*}$ and $H^{*}$ respectively. Then we can also form the square on the right. $\tikzcd\mathcal{A}\arrow[r,"F"]\arrow[d,"G_{*}"^{\prime}]&\mathcal{B}\arrow[d,% "H_{*}"]\arrow[rrd,"\leadsto",phantom]&&\mathcal{A}\arrow[r,"F"]&\mathcal{B}\\ \mathcal{C}\arrow[r,"K"^{\prime}]&\mathcal{D}&&\mathcal{C}\arrow[r,"K"^{\prime% }]\arrow[u,"G^{*}"]&\mathcal{D}\arrow[u,"H^{*}"^{\prime}]$ We say that the first square satisfies the Beck-Chevalley condition if the second square commutes.
Definition 5.1. \thlabel def:frobenius-condition Let $\mathcal{A}$ and $\mathcal{B}$ be distributive lattices, viewed as categories. Let $F:\mathcal{A}\rightleftarrows\mathcal{B}:G$ be functors, with $F\dashv G$. Then this pair of adjoints is said to satisfy the Frobenius condition if for all $A$ and $B$ we have: $F(A\wedge G(B))=F(A)\wedge B.$
Definition 2.6. \thlabel def:compact-open-sets For a topological space $X$, write $\mathcal{K}^{o}(X)$ for the partial order of compact open subsets. As such, we consider $\mathcal{K}^{o}(X)$ as a category.
Definition 4.13. \thlabel def:cartesian-family Let $F$ be a type space functor. For $k\geq 1$, a cartesian family (of arity $k$) is a family $\Theta_{n}\subseteq F_{nk}$ of compact open sets, indexed by the natural numbers, such that the following holds. For $1\leq i\leq n$ denote by $j_{i,n}:1\hookrightarrow\mathbf{n}$ the map with value $i$. For all $n$, we require: $\Theta_{n}=\bigcap_{i=1}^{n}F_{j_{i,n}^{\times k}}^{-1}(\Theta_{1}).$ For $n=0$ this is the empty intersection, that is $\Theta_{0}=F_{0}$.
Definition 6.1. \thlabel def:sequent-theory A (coherent) sequent is an assertion of the form $\varphi\vdash_{\bar{x}}\psi,$ where $\varphi$ and $\psi$ are coherent formulas and $\bar{x}$ is a finite tuple of variables, such that the free variables in $\varphi$ and $\psi$ are in $\bar{x}$.
Definition 4.1. \thlabel def:type Let $T$ be a theory, let $M$ be a model of $T$ and let $\bar{a}\in M$ be a tuple of elements. The (coherent) type of $\bar{a}$ is defined as: $\operatorname{ctp}^{M}(\bar{a})=\{\varphi(\bar{x}):M\models\varphi(\bar{a})\}.$ A (complete) type in free variables $\bar{x}$ is a set of formulas $p(\bar{x})$ such that $p(\bar{x})=\operatorname{ctp}^{M}(\bar{a})$ for some model $M$ of $T$ and some $\bar{a}\in M$.
Definition 6.10. \thlabel def:deduction-system The deduction-system for coherent logic has the following rules and axioms. Throughout, $\bar{x}$ denotes the tuple $(x_{1},\ldots,x_{n})$ and $\varphi$, $\psi$ and $\chi$ are arbitrary coherent formulas. {labeling}(distributivity) The axiom: $\varphi\vdash_{{\bar{x}}}\varphi.$ Let $f:\mathbf{n}\to\mathbf{m}$ be any function, then we have the rule: {prooftree} \AxiomC$\varphi(x_{1},\ldots,x_{n})\vdash_{(x_{1},\ldots,x_{n})}\psi(x_{1},\ldots,x_{n})$ \UnaryInfC$\varphi(x_{f(1)},\ldots,x_{f(n)})\vdash_{(x_{1},\ldots,x_{m})}\psi(x_{f(1)},% \ldots,x_{f(n)})$ The rule: {prooftree} \AxiomC$\varphi\vdash_{\bar{x}}\psi$ \AxiomC$\psi\vdash_{\bar{x}}\chi$ \BinaryInfC$\varphi\vdash_{\bar{x}}\chi$ For all $1\leq i\leq n$, the axiom: $\top\vdash_{\bar{x}}x_{i}=x_{i}.$ For all $1\leq i,j\leq n$, the axiom: $(x_{i}=x_{j})\wedge\varphi(x_{1},\ldots,x_{i},\ldots,x_{n})\vdash_{\bar{x}}% \varphi(x_{1},\ldots,x_{j},\ldots,x_{n}).$ The axioms: $\varphi\vdash_{\bar{x}}\top,\varphi\wedge\psi\vdash_{\bar{x}}\varphi,\varphi% \wedge\psi\vdash_{\bar{x}}\psi,$ and the rule: {prooftree} \AxiomC$\varphi\vdash_{\bar{x}}\psi$ \AxiomC$\varphi\vdash_{\bar{x}}\chi$ \BinaryInfC$\varphi\vdash_{\bar{x}}\psi\wedge\chi$ The axioms: $\bot\vdash_{\bar{x}}\varphi,\varphi\vdash_{\bar{x}}\varphi\vee\psi,\psi\vdash_% {\bar{x}}\varphi\vee\psi,$ and the rule: {prooftree} \AxiomC$\varphi\vdash_{\bar{x}}\chi$ \AxiomC$\psi\vdash_{\bar{x}}\chi$ \BinaryInfC$\varphi\vee\psi\vdash_{\bar{x}}\chi$ The double rule: {prooftree} \AxiomC$\varphi(\bar{x},x_{n+1})\vdash_{\bar{x},x_{n+1}}\psi(\bar{x})$ \doubleLine\UnaryInfC$\exists x_{n+1}\varphi(\bar{x},x_{n+1})\vdash_{\bar{x}}\psi(\bar{x})$ The axiom: $\varphi\wedge(\psi\vee\chi)\vdash_{\bar{x}}(\varphi\wedge\psi)\vee(\varphi% \wedge\chi).$ The axiom: $\varphi(\bar{x})\wedge\exists x_{n+1}\psi(\bar{x},x_{n+1})\vdash_{\bar{x}}% \exists x_{n+1}(\varphi(\bar{x})\wedge\psi(\bar{x},x_{n+1})).$
Definition 2.1. \thlabel def:coherent-logic Fix a signature $\mathcal{L}$. A coherent formula or positive existential formula in $\mathcal{L}$ is one that is obtained from combining atomic formulas using $\wedge$, $\vee$, $\top$, $\bot$ and $\exists$. An h-inductive sentence is a sentence of the form $\forall\bar{x}(\varphi(\bar{x})\to\psi(\bar{x}))$ where $\varphi$ and $\psi$ are coherent formulas. A (coherent) theory is a set of h-inductive sentences.
Definition 2.7. \thlabel def:spectral-space A topological space $X$ is called spectral if it is compact, $T_{0}$, sober and such that $\mathcal{K}^{o}(X)$ is closed under finite intersections and forms a basis of the topology. A continuous function $f:X\to Y$ of spectral spaces is called a spectral map if the preimage of a compact open set is compact open. We define $\mathbf{Spec}$ to be the category of spectral spaces and spectral maps.
Definition 5.6. \thlabel def:category-of-hyperdoctrines We call a functor $F:\mathbf{FinSet}\to\mathbf{DLat}$ a Lindenbaum-Tarski functor if every homomorphism in the image of $F$ has a left adjoint satisfying the Frobenius condition, and if the image under $F$ of every pushout in $\mathbf{FinSet}$ satisfies the Beck-Chevalley condition. \thref def:partial-natural-transformation and \threfdef:morphism-partial-natural-transformations can easily be restated in terms of Lindenbaum-Tarski functors, so we view them as definitions for this setting as well. Note that a partial spectral map $f:X\dashrightarrow Y$ (with compact open domain) corresponds to a lattice homomorphism $f^{-1}:\mathcal{K}^{o}(Y)\to\mathcal{K}^{o}(X)$ that may not preserve the top element. The 2-category of Lindenbaum-Tarski functors $\mathfrak{LTFunc}$ has Lindenbaum-Tarski functors as objects, as 1-cells partial natural transformations that satisfy weak Beck-Chevalley and as 2-cells morphisms of partial natural transformations. The category of Lindenbaum-Tarksi functors $\mathbf{LTFunc}$ has Lindenbaum-Tarksi functors as objects and the arrows are natural transformations that satisfy the Beck-Chevalley condition.
Definition 4.12. \thlabel def:type-space-functor A functor $F:\mathbf{FinSet}^{\textup{op}}\to\mathbf{Spec}$ is called open if every map in its image is open. Such an open functor is called a type space functor if for every pushout in $\mathbf{FinSet}$, the induced square satisfies the Beck-Chevalley condition. $\tikzcd\mathbf{a}\arrow[rr,"f"]\arrow[d,"g"^{\prime}]\arrow[rrd,"\text{pushout% }",phantom]&&\mathbf{b}\arrow[d,"h"]\arrow[rd,"\Rightarrow",phantom]&\mathcal{% K}^{o}(F_{a})\arrow[rr,"F_{f}^{-1}"]\arrow[d,"F_{g}^{-1}"^{\prime}]\arrow[rrd,% "\text{satisfies B.C.}",phantom]&&\mathcal{K}^{o}(F_{b})\arrow[d,"F_{h}^{-1}"]% \\ \mathbf{c}\arrow[rr,"k"^{\prime}]&&\mathbf{d}&\mathcal{K}^{o}(F_{c})\arrow[rr,% "F_{k}^{-1}"^{\prime}]&&\mathcal{K}^{o}(F_{d})$
Definition 6.7. \thlabel def:rest-of-th For a partial natural transformation $(\beta,k):F\dashrightarrow F^{\prime}$, we define the interpretation $\operatorname{Th}(\beta,k):\operatorname{Th}(F^{\prime})\to\operatorname{Th}(F)$ of arity $k$ as follows. For each compact open $U\subseteq F^{\prime}_{n}$ we let $\operatorname{Th}(\beta,k)(R_{U})=R_{\beta_{n}^{-1}(U)},$ and we set $\operatorname{Th}(\beta,k)(x=y)=R_{\beta_{2}^{-1}(\llbracket x=y\rrbracket)}$. For a morphism of partial natural transformations $\Theta:(\beta,k)\to(\beta^{\prime},k^{\prime})$ we define the morphism of interpretations $\operatorname{Th}(\Theta):\operatorname{Th}(\beta,k)\to\operatorname{Th}(\beta% ^{\prime},k^{\prime})$ as $R_{\Theta_{1}}$.
Definition 3.6. \thlabel def:2-category-cohtheory The 2-category of theories $\mathfrak{CohTheory}$ has as objects theories, as 1-cells interpretations and as 2-cells morphisms of interpretations. Horizontal composition is defined as follows. Consider the following diagram $\tikzcd T\arrow[rr,"{(\Gamma,k)}",bendleft]\arrow[rr,"{(\Gamma^{\prime},k^{% \prime})}"^{\prime},bendright]&\Downarrow\theta&T^{\prime}\arrow[rr,"{(\Delta,% \ell)}",bendleft]\arrow[rr,"{(\Delta^{\prime},\ell^{\prime})}"^{\prime},% bendright]&\Downarrow\eta&T^{\prime\prime}$ Then $\eta*\theta$ is the following formula: $\exists\bar{y}_{1}\ldots\bar{y}_{k^{\prime}}\left(\Delta(\theta)(\bar{x}_{1},% \ldots,\bar{x}_{k},\bar{y}_{1},\ldots,\bar{y}_{k^{\prime}})\wedge\bigwedge_{i=% 1}^{k^{\prime}}\eta(\bar{y}_{i},\bar{z}_{i})\right),$ where each $\bar{x}_{i}$ and $\bar{y}_{i}$ is of length $\ell$ and each $\bar{z}_{i}$ is of length $\ell^{\prime}$. The category of theories $\mathbf{CohTheory}$ has as objects theories and as arrows strong interpretations.
Definition 4.17. \thlabel def:the-rest-of-s For an interpretation $(\Gamma,k):T\to T^{\prime}$, we define the partial natural transformation $\operatorname{S}(\Gamma,k):\operatorname{S}(T^{\prime})\dashrightarrow% \operatorname{S}(T)$ of arity $k$, where $\operatorname{S}(\Gamma,k)_{n}:\operatorname{S}_{nk}(T^{\prime})% \dashrightarrow\operatorname{S}_{n}(T)$ has domain $[\Gamma(\bar{x}=\bar{x})]$ and is given by $\operatorname{S}(\Gamma,k)_{n}(p)=\{\varphi(\bar{x}):\Gamma(\varphi(\bar{x})% \wedge\bar{x}=\bar{x})\in p\}.$ For a morphism of interpretations $\theta:(\Gamma,k)\to(\Gamma^{\prime},k^{\prime})$ we define the morphism of partial natural transformations $\operatorname{S}(\theta):\operatorname{S}(\Gamma,k)\to\operatorname{S}(\Gamma^% {\prime},k^{\prime})$ by $\operatorname{S}(\theta)_{n}=[\theta(\bar{x}_{1},\bar{y}_{1})\wedge\ldots% \wedge\theta(\bar{x}_{n},\bar{y}_{n})]\subseteq\operatorname{S}_{n(k+k^{\prime% })}(T^{\prime}).$
Definition 8.4. \thlabel def:disjoint-theory Call a theory $T$ positively disjoint if there are formulas $\varphi(\bar{x})$ and $\psi(\bar{x})$ such that $T\models\exists\bar{x}\varphi(\bar{x})\wedge\exists\psi(\bar{x})$ and $T\models\forall\bar{x}\neg(\varphi(\bar{x})\wedge\psi(\bar{x}))$.
Definition 4.20. \thlabel def:2-category-type-space-func The 2-category of type space functors $\mathfrak{TypeSpaceFunc}$ has as objects type space functors, as 1-cells partial natural transformations that satisfy weak Beck-Chevalley and as 2-cells morphisms of partial natural transformations. The category of type space functors $\mathbf{TypeSpaceFunc}$ has as objects type space functors and as arrows natural transformations that satisfy Beck-Chevalley.
Definition 4.2. \thlabel def:type-space-functor-of-a-theory We define the type space functor $\operatorname{S}(T):\mathbf{FinSet}^{\textup{op}}\to\mathbf{Spec}$ of a theory $T$ as follows. Let $n\geq 0$ be a natural number. Then we define $\operatorname{S}_{n}(T)$ to be the set of all complete types in $n$ free variables. For a formula $\varphi$ we write $[\varphi]=\{p\in S_{n}(T):\varphi\in p\}$, and we topologise $\operatorname{S}_{n}(T)$ by taking these sets as basic opens. We call $\operatorname{S}_{n}(T)$ the type space of $T$ in $n$ free variables. For a natural number $n$, we write $\mathbf{n}=\{1,\ldots,n\}$. For a function $f:\mathbf{n}\to\mathbf{m}$, we define a function $\operatorname{S}_{f}(T):\operatorname{S}_{m}(T)\to\operatorname{S}_{n}(T)$ as follows: $\operatorname{S}_{f}(T)(p)=\{\varphi(x_{1},\ldots,x_{n}):\varphi(x_{f(1)},% \ldots,x_{f(n)})\in p(x_{1},\ldots,x_{m})\}.$ Semantically, for a realisation $\bar{a}\in M$ of $p$, we get $\operatorname{S}_{f}(T)(p)=\operatorname{ctp}^{M}(a_{f(1)},\ldots,a_{f(n)})$.
Definition 2.4. \thlabel def:positively-model-complete A coherent theory $T$ is called positively model complete if for every formula $\varphi(x)$ there is a formula $\psi(x)$ such that $T\models\forall\bar{x}(\neg\varphi(\bar{x})\leftrightarrow\psi(\bar{x}))$.
Definition 3.1. \thlabel def:interpretation Let $T$ and $T^{\prime}$ be theories in signatures $\mathcal{L}$ and $\mathcal{L}^{\prime}$ respectively. An interpretation $(\Gamma,k):T\to T^{\prime}$, where $k\geq 1$, assigns to each $n$-ary relation symbol $R$ in $T$ (including the binary symbol for equality) an $nk$-ary $\mathcal{L}^{\prime}$-formula $\Gamma(R)$. This can be extended uniquely to a function sending $\mathcal{L}$-formulas to $\mathcal{L}^{\prime}$-formulas. We then also require for all $\mathcal{L}$-formulas $\varphi(\bar{x})$ and $\psi(\bar{x})$ that precisely have free variables $\bar{x}$ (i.e. they all appear in the formulas): $T\models\forall\bar{x}(\varphi(\bar{x})\to\psi(\bar{x}))\implies T^{\prime}% \models\forall\bar{x}_{1}\ldots\bar{x}_{n}(\Gamma(\varphi)(\bar{x}_{1},\ldots,% \bar{x}_{n})\to\Gamma(\psi)(\bar{x}_{1},\ldots,\bar{x}_{n})).$ An interpretation $(\Gamma,1):T\to T^{\prime}$ that interprets equality as equality is called a strong interpretation, and we simplify the notation to $\Gamma:T\to T^{\prime}$.
Definition 6.2. \thlabel def:theory-of-type-space-functor Let $F$ be a type space functor, we define the internal logic of $F$ as follows. The signature $\mathcal{L}(F)$ has an $n$-ary relation symbol $R_{U}$ for every $U\in\mathcal{K}^{o}(F_{n})$, for all $n\geq 0$. An $n$-ary $\mathcal{L}(F)$-formula $\varphi$ will be interpreted as some compact open $\llbracket\varphi\rrbracket\subseteq F_{n}$, defined by induction on the complexity of the formula: • $\llbracket\top\rrbracket=F_{0}$ and $\llbracket\bot\rrbracket=\emptyset$ ($\bot$ is considered as an $n$-ary formula for all $n$); • $\llbracket R_{U}(x_{f(1)},\ldots,x_{f(n)})\rrbracket=F_{f}^{-1}(U)$, for all $f:\mathbf{n}\to\mathbf{m}$ and $U\in\mathcal{K}^{o}(F_{n})$; • $\llbracket x_{i}=x_{j}\rrbracket=F_{e}(F_{n})$, where $1\leq i,j\leq n$ and $e:\mathbf{n}\to\mathbf{n}$ sends $i$ to $j$ and is the identity everywhere else; • $\llbracket\varphi\wedge\psi\rrbracket=\llbracket\varphi\rrbracket\cap% \llbracket\psi\rrbracket$; • $\llbracket\varphi\vee\psi\rrbracket=\llbracket\varphi\rrbracket\cup\llbracket\psi\rrbracket$; • $\llbracket\exists x_{n+1}\varphi(\bar{x},x_{n+1})\rrbracket=F_{f}(\llbracket% \varphi(\bar{x},x_{n+1})\rrbracket)$, where $f:\mathbf{n}\to\mathbf{n+1}$ is the inclusion. Finally, we define the theory of $F$ as follows: $\operatorname{Th}(F)=\{\varphi\vdash_{\bar{x}}\psi:\llbracket\varphi\rrbracket% \subseteq\llbracket\psi\rrbracket\}.$
Definition 4.15. \thlabel def:partial-natural-transformation Let $F,F^{\prime}$ be type space functors. A partial natural transformation (of arity $k$) is a pair $(\beta,k):F\dashrightarrow F^{\prime}$ where $k\geq 1$ and $\beta$ is a family of partial spectral maps $\beta_{n}:F_{nk}\dashrightarrow F^{\prime}_{n}$. Here $n$ ranges over the natural numbers. The domains of $\beta$ are required to form a cartesian family (of arity $k$). Furthermore, for each $f:\mathbf{n}\to\mathbf{m}$ we require the following to commute: $\tikzcd F_{mk}\arrow[r,"\beta_{m}",dashed]\arrow[d,"F_{f^{\times k}}"^{\prime}% ]&F_{m}^{\prime}\arrow[d,"F_{f}^{\prime}"]\\ F_{nk}\arrow[r,"\beta_{n}"^{\prime},dashed]&F_{n}^{\prime}$
Definition 9.3 (Skeletal model). Suppose we are given abelian groups $G,M$ and an abelian $3$-cocycle $(h,c)\in Z_{ab}^{3}(G,M)$. Let $\mathcal{T}:=\mathcal{T}(G,M,(h,c))$ denote the following braided categorical group: (1) The objects are the elements in $G$. (2) The automorphisms of an object $X\in G$ are $\operatorname*{Aut}(X):=M$, and their composition is the addition of $M$. (3) There are no morphisms except for automorphisms (so no other composition of morphisms needs to be defined). (4) The monoidal structure is $(X\overset{f}{\longrightarrow}X)\otimes_{\mathcal{T}}(X^{\prime}\overset{f^{% \prime}}{\longrightarrow}X^{\prime}):=(X+X^{\prime}\overset{f+f^{\prime}}{% \longrightarrow}X+X^{\prime})\text{,}$ where addition is just addition in $G$ (on objects) resp. in $M$ (for $f,f^{\prime}$). (5) The associator $a_{X,Y,Z}:(X\otimes Y)\otimes Z\overset{\sim}{\longrightarrow}X\otimes(Y% \otimes Z)$ is the automorphism defined by $h(X,Y,Z)\in M$. The associativity of $G$ settles that the objects on either side are the same. (6) The braiding $s_{X,Y}:X\otimes Y\longrightarrow Y\otimes X$ is the automorphism given by $c(X,Y)\in M$.
Definition 9.7 ([DGNO10, Definition 2.38], [EGNO15, §8.4]). Fix a field $k$. A big pre-metric group is a pair $(G,q)$, where $G$ is an abelian group and $q\in\operatorname*{Quad}(G,k^{\times})$ a quadratic form. A morphism $(G,q)\rightarrow(G^{\prime},q^{\prime})$ is a commutative diagram $\xymatrix{G\ar[rr]^{f}\ar[dr]_{q}&&G^{\prime}\ar[dl]^{q^{\prime}}\\ &k^{\times},}$ where $f$ is a group homomorphism. Write $\mathcal{PM}_{k}$ for the category of big pre-metric groups. A symmetric big pre-metric group is a pair $(G,q)$ such that the polarization of the quadratic form vanishes. Write $\mathcal{PM}_{k,sym}$ for the corresponding full subcategory. The original definition without the word “big” refers to the same, except that we demand $G$ to be a finite abelian group.
Definition 5.1. For any non-zero element $x\in G$ pick once and for all a lift $\widetilde{x}\in F_{0}$, i.e. some element such that $\pi(\widetilde{x})=x$. For the neutral element we pick the special lift $\widetilde{0}:=0\text{.}$ Call any such choice an admissible lift.
Definition 9.6. If $(\mathsf{C},\otimes)$ is a big pointed braided fusion category, let $\mathsf{C}_{\operatorname*{simp}}$ be the full subcategory of simple objects, and keep only the isomorphisms as morphisms. Thus, $\mathsf{C}_{\operatorname*{simp}}$ is a groupoid. Moreover, $\mathsf{C}_{\operatorname*{simp}}$ is braided monoidal by restricting the braided monoidal structure to the subcategory.
Definition 3.2. We call a (pre-)admissible presentation optimal if we have $Q(x)=C(x,x)$ for all $x\in F_{0}$.
Definition 2.1. We have third group cohomology $H_{grp}^{3}(G,M)=\frac{Z_{grp}^{3}(G,M)}{B_{grp}^{3}(G,M)}=\frac{\{\text{(% normalized) group }3\text{-cocycles}\}}{\{\text{(normalized) group }3\text{-coboundaries}\}}$ and third abelian cohomology $H_{ab}^{3}(G,M)=\frac{Z_{ab}^{3}(G,M)}{B_{ab}^{3}(G,M)}=\frac{\{\text{abelian }3\text{-cocycles}\}}{\{\text{abelian }3\text{-coboundaries}\}}$
Definition 9.1 ([JS93, §3]). A quadratic triple is a triple $(G,M,q)$, where $G,M$ are abelian groups and $q\in\operatorname*{Quad}(G,M)$ a quadratic form. A morphism $(G,M,q)\rightarrow(G^{\prime},M^{\prime},q^{\prime})$ is a commutative diagram $\xymatrix{G\ar[r]^{f}\ar[d]_{q}&G^{\prime}\ar[d]^{q^{\prime}}\\ M\ar[r]_{g}&M^{\prime},}$ where $f,g$ are group homomorphisms. Write $\mathcal{Q}uad$ for the category of quadratic triples. A symmetric triple is a quadratic triple such that the polarization of the quadratic form $q$ vanishes. Write $\mathcal{Q}uad_{sym}$ for the full subcategory of symmetric triples.
Definition 3.1. A pre-admissible presentation for $q$ is a triple $(F_{0},\pi,C)$, where (1) $F_{0}$ is an abelian group and $\pi$ a surjective group homomorphism $\pi:F_{0}\twoheadrightarrow G\text{;}$ and write $F_{1}:=\ker(\pi)$; (2) $C$ is a $\mathbb{Z}$-bilinear form $C:F_{0}\otimes_{\mathbb{Z}}F_{0}\rightarrow M$ such that $b(\pi x,\pi y)=C(x,y)+C(y,x)$ holds for all $x,y\in F_{0}$. (3) For all $x\in F_{1}$ we have $C(x,x)=0.$ We speak of an admissible presentation when instead of (3) we have the stronger property that $C(x,y)=0$ holds for all $x,y\in F_{1}$.
Definition 9.5. For us, a big fusion category is a semisimple rigid $k$-linear monoidal category $(\mathsf{C},\otimes)$ with finite-dimensional $\operatorname*{Hom}$-spaces such that the monoidal unit $1_{\mathsf{C}}$ is simple. It is pointed if all simple objects are invertible.
Definition 2.2. Let $\mathcal{X}$ be a class of morphisms in $\mathcal{A}$. We say that $\mathcal{X}$ is stable under pullback if, in any pullback square $\tikzcd A\arrow{r}{a}\arrow{d}[swap]{b}\arrow[mysymbol]{dr}[description]{\text% {PB}}&B\arrow{d}{c}\\ C\arrow{r}[swap]{d}&D$ $a$ is in $\mathcal{X}$ whenever $d$ is in $\mathcal{X}$. Being stable under pushout is defined dually.
Definition 5.1. [23, Def. 7.52] Let $\mathcal{A}$ be a pre-abelian category. An object $P\in\mathcal{A}$ is called quasi-projective if, for every cokernel $f\colon X\to Y$, the map $\operatorname{Hom}\nolimits_{\mathcal{A}}(P,f)$ is surjective. We say $\mathcal{A}$ has enough quasi-projectives if for each $A\in\mathcal{A}$ there is a cokernel $P\to A$ with $P$ quasi-projective.
Definition 2.4. [31, p. 168] If epimorphisms in $\mathcal{A}$ are stable under pullback, then $\mathcal{A}$ is called left integral. Dually, if monomorphisms in $\mathcal{A}$ are stable under pushout, then $\mathcal{A}$ is called right integral. If $\mathcal{A}$ is both left and right integral, then it is called integral.
Definition 2.3. [31, p. 168] If cokernels in $\mathcal{A}$ are stable under pullback, then $\mathcal{A}$ is called left quasi-abelian. Dually, if kernels in $\mathcal{A}$ are stable under pushout, then $\mathcal{A}$ is called right quasi-abelian. If $\mathcal{A}$ is both left and right quasi-abelian, then it is called quasi-abelian.
Definition 2.1. [31, p. 167] If each morphism $f\colon A\to B$ in $\mathcal{A}$ can be expressed as $f=i\circ{}p$ for some monomorphism $i$ and some cokernel $p$, then $\mathcal{A}$ is said to be left semi-abelian. Dually, if each morphism $f$ can be written as $f=i\circ{}p$ for some kernel $i$ and some epimorphism $p$, then $\mathcal{A}$ is said to be right semi-abelian. If $\mathcal{A}$ is both left and right semi-abelian, then it is called semi-abelian.
Definition 2. An $n$-correspondence of simplicial sets is a simplicial set $X$ equipped with a map $p:X\rightarrow\Delta^{n}$
Definition 1. A functor $p:\mathcal{X}\rightarrow\mathcal{A}$ is a Grothendiexk fibration if for any fixed $f:a\rightarrow b$ in $\mathcal{A}$ and $x\in p^{-1}(a)$ there is a lift $\bar{f}:x\rightarrow\bar{x}$ in $p^{-1}(f)$ such that any other lift $x\rightarrow y$ of $f$ factors uniquely through $\bar{f}$.
Definición 5.3. Sea $G$ el funtor de olvido de $\mathbb{S}$-Mod a $\mathbb{N}$-Mod.
Definición 4.1. Sea $\mathbb{S}$ el grupoide donde los objetos son los conjuntos ordenados $[n]=\{1,\ldots,n\}$, donde $n$ es un entero positivo y $[0]=\emptyset$. Los morfismos de $\mathbb{S}$ están dados por $\mathbb{S}\mathbb{(}n,m)=\emptyset$, si $n\neq m$, y $\mathbb{S}(n,n)=\Sigma_{n}$, el $n$ grupo simétrico.
Definición 4.12. Sean $M$ y $N$ $\mathbb{S}$-módulos. Se define la suma directa de $M$ y $N$ mediante la fórmula, $\begin{gathered}\displaystyle(M\oplus N)(n)=M(n)\oplus N(n)\end{gathered}$
Definición 3.2. Para cada $M\in\text{DGA-Mod}$, el operad $End(M)$ de endomorfismos de $M$ se define como: 1. Para todo $n\geq 0$, $End(M)(n)=Hom(M^{\otimes n},M)$, es decir el DGA-módulo de aplicaciones homogéneas de $M^{\otimes n}$ a $M$. 2. La unidad $\eta:F\to End(M)(1)$ es la identidad de $M$. 3. La acción derecha de $\Sigma_{n}$ sobre $End(M)$ es inducida por la acción izquierda de $\Sigma_{n}$ sobre $M^{\otimes n}$, es decir, $f\sigma(x_{1}\otimes\cdots\otimes x_{n})=\|\sigma\|f(x_{\sigma^{-1}(1)}\otimes% \cdots\otimes x_{\sigma^{-1}(n)})$. Donde $\|\sigma\|$ es el signo de la permutación $\sigma$. 4. La composición de aplicaciones, $\begin{gathered}\displaystyle\gamma:End(M)(h)\otimes End(M)(i_{1})\otimes% \cdots\otimes End(M)(i_{h})\to End(M)(n)\end{gathered}$ donde $n=i_{1}+\cdots+i_{h}$, está dada por, $\begin{gathered}\displaystyle\gamma(f_{h}\otimes f_{i_{1}}\otimes\cdots\otimes f% _{i_{h}})=f_{h}\circ(f_{i_{1}}\otimes\cdots\otimes f_{i_{h}})\end{gathered}$
Definición 5.7. Sea $\mathcal{G}$ el funtor de olvido de la categoría de operads simétricos $\mathcal{OP}$ a la categoría de operads no simétricos $n\mathcal{OP}$.
Definición 4.3. Se denota $U$ el funtor de olvido de la categoría de operads a la categoría $\mathbb{S}$-Mod.
Definición 5.1. Un operad no simétrico es definido como un operad simétrico pero sin las acciones de los grupos simétricos. La categoría de los operads no simétricos es denotada $n\mathcal{OP}$
Definición 3.1. Un operad $\mathcal{P}$ es una colección de DGA-módulos $\{\mathcal{P}(n)\}_{n\geq 0}$ junto con: 1. Un morfismo $\eta:F\to\mathcal{P}(1)$, llamado la unidad de $\mathcal{P}$. 2. Para cada $n$, una acción a la derecha por el grupo simétrico $\Sigma_{n}$ sobre $\mathcal{P}(n)$, es decir, un morfismo de DGA-módulos que hace de $P(n)$ un DGA-$F[\Sigma_{n}]$-módulo derecho. $\begin{gathered}\displaystyle P(n)\otimes F[\Sigma_{n}]\longrightarrow P(n)% \end{gathered}$ 3. Por cada tupla $(h,i_{1},\ldots,i_{h})$, un morfismo de DGA-módulos, $\begin{gathered}\displaystyle\gamma_{(h,i_{1},\ldots,i_{h})}:\mathcal{P}(h)% \otimes\mathcal{P}(i_{1})\otimes\cdots\otimes\mathcal{P}(i_{h})\to\mathcal{P}(% n)\end{gathered}$ donde $n=i_{1}+\cdots+i_{h}$ y $n,h,i_{j}\geq 0$. Todo morfismo de este tipo se escribirá $\gamma$. Estos morfismos deben de cumplir las siguientes condiciones. 1. Los morfismos $\gamma$ son asociativos, en el sentido del siguiente diagrama conmutativo. $\begin{gathered}\displaystyle\xymatrix{P(h)\otimes\left[\bigotimes_{p=1}^{h}P(% i_{p})\right]\otimes\left[\bigotimes_{p=1}^{h}\bigotimes_{q=1}^{i_{p}}P(r_{p,q% })\ar[r]^{-}{\gamma\otimes 1}\right]\ar[dd]_{-}{\text{intercambio}}&% \displaystyle P(n)\otimes\left[\bigotimes_{p=1}^{h}\bigotimes_{q=1}^{i_{s}}P(r% _{p,q})\right]\ar[d]^{-}{\gamma}\\ &\displaystyle P(r)\\ \displaystyle P(h)\otimes\bigotimes_{p=1}^{h}\left[P(i_{p})\otimes\bigotimes_{% q=1}^{i_{p}}P(r_{p,q})\right]\ar[r]_{-}{1\otimes\gamma^{\otimes h}}&% \displaystyle P(h)\otimes\bigotimes_{p=1}^{h}P(r_{p})\ar[u]_{-}{\gamma}\end{gathered}}$ Donde $n=\sum_{p=1}^{h}i_{p}$, $r=\sum_{p=1}^{h}\sum_{q=1}^{i_{p}}r_{p,q}=\sum_{p=1}^{h}r_{p}$ y la flecha vertical izquierda es solamente un intercambio de factores. 2. La unidad $\eta:F\to P(1)$ hace conmutativos los siguientes diagramas. $\begin{gathered}\displaystyle\xymatrix@R=25pt{\mathcal{P}(n)\otimes F^{\otimes n% }\ar[r]^{-}{\cong}\ar[d]_{-}{1\otimes\eta^{\otimes n}}&\displaystyle\mathcal{P% }(n)\\ \displaystyle\mathcal{P}(n)\otimes\mathcal{P}(1)^{\otimes n}\ar[ru]_{-}{\gamma% }&\displaystyle}\xymatrix{F\otimes\mathcal{P}(n)\ar[r]^{-}{\cong}\ar[d]_{-}{% \eta\otimes 1}&\displaystyle\mathcal{P}(n)\\ \displaystyle\mathcal{P}(1)\otimes\mathcal{P}(n)\ar[ru]_{-}{\gamma}&\end{gathered}}$ 3. La acción de los grupos simétricos deben satisfacer condiciones de equivarianza, expresadas por los siguientes diagramas conmutativos. $\begin{gathered}\displaystyle\xymatrix@C=5pc{\mathcal{P}(h)\otimes\mathcal{P}(% i_{1})\otimes\cdots\otimes\mathcal{P}(i_{h})\ar[d]_{-}{\sigma\otimes\sigma^{-1% }}\ar[r]^{-}{\gamma}&\displaystyle P(n)\ar[d]^{-}{\sigma(i_{1},\ldots,i_{n})}% \\ \displaystyle\mathcal{P}(h)\otimes\mathcal{P}(i_{\sigma(1)})\otimes\cdots% \otimes\mathcal{P}(i_{\sigma(h)})\ar[r]^{-}{\gamma}&\displaystyle P(n)\\ \end{gathered}}$ Donde $n=i_{1}+\cdots+i_{h}$ y la flecha $\sigma\otimes\sigma^{-1}$ consiste en la acción derecha de $\sigma$ sobre $P(h)$ y la acción izquierda de $\sigma^{-1}$ sobre el producto tensorial $P(i_{1})\otimes\cdots\otimes P(i_{h})$. $\begin{gathered}\displaystyle\xymatrix@C=5pc{\mathcal{P}(h)\otimes\mathcal{P}(% i_{1})\otimes\cdots\otimes\mathcal{P}(i_{h})\ar[r]^{-}{1\otimes\tau_{1}\otimes% \cdots\otimes\tau_{h}}\ar[d]_{-}{\gamma}&\displaystyle\mathcal{P}(h)\otimes% \mathcal{P}(i_{1})\otimes\cdots\otimes\mathcal{P}(i_{h})\ar[d]^{-}{\gamma}\\ \displaystyle\mathcal{P}(n)\ar[r]^{-}{\tau_{1}\oplus\cdots\oplus\tau_{n}}&% \displaystyle\mathcal{P}(n)\end{gathered}}$ Donde $n=i_{1}+\cdots+i_{h}$ y la acción $1\otimes\tau_{1}\otimes\cdots\otimes\tau_{h}$ es la identidad de $P(h)$ sobre el primer factor y la acción derecha de $\tau_{j}$ en el factor $P(i_{j})$.
Definición 5.2. Un $\mathbb{N}$-módulo es un funtor contravariante del grupoide $\mathfrak{N}$ con objetos el conjunto $[0]=\emptyset$ y $[n]=\{1,..,n\}$ for $n>0$, y morfismos las aplicaciones identidad, a la categoría DGA-Mod. La categoría de $\mathbb{N}$-módulos se denota $\mathbb{N}$-Mod.
Definición 5.10. Sea $\Psi:\mathbb{S}\text{-Mod}\to\mathbb{S}\text{-Mod}$ el funtor que convierte las acciones por los grupos simétricos de un $\mathbb{S}$-módulo en triviales, es decir, $\begin{gathered}\displaystyle\Psi(M)(n)=\underset{\sigma\in\Sigma_{n}}{\text{% coeq}}\left(M(n)\underset{\longrightarrow}{\sigma}M(n)\right)\end{gathered}$
Definición 4.7. Sean $M$ y $N$ $\mathbb{S}$-módulos. Se define la composición de $M$ con $N$ como el $\mathbb{S}$-módulo, $\begin{gathered}\displaystyle M\circ N=\bigoplus_{h\geq 0}M(h)\otimes_{\Sigma_% {h}}N^{\otimes h}\end{gathered}$
