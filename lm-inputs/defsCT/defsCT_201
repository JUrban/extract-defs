Definition 3.3. Let $(\mathbb{D},R)$ be a join-strong distributive proximity lattice. The $R$-spectrum of $(\mathbb{D},R)$ is the space $X_{(\mathbb{D},R)}$, whose points are prime round filters of $(\mathbb{D},R)$ and whose topology is generated by the sets of the form $U_{d}:=\{F:d\in F\}$, for $d\in\mathbb{D}$.
Definition 2.1. Let $\mathbb{L}$ be a lattice. We call an extension $h:\mathbb{L}\to\mathbb{C}$ a canonical extension of $\mathbb{L}$ if 1. (dense) For all $u,v\in\mathbb{C}$, if $u\nleq v$, then there exist a filter element $x$ and an ideal element $y$ such that $x\leq u$, $v\leq y$, and $x\nleq y$ in $\mathbb{C}$. 2. (compact) For any subsets $S,T\subseteq L$ such that $\bigwedge h[S]\leq\bigvee h[T]$ in $\mathbb{C}$, there are finite sets $S^{\prime}\subseteq S$ and $T^{\prime}\subseteq T$ such that $\bigwedge S^{\prime}\leq\bigvee T^{\prime}$ in $\mathbb{L}$.
Definition 3.2 A presentation for a formal topology $(\mathbb{P},{\rm Cov})$ is a function BCov assigning to every $a\in\mathbb{P}$ a small collection of basic covering sieves BCov($a$) such that: $S\in{\rm Cov}(a)\Leftrightarrow\exists R\in{\rm BCov}(a):R\subseteq S.$ A formal topology which has a basis will be called presentable.
Definition 3.14 A continuous map or a morphism of formal spaces $F:(\mathbb{P},{\rm Cov})\to(\mathbb{Q},{\rm Cov^{\prime}})$ is a subset $F\subseteq P\times Q$ such that: (1) If $F(p,q)$, $p^{\prime}\leq p$ and $q\leq q^{\prime}$, then $F(p^{\prime},q^{\prime})$. (2) For every $p\in\mathbb{P}$ there is a cover $S\in{\rm Cov}(p)$ such that each $p^{\prime}\in S$ is related via $F$ to some element $q^{\prime}\in\mathbb{Q}$. (3) For every $q,q^{\prime}\in\mathbb{Q}$ and element $p\in\mathbb{P}$ such that $F(p,q)$ and $F(p,q^{\prime})$, there is a cover $S\in{\rm Cov}(p)$ such that every $p^{\prime}\in S$ is related via $F$ to an element which is smaller than or equal to both $q$ and $q^{\prime}$. (4) Whenever $F(p,q)$ and $T$ covers $q$, there is a sieve $S$ covering $p$, such that every $p^{\prime}\in S$ is related via $F$ to some $q^{\prime}\in T$. (5) For every $q\in\mathbb{Q}$, the set $\{p\,:\,F(p,q)\}$ is closed under the covering relation. In condition (5) we say that a sieve $S$ is closed under covering relation (or simply closed), if $R\in{\rm Cov}(a),R\subseteq S\Longrightarrow a\in S.$
Definition 2.1 Let $S$ be a class. We will write Pow($S$) for the class of subsets of $S$. An inductive definition is a subclass $\Phi$ of ${\rm Pow}(S)\times S$. One should think of the pairs $(X,a)\in\Phi$ as rules of the kind: if all elements in $X$ have a certain property, then so does $a$. Accordingly, a subclass $A$ of $S$ will be called $\Phi$-closed, if $X\subseteq A\Rightarrow a\in A$ whenever $(X,a)$ is in $\Phi$.
Definition 3.1 A formal space is a small site whose underlying category is a preorder. By a preorder, we mean a set $\mathbb{P}$ together with a small relation $\leq\,\subseteq\,\mathbb{P}\times\mathbb{P}$ which is both reflexive and transitive. If $a$ is an element of $\mathbb{P}$ then we will write $\downarrow a$ or $M_{a}$ for $\{p\in\mathbb{P}\,:\,p\leq a\}$, and if $\alpha$ is a subset of $\mathbb{P}$ then we will write $\downarrow\alpha=\{p\in\mathbb{P}\,:\,(\exists a\in\alpha)\,p\leq a\}$. For the benefit of the reader, we repeat the axioms for a site from [bergmoerdijk10b] for the special case of preorders. Fix an element $a\in\mathbb{P}$. By a sieve on $a$ we will mean a downwards closed subset of $\downarrow a$. The set $M_{a}=\,\downarrow a$ will be called the maximal sieve on $a$. In a predicative setting, the sieves on $a$ form in general only a class. If $S$ is a sieve on $a$ and $b\leq a$, then we write $b^{*}S$ for the sieve $b^{*}S=S\,\cap\downarrow b$ on $b$. We will call this sieve the restriction of $S$ to $b$. A (Grothendieck) topology Cov on $\mathbb{P}$ is given by assigning to every object $a\in\mathbb{P}$ a collection of sieves ${\rm Cov}(a)$ such that the following axioms are satisfied: (Maximality) The maximal sieve $M_{a}$ belongs to ${\rm Cov}(a)$. (Stability) If $S$ belongs to ${\rm Cov}(a)$ and $b\leq a$, then $b^{*}S$ belongs to ${\rm Cov}(b)$. (Local character) Suppose $S$ is a sieve on $a$. If $R\in{\rm Cov}(a)$ and all restrictions $b^{*}S$ to elements $b\in R$ belong to ${\rm Cov}(b)$, then $S\in{\rm Cov}(a)$. A pair $(\mathbb{P},{\rm Cov})$ consisting of a preorder $\mathbb{P}$ and a Grothendieck topology Cov on it is called a formal topology or a formal space. If a formal topology $(\mathbb{P},{\rm Cov})$ has been fixed, the elements of $\mathbb{P}$ will be referred to as basic opens or basis elements and the sieves belonging to some ${\rm Cov}(a)$ will be referred to as the covering sieves. If $S$ belongs to ${\rm Cov}(a)$ one says that $S$ is a sieve covering $a$, or that $a$ is covered by $S$.
Definition 3.4 If $\mathbb{P}$ is a preorder, then a covering system is a map $C$ assigning to every $a\in\mathbb{P}$ a small collection $C(a)$ of subsets of $\downarrow a$ such that the following covering axiom holds: for every $\alpha\in C(p)$ and $q\leq p$, there is a $\beta\in C(q)$ such that $\beta\subseteq q^{*}(\downarrow\alpha)=\{r\leq q\,:\,(\exists a\in\alpha)\,r% \leq a\}$.
Definition 3.11 A point of a formal space $(\mathbb{P},\mbox{Cov})$ is an inhabited subset $\alpha\subseteq\mathbb{P}$ such that (1) $\alpha$ is upwards closed, (2) $\alpha$ is downwards directed, (3) if $S\in\mbox{Cov}(a)$ and $a\in\alpha$, then $S\cap\alpha$ is inhabited. We say that a point $\alpha$ belongs to (or is contained in) a basic open $p\in\mathbb{P}$ if $p\in\alpha$, and we will write ${\rm ext}(p)$ for the class of points of the basic open $p$.
Definition 4.3 (Derived Koszul dual of an operad). Let $Q$ be a reduced cooperad. Then we define a reduced operad structure on the Spanier-Whitehead dual $\mathbb{D}Q$ with composition maps $\mathbb{D}Q(J)\wedge\bigwedge_{j\in J}\mathbb{D}Q(I_{j})\arrow{e,t}{m}\mathbb{% D}\left(Q(J)\wedge\bigwedge_{j\in J}\mathbb{Q}(I_{j})\right)\arrow{e}\mathbb{D% }Q(I)$ where the second map is induced by the cooperad structure map $Q(I)\to Q(J)\wedge\bigwedge_{j\in J}Q(I_{j})$. This construction determines a functor $\mathbb{D}:\mathsf{Cooperad}\to\mathsf{Operad}^{op}$ If $P$ is a reduced operad, we define the derived Koszul dual of $P$ to be the reduced operad $KP:=\mathbb{D}BP.$ This gives us a functor $K:\mathsf{Operad}\to\mathsf{Operad}^{op}.$
Definition 2.17 (Truncated operads). Let $P$ be a termwise-cofibrant reduced operad. For an integer $n\geq 1$, the $n$th truncation of $P$ is the reduced operad $P_{\leq n}$ given by $P_{\leq n}(I):=\begin{cases}P(I)&\text{if $|I|\leq n$};\\ \;\;*&\text{otherwise}.\end{cases}$ with composition and unit maps equal to those for $P$ except when those maps are forced to be trivial. We also define the $n$th layer of $P$ to be the reduced operad $P_{=n}$ given by $P_{=n}(I):=\begin{cases}P(I)&\text{if $|I|=n$};\\ \;\;S&\text{if $|I|=1$};\\ \;\;*&\text{otherwise}.\end{cases}$ with the trivial operad structure.
Definition 3.13 (Left adjoint to the cobar construction). Given $I$-trees $T,U$, we define a pointed simplicial set $\bar{w}(T;U)$ by: $\bar{w}(T;U):=\begin{cases}\bigwedge_{u\in U}\bar{w}(T_{u})&\text{if $U\leq T$% };\\ \quad*&\text{otherwise}.\end{cases}$ For $U\leq U^{\prime}$, we have $\bar{w}(T;U)\to\bar{w}(T;U^{\prime})$ given, if $U^{\prime}\leq T$, by smashing together, over $u\in U$, the maps $\nu:\bar{w}(T_{u})\to\bigwedge_{u^{\prime}\in(U^{\prime})_{u}}\bar{w}(T_{u^{% \prime}})$ of Definition 2.1. If $T\leq T^{\prime}$, we have $\bar{w}(T;U)\to\bar{w}(T^{\prime};U)$ given, if $U\leq T$, by smashing together, over $u\in U$, the maps $\iota:\bar{w}(T_{u})\to\bar{w}(T^{\prime}_{u}).$ These maps make $\bar{w}(-;-)$ into a functor $\mathsf{T}(I)\times\mathsf{T}(I)\to\mathsf{sSet}_{*}$. We also have isomorphisms $\mu_{T;U,T^{\prime};U^{\prime}}:\bar{w}(T;U)\wedge\bar{w}(T^{\prime};U^{\prime% })\arrow{e,t}{\cong}\bar{w}(T\cup_{i}T^{\prime};U\cup_{i}U^{\prime}).$ Now let $P$ be a reduced operad. We define a pre-cooperad $\mathbb{B}P$ by $\mathbb{B}P(T):=\bar{w}(T;U)^{\mathsf{rev}}\wedge_{U\in\mathsf{T}(I)}P(U).$ The pre-cooperad structure maps come from combining the isomorphisms $\mu_{T;U,T^{\prime};U^{\prime}}$ above with the isomorphisms $P(U)\wedge P(U^{\prime})\arrow{e,t}{\cong}P(U\cup_{i}U^{\prime})$. These constructions determine a functor $\mathbb{B}:\mathsf{Operad}\to\mathsf{PreCooperad}.$
Definition 2.3 (Reverse of a simplicial set). The simplicial indexing category $\Delta$ has an automorphism $R$ that sends a totally ordered finite set to its ‘opposite’, that is, the same set with the opposite order. For a simplicial set $X$, the reverse of $X$, denoted $X^{\mathsf{rev}}$ is the simplicial set $X\circ R$.
Definition 3.5 (Cobar construction for pre-cooperads). For each pre-cooperad $Q$, we define $CQ$ to be the reduced operad given by $CQ(I):=\operatorname{Map}_{T\in\mathsf{T}(I)}(\bar{w}(T),Q(T))$ with operad composition maps given by combining the $\nu_{T,i,U}$ of Definition 2.1 with the $m_{T,i,U}$ of Definition 3.3. (As with the original definition of $CQ$, we are also using the maps $d^{*}$ of Remark 1.9.) We thus obtain a functor $C:\mathsf{PreCooperad}\to\mathsf{Operad}.$
Definition 3.19 (The map of pre-cooperads $BCQ\to W^{c}Q$). For an $I$-tree $T$ and any operad $P$ we have $\begin{split}\displaystyle BP(T)&\displaystyle=\bigwedge_{t\in T}\bar{w}(U_{t}% )\wedge_{U_{t}\in\mathsf{T}(I_{t})}P(U_{t})\\ &\displaystyle\cong\left[\bigwedge_{t\in T}\bar{w}(U_{t})\right]\wedge_{T\leq U% }P(U).\end{split}$ In particular, this gives $BCQ(T)\cong\left[\bigwedge_{t\in T}\bar{w}(U_{t})\right]\wedge_{T\leq U}% \bigwedge_{u\in U}\operatorname{Map}_{V_{u}\in\mathsf{T}(I_{u})}(\bar{w}(V_{u}% ^{\mathsf{rev}}),Q(V_{u}))$ which has a natural map, for each $V\geq U$ to $\left[\bigwedge_{t\in T}\bar{w}(U_{t})\right]\wedge_{T\leq U}\operatorname{Map% }\left(\bigwedge_{u\in U}\bar{w}(V_{u})^{\mathsf{rev}},Q(V)\right).$ To define a map from here to $W^{c}Q(T)=\operatorname{Map}_{T\leq V}(\Delta[V;T]^{\mathsf{rev}}_{+},Q(V))$ it is sufficient to give, for each $U$ with $T\leq U\leq V$, a map of simplicial sets $\theta^{*}_{T,U,V}:\Delta[V;T]^{\mathsf{rev}}_{+}\wedge\bigwedge_{t\in T}\bar{% w}(U_{t})\to\bigwedge_{u\in U}\bar{w}(V_{u})^{\mathsf{rev}}.$ We get such maps by smashing together, over $t\in T$, the maps $\theta_{V_{t},U_{t}}^{\mathsf{rev}}:\Delta[V_{t}]^{\mathsf{rev}}_{+}\wedge\bar% {w}(U_{t})\to\bigwedge_{u\in U_{t}}\bar{w}(V_{u})^{\mathsf{rev}}$ of Definition 2.10 and noticing that $\Delta[V;T]\cong\prod_{t\in T}\Delta[V_{t}].$ The necessary checks here are essentially the same as those used in the construction of the map $\theta:WP\to CBP$ in Definition 2.10. They amount to checking that the maps $\theta^{*}_{T,U,V}$ are natural in $T,U,V$, and respect the grafting maps $\Delta[V;T]\times\Delta[V^{\prime};T^{\prime}]\arrow{e,t}{\cong}\Delta[V\cup_{% i}V^{\prime};T\cup_{i}T^{\prime}],$ and decomposition maps $\bar{w}(U\cup_{i}U^{\prime})\to\bar{w}(U)\wedge\bar{w}(U^{\prime})$ and $\bar{w}(V\cup_{i}V^{\prime})\to\bar{w}(V)\wedge\bar{w}(V^{\prime}).$ Together these ensure that we have a well-defined map of pre-cooperads $\theta^{*}:BCQ\to W^{c}Q.$
Definition 2.9 (The basic maps). Define a map of simplicial sets $h:\Delta[1]\times\Delta[1]^{\mathsf{rev}}\to\Delta[1]$ whose realization is the map $(t,s)\mapsto\max(t-s,0)$ by the following picture: $\Delta[1]\times\Delta[1]^{\mathsf{rev}}$$\Delta[1]$$(0,1)$$(1,1)$$(t,s)$$\max(t-s,0)$$(0,0)$$(1,0)$$0$$1$ Also let $r$ denote the ‘reflection’ $r:\Delta[1]^{\mathsf{rev}}\to\Delta[1]$ whose realization is the map $s\mapsto 1-s.$ It is to allow for the definition of the maps $r$ and $h$ that we have to be careful with the orientations of our intervals, using reversals in the definition of the cobar construction.
Definition 6.3 (Dual composition product). Given two symmetric sequences $A_{0},A_{1}$, the dual composition product $A_{1}\;\hat{\circ}\;A_{0}$ is the symmetric sequence with $(A_{1}\;\hat{\circ}\;A_{0})(I):=\prod_{I\twoheadrightarrow J}A_{1}(J)\wedge% \bigwedge_{j\in J}A_{0}(I_{j}).$ Strictly, the indexing here is over the set of isomorphism classes of surjections from $I$ to another finite set $J$, where $f:I\twoheadrightarrow J$ and $f^{\prime}:I\twoheadrightarrow J^{\prime}$ are isomorphic if there is a bijection $\sigma:J\to J^{\prime}$ such that $\sigma f=f^{\prime}$. This set of isomorphism classes is in one-to-one correspondence with the set of unordered partitions of $I$ into nonempty subsets. Because the smash product does not commute with products in ${\mathsf{Spec}}$, the dual composition product $\;\hat{\circ}\;$ does not define an associative monoidal structure on the category of symmetric sequences. However, we can still define objects that play the role of iterations of $\;\hat{\circ}\;$. Given $A_{0},\dots,A_{n}$, we define the iterated dual composition product by taking $(A_{n}\;\hat{\circ}\;A_{n-1}\;\hat{\circ}\;\dots\;\hat{\circ}\;A_{1}\;\hat{% \circ}\;A_{0})(I)$ to be $\prod_{I\twoheadrightarrow J^{(1)}\twoheadrightarrow\dots\twoheadrightarrow J^% {(n)}}A_{n}(J^{(n)})\wedge\bigwedge_{j\in J^{(n)}}A_{n-1}(J^{(n-1)}_{j})\wedge% \dots\wedge\bigwedge_{j\in J^{(1)}}A_{0}(I_{j}).$ The product is indexed by isomorphism classes of sequences of surjections $I\twoheadrightarrow J^{(1)}\twoheadrightarrow\dots\twoheadrightarrow J^{(n)}$ of finite sets. The cobar construction $C(S,Q,N)$, for a right $Q$-comodule $S$ and left $Q$-comodule $N$, is isomorphic to the totalization of a cosimplicial symmetric sequence with $k$-cosimplices given by $S\;\hat{\circ}\;\overbrace{Q\;\hat{\circ}\;\dots\;\hat{\circ}\;Q}^{k}\;\hat{% \circ}\;N.$ The coface maps are determined by the cooperad decomposition on $Q$ and the comodule structures on $S$ and $N$. The codegeneracy maps are determined by the counit map $Q\to\mathsf{1}$ for the cooperad $Q$. These are referred to in [7, 7.15] and are spelled out in more detail in [6].
Definition 1.4 (Trees). Let $I$ be a nonempty finite set. An $I$-tree $T$ is a finite directed non-planar tree with a single terminal vertex (the root) and a bijection between $I$ and the set of initial vertices (the leaves). The root has exactly one incoming edge, the root edge, and no outgoing edge. Each leaf has exactly one outgoing edge, a leaf edge, and no incoming edges. The other vertices (the internal vertices) have exactly one outgoing edge and at least two incoming edges. For smallness-sake, we restrict the vertices of our trees to lie in some fixed countable set such as $\mathbb{N}$. Thus there is only a set of $I$-trees for any given $I$. An isomorphism of $I$-trees is a bijection between directed graphs that preserves the labelling of the leaves. If such an isomorphism exists, it is unique. For $I$-trees $T,U$, we say that $T\leq U$ if $T$ is isomorphic to a tree obtained by contracting some set of internal edges in $U$. This relation determines a preorder on the set of $I$-trees, that is, makes that set into a category in which each set of morphisms has at most one element. We denote this category by $\mathsf{T}(I)$.2We could construct this category more intrinsically by defining a morphism of $I$-trees to be a surjective function on the vertices of the trees that takes edges either to edges or to single vertices, and that preserves the labelling. If such a morphism exists between two $I$-trees then it is unique. In fact, this choice of morphisms produces the opposite of the category $\mathsf{T}(I)$. We reverse the direction to preserve the connection with the notation of [7] and so that $T<U$, in the preorder, when $T$ has fewer vertices than $U$. For each nonempty finite set $I$, there is an $I$-tree with no internal edges, that is unique up to isomorphism. We denote a choice of such tree by $\tau_{I}$. The tree $\tau_{I}$ is an initial object in $\mathsf{T}(I)$. If $I$ has only one element, then $\tau_{I}$ has no internal vertices and is the only element of $\mathsf{T}(I)$, up to isomorphism. For an edge $e$ in an $I$-tree $T$, we write $T/e$ for the $I$-tree obtained by contracting the edge $e$ and identifying its endpoints to a new vertex. A bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$ determines an isomorphism of categories $\sigma_{*}:\mathsf{T}(I)\arrow{e,t}{\cong}\mathsf{T}(I^{\prime})$ where $\sigma_{*}T$ has the same underlying tree as $T$, with a leaf labelled by $i$ in $T$, instead labelled by $\sigma(i)$ in $\sigma_{*}T$. We refer to $\sigma_{*}$ as the relabelling functor associated to $\sigma$. In particular a permutation of $I$ determines a relabelling functor from $\mathsf{T}(I)$ to itself. The following definitions play a particularly important role in this paper. First, if $t$ is an internal vertex of the $I$-tree $T$, we write $I_{t}$ for the set of incoming edges of $t$. If $U$ is another $I$-tree with $U\geq T$, then we can partition the vertices of $U$ according to the vertices of $T$ that they are identified with when collapsing edges in $U$ to form $T$. For the internal vertex $t$ of $T$, we write $U_{t}$ for the fragment of the tree $U$ formed by those vertices that collapse to $t$. The tree $U_{t}$ is naturally labelled by the set $I_{t}$. The following diagram illustrates this notation.
Definition 1.12 (Resolution by the $W$-construction). For an $I$-tree $T$ and reduced operad $P$, we have maps $\eta_{T}:\Delta[T]_{+}\wedge P(T)\to P(I)$ given by the collapse map $\Delta[T]\to*$ and the operad composition map $P(T)\to P(I)$. These are natural in $T$ in the appropriate way and so together determine $\eta_{I}:WP(I)\to P(I).$ The $\eta_{T}$ also respect the grafting maps $\mu_{T,i,U}$ and we get a map of operads $\eta:WP\to P.$
Definition 1.6 ($A(T)$). Let $A$ be a symmetric sequence. For an $I$-tree $T$, we define $A(T)$ to be the spectrum $A(T):=\bigwedge_{t\in T}A(I_{t}).$ This smash product is indexed over the set of internal vertices of the tree $T$ and throughout this paper we write such indexing as over ‘$t\in T$’. Notice that we have natural isomorphisms $A(\tau_{I})\cong A(I)$ and $A(T\cup_{i}U)\cong A(T)\wedge A(U).$ Also notice that $A(T)$ does not actually depend on the labelling of the leaves of $T$ by the elements of $I$. In particular, $A(T)=A(\sigma_{*}T)$ for any bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$. An isomorphism $f$ between $I$-trees $T$ and $T^{\prime}$ determines an isomorphism $A(f):A(T)\arrow{e,t}{\cong}A(T^{\prime})$ as follows. Each vertex $t\in T$ corresponds under $f$ to a vertex $f(t)\in T^{\prime}$. The isomorphism $f$ also determines a bijection between the set $I_{t}$ of incoming edges of $t$ in $T$, and the set $I_{f(t)}$ of incoming edges of $f(t)$ in $T^{\prime}$. For each $t$, we therefore get an isomorphism $A(I_{t})\arrow{e,t}{\cong}A(I_{f(t)}).$ Smashing these together over $t\in T$, we get the required isomorphism $A(f)$.
Definition 1.2 (Operads). An operad $P$ in ${\mathsf{Spec}}$ consists of a symmetric sequence $P$ together with composition maps, for each finite disjoint union of nonempty finite sets $I=\coprod_{j\in J}I_{j}$: $P(f):P(J)\wedge\bigwedge_{j\in J}P(I_{j})\to P(I)$ and a unit map $\eta:S\to P(1)$ where $S$ is the sphere spectrum (i.e. the unit object for the smash product) and $P(1)$ denotes the value of $P$ on the one-element set $\{1\}$. These maps satisfy standard naturality, associativity and unitivity conditions (see [7, 2.2]). An operad is reduced if the unit map $\eta$ is an isomorphism between $S$ and $P(1)$. In this paper we consider only reduced operads. A morphism $P\to P^{\prime}$ of reduced operads consists of a natural transformation between the symmetric sequences $P$ and $P^{\prime}$ that commutes with the composition and unit maps. We thus obtain a category $\mathsf{Operad}$ of reduced operads in ${\mathsf{Spec}}$. In [1, Appendix], we showed that $\mathsf{Operad}$ is enriched, tensored and cotensored over the category $\mathsf{sSet}_{*}$ of pointed simplicial sets, and that it has a cofibrantly generated simplicial model structure, in which weak equivalences and fibrations are defined termwise. We refer to this as the projective model structure on the category of operads.
Definition 4.7 (Termwise-finite operads). We say that the symmetric sequence $A$ is termwise-finite if, for each $I$, $A(I)$ is weakly equivalent to a finite cell $S$-module. An operad or cooperad is termwise-finite if its underlying symmetric sequence is. Since it comes up a lot, we say that a symmetric sequence (or operad or cooperad) is termwise-finite-cofibrant if it is both termwise-finite and termwise-cofibrant.
Definition 3.2 (The category $\mathsf{Tree}$). Let $\mathsf{Tree}$ denote the category whose objects are the $I$-trees for all finite sets $I$ with $|I|\geq 2$, and for which a morphism $T\to T^{\prime}$, where $T\in\mathsf{T}(I)$ and $T^{\prime}\in\mathsf{T}(I^{\prime})$, consists of a bijection $\sigma:I\to I^{\prime}$ such that $\sigma_{*}T\leq T^{\prime}$ in $\mathsf{T}(I^{\prime})$. Composition in $\mathsf{Tree}$ is composition of bijections – this is well-defined because if $\sigma_{*}T\leq T^{\prime}$ and $\rho_{*}T^{\prime}\leq T^{\prime\prime}$ then $\rho_{*}\sigma_{*}T\leq T^{\prime\prime}$.
Definition 2.4 (Cobar construction for cooperads). Given a reduced cooperad $Q$, we define its cobar construction $CQ$ to be the symmetric sequence $CQ(I):=\operatorname{Map}_{T\in\mathsf{T}(I)}(\bar{w}(T)^{\mathsf{rev}},Q(T)).$ This mapping spectrum is an ‘end’ calculated over the category $\mathsf{T}(I)$. The notation $\operatorname{Map}(-,-)$ refers to the cotensoring of ${\mathsf{Spec}}$ over pointed simplicial sets. We make $CQ$ into a reduced operad by combining the reverses of the maps $\nu_{T,i,U}$ with the isomorphisms $Q(T)\wedge Q(U)\arrow{e,t}{\cong}Q(T\cup_{i}U).$ Here we also require maps of the form $d^{*}:\operatorname{Map}(K,X)\wedge\operatorname{Map}(L,Y)\to\operatorname{Map% }(K\wedge L,X\wedge Y)$ for simplicial sets $K,L$ and spectra $X,Y$. These can be constructed from adjoints of the maps labelled $d$ in Remark 1.9.
Definition 1.5 (Grafting trees). Let $T$ be an $I$-tree, $U$ a $J$-tree and let $i\in I$. The grafted tree $T\cup_{i}U$ is given by identifying the root edge of $U$ with the leaf edge of $T$ corresponding to the label $i$. The leaves of this tree are naturally labelled by the set $I\cup_{i}J:=(I-\{i\})\amalg J$. $1$$2$$T$$i$$3$$4$$U$$T\cup_{i}U$$1$$2$$3$$4$ Note that if $T\leq U$ then the tree $U$ can be formed, up to isomorphism, by grafting together all of the $I_{t}$-trees $U_{t}$ for internal vertices $t$ in $T$.
Definition 4.8 (Map from a cooperad to its double dual). Let $Q$ be a cooperad. Then there is a natural map of pre-cooperads $Q\to\mathbb{D}\mathbb{D}Q$ defined as follows. For an $I$-tree $T$, we need to give a map $Q(T)\to\operatorname{Map}\left(\bigwedge_{t\in T}\operatorname{Map}(Q(I_{t}),S% ),S\right).$ This is adjoint to the map $\bigwedge_{t\in T}\operatorname{Map}(Q(I_{t}),S)\to\operatorname{Map}(% \bigwedge_{t\in T}Q(I_{t}),S)\cong\operatorname{Map}(Q(T),S)$ that smashes together the Spanier-Whitehead duals. Combining with a cofibrant replacement for the operad $\mathbb{D}Q$, we get a map of pre-cooperads $d:Q\to\mathbb{D}\tilde{\mathbb{D}}Q.$
Definition 2.18. For a reduced symmetric sequence $A$, we write $\Omega A$ for the reduced symmetric sequence with $\Omega A(I):=\operatorname{Map}((S^{1})^{\mathsf{rev}},A(I))$ and $\Sigma A$ for the reduced symmetric sequence $\Sigma A(I):=S^{1}\wedge A(I),$ for finite sets $I$ with $|I|\geq 2$. In both cases $S^{1}$ is the simplicial circle $\Delta[1]/\partial\Delta[1]$.
Definition 4.4 (Spanier-Whitehead dual of an operad). The Spanier-Whitehead dual of an operad is not in general a cooperad, but, suitably interpreted, it is a pre-cooperad, and, under finiteness conditions, a quasi-cooperad. For an operad $P$, we define $\mathbb{D}P:\mathsf{Tree}\to{\mathsf{Spec}}$ by $(\mathbb{D}P)(T):=\mathbb{D}P(T).$ This conflicts with Definitions 4.2 and 1.6 in the sense that $\mathbb{D}P$ has already been defined as a symmetric sequence and this definition of $(\mathbb{D}P)(T)$ does not agree with that of 1.6. We hope to avoid confusion on this point. We make $\mathbb{D}P$ into a pre-cooperad with structure maps $\mathbb{D}P(T)\wedge\mathbb{D}P(U)\arrow{e,t}{m}\mathbb{D}(P(T)\wedge P(U))% \cong\mathbb{D}P(T\cup_{i}U).$ This construction gives us a functor $\mathbb{D}:\mathsf{Operad}\to\mathsf{PreCooperad}^{op}.$ If $P$ is a termwise-finite-cofibrant operad (see 4.7 below), then $P(T)$ is a finite-cofibrant spectrum for all $T$ and $\mathbb{D}P$ is a quasi-cooperad.
Definition 1.1 (Symmetric sequences). Let $\mathsf{\Sigma}$ denote the category of nonempty finite sets and bijections. A symmetric sequence $A$, in ${\mathsf{Spec}}$, is a functor $A:\mathsf{\Sigma}\to{\mathsf{Spec}}$. We denote the category of such symmetric sequences and their natural transformations by ${\mathsf{Spec}}^{\mathsf{\Sigma}}$. Equivalently, one can view a symmetric sequence $A$ as a sequence $A(1),A(2),\dots$ of spectra together with a (right) action of the symmetric group $\Sigma_{n}$ on $A(n)$, for each $n$. The connection between these two viewpoints is that $A(n)$ represents the value of $A$ on the finite set $\{1,\dots,n\}$.
Definition 3.16 (The co-$W$-construction). In order to show that the pair $(\mathbb{B},C)$ is a Quillen equivalence we need a version of the $W$-construction for pre-cooperads. Let $T\leq U$ be $I$-trees. We then write $\Delta[U;T]:=\prod_{\mathsf{edge}(U)-\mathsf{edge}(T)}\Delta[1].$ This is a product of copies of the reversed simplicial interval indexed by those edges of $U$ that are contracted in $T$. If $T\leq U\leq U^{\prime}$, we have a map of simplicial sets $i_{U,U^{\prime}}:\Delta[U;T]\to\Delta[U^{\prime};T]$ given by assigning value $0$ to the edges of $U^{\prime}$ that are contracted in $U$. Alternatively, if $T^{\prime}\leq T\leq U$, we have a map $j_{T,T^{\prime}}:\Delta[U;T]\to\Delta[U;T^{\prime}]$ given by assigning value $0$ to the edges of $U$ that are contracted in $T^{\prime}$ but not $T$. Both of these maps are the inclusions of faces in a simplicial cube. We also have relabelling isomorphisms $\sigma_{\#}:\Delta[U;T]\arrow{e,t}{\cong}\Delta[\sigma_{*}U,\sigma_{*}T]$ for a bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$ and a grafting map $\mu_{i}:\Delta[U\cup_{i}U^{\prime};T\cup_{i}T^{\prime}]\arrow{e,t}{\cong}% \Delta[U;T]\times\Delta[U^{\prime};T^{\prime}].$ Both the $\sigma_{\#}$ and $\mu_{i}$ are natural with respect to the $i_{U,U^{\prime}}$ and $j_{T,T^{\prime}}$. Let $Q$ be a pre-cooperad. We define the co-$W$-construction on $Q$ to be the pre-cooperad $W^{c}Q$ given on $T\in\mathsf{T}(I)$ by $W^{c}Q(T):=\operatorname{Map}_{T\leq U}(\Delta[U;T]^{\mathsf{rev}}_{+},Q(U)).$ The object $W^{c}Q(T)$ is an ‘end’ for diagrams indexed by the subcategory of $\mathsf{T}(I)$ consisting of trees $U$ with $T\leq U$. The maps $j_{U,U^{\prime}}$ above make $\Delta[-;T]^{\mathsf{rev}}_{+}$ into such a diagram of simplicial sets and the pre-cooperad $Q$ restricts to such a diagram of spectra. The maps $j_{T,T^{\prime}}$ and $\sigma_{\#}$ above determine maps $W^{c}Q(T^{\prime})\to W^{c}Q(T)$ that make $W^{c}Q$ into a functor $\mathsf{Tree}\to{\mathsf{Spec}}$. Combining the maps $\mu_{i}$ above with the structure maps for the pre-cooperad $Q$, we obtain maps $W^{c}Q(T)\wedge W^{c}Q(T^{\prime})\to W^{c}Q(T\cup_{i}T^{\prime})$ that make $W^{c}Q$ into a pre-cooperad.
Definition 1.10 ($W$-construction). For an $I$-tree $T$, we write $\Delta[T]:=\prod_{e\in\mathsf{edge}(T)}\Delta[1]$ for the product of copies of the standard simplicial interval $\Delta[1]$, indexed by the internal (i.e. non-root and non-leaf) edges of $T$. If $T\leq T^{\prime}$ in $\mathsf{T}(I)$, there is a map of simplicial sets $\iota_{T,T^{\prime}}:\Delta[T]\to\Delta[T^{\prime}]$ given by setting the ‘new’ edges in $T^{\prime}$ (i.e. those that one collapses to form $T$) to have value $0$. Thus $\iota_{T,T^{\prime}}$ is the inclusion of the cube $\Delta[T]$ as a face of $\Delta[T^{\prime}]$. Adding a disjoint basepoint, we obtain a functor $\Delta[-]_{+}:\mathsf{T}(I)\to\mathsf{sSet}_{*}$ for each nonempty finite set $I$. We also have natural maps $\mu_{T,i,U}:\Delta[T]_{+}\wedge\Delta[U]_{+}\to\Delta[T\cup_{i}U]_{+}.$ These are again given by the inclusion of one cube as a face of another. This time the ‘new’ edge (that is, the edge of $T\cup_{i}U$ where $T$ and $U$ are joined) is given value $1$. Notice that $\Delta[T]$ does not depend on the labelling of the leaves of $T$ by the elements of $I$. In particular, $\Delta[T]=\Delta[\sigma_{*}T]$ for any bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$. Now let $P$ be a reduced operad. We define a new reduced operad $WP$ by $WP(I):=\Delta[T]_{+}\wedge_{T\in\mathsf{T}(I)}P(T).$ This is a coend calculated over the category $\mathsf{T}(I)$ of $I$-trees. A bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$ determines a map $WP(\sigma):WP(I)\arrow{e,t}{\cong}WP(I^{\prime})$ by identifying the term $\Delta[T]_{+}\wedge P(T)$ in the coend for $WP(I)$ with the term $\Delta[\sigma_{*}T]_{+}\wedge P(\sigma_{*}T)$ in the coend for $WP(I^{\prime})$, by way of the identity map between these equal objects. The operad structure on $WP$ is given by combining the maps $\mu_{T,i,U}$ with the isomorphisms $P(T)\wedge P(U)\arrow{e,t}{\cong}P(T\cup_{i}U).$ Note that we use the inverse of the map $d$ of 1.9 to form the operad structure.
Definition 3.6 (Free pre-cooperads). We write ${\mathsf{Spec}}^{\mathsf{Tree}}$ for the category of functors $\mathsf{Tree}\to{\mathsf{Spec}}$. For $A\in{\mathsf{Spec}}^{\mathsf{Tree}}$, we define $\mathbb{F}A\in{\mathsf{Spec}}^{\mathsf{Tree}}$ by $\mathbb{F}A(T):=\operatorname*{colim}_{U\leq T}\bigwedge_{u\in U}A(T_{u})\cong% \bigvee_{[U]:U\leq T}\bigwedge_{u\in U}A(T_{u}).$ This is the colimit calculated over the subcategory of $\mathsf{T}(I)$ consisting of the $I$-trees $U$ with $U\leq T$ and isomorphisms between them. Because there is at most a unique isomorphism between any two $I$-trees, this colimit is isomorphic to a coproduct taken over isomorphism classes of $I$-trees $U$ with $U\leq T$. The smash product is taken over all internal vertices $u\in U$ and $T_{u}$ refers to the part of the tree $T$ that collapses to the vertex $u$ under the collapse map determined by the inequality $U\leq T$. Given a morphism $\sigma:T\to T^{\prime}$ in $\mathsf{Tree}$ and $U\leq T$, we have $\sigma_{*}U\leq\sigma_{*}T\leq T^{\prime}$. For $u\in U$, we can identify $T_{u}$ with the piece of $\sigma_{*}T$ that collapses to the corresponding vertex $u$ of $\sigma_{*}U$. Thus we have $T_{u}\leq T^{\prime}_{u}$ and so the functor $A$ determines a map $A(T_{u})\to A(T^{\prime}_{u})$. Putting such maps together, we get a map $\mathbb{F}A(T)\to\mathbb{F}A(T^{\prime})$ that makes $\mathbb{F}A$ into a functor $\mathsf{Tree}\to{\mathsf{Spec}}$, and $\mathbb{F}$ into a functor ${\mathsf{Spec}}^{\mathsf{Tree}}\to{\mathsf{Spec}}^{\mathsf{Tree}}$. We define a monad structure on $\mathbb{F}$ by noticing that $\mathbb{F}\mathbb{F}A(T)\cong\operatorname*{colim}_{V\leq U\leq T}\bigwedge_{u% \in U}A(T_{u}).$ The composition map $\mathbb{F}\mathbb{F}\to\mathbb{F}$ is given by ‘forgetting’ the variable $V$ in the indexing set for the wedge sum. The unit map $A\to\mathbb{F}A$ is given by the inclusions of $A(T)$ as the term corresponding to $U=\tau_{I}$. These definitions make $\mathbb{F}A$ into a pre-cooperad for any $A\in{\mathsf{Spec}}^{\mathsf{Tree}}$ and we refer to $\mathbb{F}A$ as the free pre-cooperad on $A$.
Definition 3.22 (Quasi-cooperads). We say that a pre-cooperad $Q$ is a quasi-cooperad if the maps $m_{T,i,U}:Q(T)\wedge Q(U)\;\tilde{\longrightarrow}\;Q(T\cup_{i}U)$ are weak equivalences of spectra for all $T,i,U$. Thus a quasi-cooperad is ‘almost’ an actual cooperad, except that the putative decomposition maps are only defined up to inverse weak equivalences. For example we have maps $Q(\tau_{3})\to Q(\tau_{2}\cup_{i}\tau_{2})\;\tilde{\longleftarrow}\;Q(\tau_{2}% )\wedge Q(\tau_{2}).$ In particular, any cooperad is a quasi-cooperad.
Definition 2.10 (Formal definition of $\theta$). Fix a nonempty finite set $I$. Suppose $T,U\in\mathsf{T}(I)$ with $U\leq T$ and recall that we write $T_{u}$ for the fragment of $T$ that collapses to the vertex $u$ of $U$. The map $\theta$ is, at its heart, based on maps of simplicial sets of the form $\theta_{T,U}:\Delta[T]_{+}\wedge\bar{w}(U)^{\mathsf{rev}}\to\bigwedge_{u\in U}% \bar{w}(T_{u}).$ This is a quotient of a map of cubes $\hat{\theta}_{T,U}:\Delta[T]\times w(U)^{\mathsf{rev}}\to\prod_{u\in U}w(T_{u}).$ The target of $\hat{\theta}_{T,U}$ is a product of copies of $\Delta[1]$ indexed by all the internal and root edges of the trees $T_{u}$ for all internal vertices $u\in U$. We define $\hat{\theta}_{T,U}$ component by component: • an internal edge $e$ of $T_{u}$ corresponds to a unique internal edge $e$ of $T$ and we choose the component of $\hat{\theta}_{T,U}$ corresponding to $e$ to be the projection onto the corresponding copy of $\Delta[1]$ in $\Delta[T]$; • if $u$ is not the root vertex of $U$, then the root edge $e$ of $T_{u}$ corresponds to an internal edge of $T$ and an internal edge of $U$ (the outgoing edge from $u$). In this case, we obtain the relevant component of $\hat{\theta}_{T,U}$ by projecting onto the copy of $\Delta[1]\times\Delta[1]^{\mathsf{rev}}$ in $\Delta[T]\times w(U)^{\mathsf{rev}}$ determined by these edges, and by applying the map $h$ of Definition 2.9; • if $u$ is the root vertex of $U$, then the root edge of $T_{u}$ corresponds to the root edge of $U$, and we obtain the relevant component of $\hat{\theta}_{T,U}$ by projecting onto the copy of $\Delta[1]^{\mathsf{rev}}$ in $w(U)^{\mathsf{rev}}$ corresponding to this edge, and then applying the reflection map $r$ of Definition 2.9. Now let $P$ be a reduced operad. Using $\theta_{T,U}$ and the isomorphism $P(T)\arrow{e,t}{\cong}\bigwedge_{U\in U}P(T_{u})$ we obtain a map $\Delta[T]_{+}\wedge P(T)\to\operatorname{Map}\left(\bar{w}(U)^{\mathsf{rev}},% \bigwedge_{u\in U}\bar{w}(T_{u})\wedge P(T_{u})\right).$ These are natural in $T,U\in\mathsf{T}(I)$ (see the second step in the proof of 2.11 below) and so we obtain a single map $\Delta[T]_{+}\wedge_{T}P(T)\to\operatorname{Map}_{U}\left(\bar{w}(U)^{\mathsf{% rev}},\bigwedge_{u\in U}\bar{w}(T_{u})\wedge_{T_{u}\in\mathsf{T}(I_{u})}P(T_{u% })\right)$ which is the required $\theta(I):WP(I)\to CBP(I).$ These respect the relabelling on trees so form a map of symmetric sequences $\theta:WP\to CBP.$
Definition 1.8 (Cooperads). A cooperad is a symmetric sequence $Q$ together with decomposition maps $Q(f):Q(I)\to Q(J)\wedge\bigwedge_{j\in J}Q(I_{j})$ for each finite disjoint union $I=\coprod_{j\in J}I_{j}$, and a counit map $Q(1)\to S$, satisfying coassociativity and counit axioms. The cooperad $Q$ is reduced if the counit map is an isomorphism. For a reduced cooperad $Q$, the decomposition maps make the assignments $T\mapsto Q(T)$ into functors $Q(-):\mathsf{T}(I)\to{\mathsf{Spec}},$ for each nonempty finite set $I$, in such a way that the isomorphisms $Q(T\cup_{i}U)\cong Q(T)\wedge Q(U)$ are natural in $T$ and $U$. A morphism of cooperads is a map of symmetric sequences that commutes with the structure maps. We have a category $\mathsf{Cooperad}$ of reduced cooperads of spectra.
Definition 3.3 (Pre-cooperads). A pre-cooperad $Q$ consists of a functor $Q(-):\mathsf{Tree}\to{\mathsf{Spec}}$ and natural maps $m_{T,i,U}:Q(T)\wedge Q(U)\to Q(T\cup_{i}U)$ where $T\in\mathsf{T}(I)$, $U\in\mathsf{T}(J)$ and $i\in I$. The maps $m_{T,i,U}$ are required to be associative in an appropriate sense. A morphism of pre-cooperads $Q\to Q^{\prime}$ consists of natural transformations $Q(T)\to Q^{\prime}(T)$ that commute appropriately with the maps $m_{T,i,U}$. We thus obtain a category $\mathsf{PreCooperad}$ of pre-cooperads and their morphisms.
Definition 3.17 (The co-$W$-resolution map). We construct a natural map of pre-cooperads $\eta^{*}:Q\to W^{c}Q.$ For $T\leq U$, we have maps $\Delta[U;T]^{\mathsf{rev}}_{+}\wedge Q(T)\to Q(U)$ given by contracting the cube $\Delta[U;T]$ to a point and combining with the map $Q(T)\to Q(U)$. These are natural in $T$ and $U$. Their adjoints $Q(T)\to\operatorname{Map}(\Delta[U;T]^{\mathsf{rev}}_{+},Q(U))$ combine to form a map $\eta^{*}_{T}:Q(T)\to W^{c}Q(T)$ and these make up a map of pre-cooperads $Q\to W^{c}Q$.
Definition 2.7 (Cobar-bar construction). Let $P$ be a reduced operad of spectra. The cobar-bar construction on $P$ is the reduced operad $CBP$ formed by applying the cobar construction of Definition 2.4 to the cooperad $BP$.
Definition 4.2 (Spanier-Whitehead dual of a symmetric sequence). For a spectrum $X$ we write $\mathbb{D}X:=\operatorname{Map}(X,S)$ where $S$ is the sphere spectrum. Here $\operatorname{Map}(-,-)$ denotes the internal mapping object (that is, the closed monoidal structure) in ${\mathsf{Spec}}$. For a symmetric sequence $A$ in ${\mathsf{Spec}}$, we write $\mathbb{D}A$ for the symmetric sequence given by $(\mathbb{D}A)(I):=\mathbb{D}(A(I)).$ A bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$ determines $(\mathbb{D}A)(I)\to(\mathbb{D}A)(I^{\prime})$ by way of the map $\sigma^{-1}_{*}:A(I^{\prime})\to A(I)$. If $A$ is reduced, then so is $\mathbb{D}A$. We refer to $\mathbb{D}A$ as the Spanier-Whitehead dual of $A$.
Definition 2.13 (Termwise-cofibrant operads and cooperads). Let $A$ be a reduced symmetric sequence, operad or cooperad. We say that $A$ is termwise-cofibrant if, for each nonempty finite set $I$ with $|I|\geq 2$, the object $A(I)$ is cofibrant in the standard model structure on ${\mathsf{Spec}}$. Note that the object $A(1)$ is isomorphic to the sphere spectrum $S$, hence not cofibrant in the EKMM model structure. In [1, §9] we proved, with Greg Arone, that the category of reduced operads has termwise-cofibrant replacements, given by actual cofibrant replacements in the projective model structure. Thus, given an operad $P$, there is a natural weak equivalence of operads $\tilde{P}\;\tilde{\longrightarrow}\;P$ where $\tilde{P}$ is termwise-cofibrant. For the rest of this paper, we use this notation (that is, adding a tilde) to denote such a termwise-cofibrant replacement. For example, $\tilde{C}Q$ denotes a termwise-cofibrant replacement of the operad $CQ$.
Definition 2.1 (Bar construction). For an $I$-tree $T$ we define $w(T):=\begin{cases}\Delta[T]\times\Delta[1]&\text{if $|I|\geq 2$};\\ \quad\quad*&\text{if $|I|=1$}.\end{cases}$ Let $w_{0}(T)$ be the sub-simplicial set consisting of the faces where, either, any edge has value $1$, or, the root edge has value $0$. We define $\bar{w}(T):=w(T)/w_{0}(T)$ and think of this as a pointed simplicial set with basepoint given by the quotient point. If $|I|=1$, then $\bar{w}(T)=S^{0}$. If $T\leq T^{\prime}$, there is an inclusion map $\iota_{T,T^{\prime}}:\bar{w}(T)\to\bar{w}(T^{\prime})$ that identifies $\bar{w}(T)$ with the sub-simplicial set of $\bar{w}(T^{\prime})$ in which the ‘new’ edges of $T^{\prime}$ have value $0$. These maps make $\bar{w}(-)$ into a functor $\mathsf{T}(I)\to\mathsf{sSet}_{*}$. There are natural isomorphisms $w(T\cup_{i}U)\cong w(T)\times w(U)$ in which the length for the ‘grafted’ edge in $T\cup_{i}U$ is assigned to the root edge of $U$ and the length for the root edge in $T\cup_{i}U$ is assigned to the root edge of $T$. These pass to the respective quotients and give us $\nu_{T,i,U}:\bar{w}(T\cup_{i}U)\to\bar{w}(T)\wedge\bar{w}(U).$ These maps are well-defined, natural in $T$ and $U$, and appropriately associative. Finally, notice that the simplicial set $\bar{w}(T)$ does not depend on the labelling of leaves of $T$ by elements of $I$. In particular, $\bar{w}(T)=\bar{w}(\sigma_{*}T)$ for any bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$. Now let $P$ be a reduced operad. We define $BP$ to be the reduced symmetric sequence given by the coends $BP(I):=\bar{w}(T)\wedge_{T\in\mathsf{T}(I)}P(T).$ A bijection $\sigma:I\arrow{e,t}{\cong}I^{\prime}$ determines a map $BP(I)\arrow{e,t}{\cong}BP(I^{\prime})$ by identifying the term $\bar{w}(T)\wedge P(T)$ in the coend for $BP(I)$ with the term $\bar{w}(\sigma_{*}T)\wedge P(\sigma_{*}T)$ in the coend for $BP(I^{\prime})$ via the identity map between these equal objects. We give $BP$ a reduced cooperad structure by combining the maps $\nu_{T,i,U}$ above with the isomorphisms $P(T\cup_{i}U)\arrow{e,t}{\cong}P(T)\wedge P(U).$ Here we need the maps $d$ of 1.9.
Definition 3.11 ($C$-equivalences). A morphism $Q\to Q^{\prime}$ of pre-cooperads is a $C$-equivalence if it induces a weak equivalence $CQ\to CQ^{\prime}$ of operads.
Definition 23 Two Boolean subalgebras of an orthomodular lattice are called partially complementary when they have trivial intersection. ${}_{\blacksquare}$
Definition 13 Two classical structures are partially complementary if no nontrivial kernel is simultaneously copyable along both. ${}_{\blacksquare}$
Definition 16 Two classical structures are mutually unbiased if a nontrivial kernel is unbiased relative to one whenever it is copyable along the other. ${}_{\blacksquare}$
Definition 1 A classical structure in a dagger symmetric monoidal category $\mathbf{D}$ is a commutative semigroup $\delta\colon X\to X\otimes X$ that satisfies $\delta^{\dagger}\circ\delta=\mathrm{id}$ and the following so-called H*-axiom: there is an involution $*\colon\mathbf{D}(I,X)^{\mathrm{op}}\to\mathbf{D}(I,X)$ such that $\delta^{\dagger}\circ(x^{*}\otimes\mathrm{id})=(x^{\dagger}\otimes\mathrm{id})\circ\delta$. ${}_{\blacksquare}$
Definition 3 An endomorphism $p\colon X\to X$ is called copyable (along $\delta$) when $\delta\circ p=(p\otimes p)\circ\delta.$ A nonendomorphism $k\colon K\to X$ is called copyable (along $\delta$) when $P(k)=k\circ k^{\dagger}$ is. ${}_{\blacksquare}$
Definition 10 Let $\mathbf{CS}[\mathbf{D}]$ denote the category whose objects are classical structures in $\mathbf{D}$. A morphism $(X,\delta_{X})\to(Y,\delta_{Y})$ is a morphism $f\colon X\to Y$ in $\mathbf{D}$ satisfying $\delta_{Y}\circ f=(f\otimes f)\circ\delta_{X}$ and $\delta_{Y}^{\dagger}\circ(f\otimes f)=f\circ\delta_{X}^{\dagger}$. ${}_{\blacksquare}$
Definition 28 Von Neumann subalgebras of $\mathbf{Hilb}(H,H)$ are partially complementary when their intersection is the trivial subalgebra $\{z\cdot\mathrm{id}\mid z\in\mathbb{C}\}$. ${}_{\blacksquare}$
Definition 14 A morphism $x\colon U\to X$ is called unbiased (relative to $\delta$) if and only if $P(x^{\dagger}\circ k)=P(x^{\dagger}\circ l)$ for all copyable kernels $k$ and $l$. ${}_{\blacksquare}$
Proposition-Definition 1. [$2$-Path-category] Let $\mathscr{C}$ be a small category. i) There exists a strict $2$-category $\mathscr{P}_{\mathscr{C}}$ having the following properties: $\ast$ the objects of $\mathscr{P}_{\mathscr{C}}$ are the objects of $\mathscr{C}$, $\ast$ for every pair $(A,B)$ of objects, $\mathscr{P}_{\mathscr{C}}(A,B)$ is posetal and is a category over $\Delta$ i.e we have a functor called length $\mathscr{L}_{AB}:\mathscr{P}_{\mathscr{C}}(A,B)\longrightarrow\Delta$ $\ast$ $0$ is in the image of $\mathscr{L}_{AB}$ if and only if $A=B$. $\mathscr{L}_{AA}$ becomes a monoidal functor with the composition. ii) if $\mathscr{C}\cong\mathbf{1}$, say $ob(\mathscr{C})=\{\textbf{O}\}$ and $\mathscr{C}(\textbf{O},\textbf{O})=\{\operatorname{Id}_{\textbf{O}}\}$, we have monoidal isomorphism: $\mathscr{P}_{\mathscr{C}}(\textbf{O},\textbf{O})\xrightarrow{\sim}\Delta$ iii) the operation $\mathscr{C}\mapsto\mathscr{P}_{\mathscr{C}}$ is functorial in $\mathscr{C}$: $\xy(0,8)*+{\mathscr{P}_{[-]}:\text{Cat}_{\leq 1}}="X";(30,8)*+{\text{Bicat}}="% Y";(3,0)*+{\mathscr{C}\xrightarrow{F}\mathscr{D}}="E";(35,0)*++{\mathscr{P}_{% \mathscr{C}}\xrightarrow{\mathscr{P}_{F}}\mathscr{P}_{\mathscr{D}}}="W";{\ar@{% ->}"X";"Y"};{\ar@{|->}"E";"W"};\endxy$ where $\text{Cat}_{\leq 1}$ and Bicat are respectively the $1$-category of small categories and the category of bicategories.
