Definition 2. The functor $\mathsf{eq}:\mathsf{Set}\to\mathsf{Setoid}$ is defined as the left adjoint to the forgetful functor $U:\mathsf{Setoid}\to\mathsf{Set}$. Explicitly, the functor $\mathsf{eq}$ sends any set $X$ to the setoid $(X,=_{X})$ given by the set $X$ itself, equiped with the equality relation $=_{X}$ on $X$.
Definition 14 (Tautological comodule). Given a comonad $T$ relative to $F:{\mathcal{C}}\to\mathcal{D}$, the assignment $A\mapsto TA$ yields a comodule over $T$ with target category $\mathcal{D}$, the tautological comodule of $T$, also called $T$. The comodule operation is given by $\mathsf{mcobind}^{T}(f):=\mathsf{cobind}^{T}(f)\enspace.$
Definition 4 (Strong monoidal functor). A functor $F:{\mathcal{C}}\to\mathcal{D}$ between cartesian monoidal categories is strong monoidal if, for any two objects $A$ and $B$ of ${\mathcal{C}}$, the morphism $\alpha^{F}_{A,B}:=\bigl{\langle}F(\mathsf{pr}_{1}),F(\mathsf{pr}_{2})\bigr{% \rangle}:\mathcal{D}\bigl{(}F(A\times B),FA\times FB\bigr{)}\enspace$ is an isomorphisms. (Note that for cartesian monoidal categories, the family $\alpha$ of morphisms automatically makes commute the diagrams necessary to have a strong monoidal functor, since it is given by universal property. We shall not need more general strong monoidal functors between arbitrary monoidal categories.)
Definition 20 (Morphism of comonads induces morphism of comodules). Let $\tau:T\to S$ be a morphism of comonads relative to a functor $F:{\mathcal{C}}\to\mathcal{D}$. Then $\tau$ gives rise to a morphism of comodules over $S$ from the pushforward of the tautological comodule of $T$ along $\tau$ to the tautological comodule over $S$, $\langle{\tau}\rangle:\tau_{*}T\to S\enspace,\quad\langle{\tau}\rangle_{A}:=% \tau_{A}\enspace.$
Definition 6.1. Given an orbigroupoid $\mathcal{G}$, its inertia groupoid $\wedge\mathcal{G}$ is defined as follows: • Objects $(\wedge\mathcal{G})_{0}$: objects in $(\wedge\mathcal{G})_{0}$ are loops, $\displaystyle(\wedge\mathcal{G})_{0}$ $\displaystyle=\{g\in\mathcal{G}_{1}|s(g)=t(g)\}$ $\displaystyle=\{(x,g)\in\mathcal{G}_{0}\times\mathcal{G}_{1}|x=s(g)=t(g)\}$ Note that since $s(g)=t(g)$, $g$ is an element of the isotropy group of $x=s(g)$, i.e. $g\in G_{x}$ • Arrows $(\wedge\mathcal{G})_{1}$: Let $x,y\in\mathcal{G}_{0}$, and $h:x\to y$ be an arrow $h\in\mathcal{G}_{1}$. Then $h$ defines arrows $(x,g)\to(h(x)=y,hgh^{-1})$ for all $g\in G_{x}$.
Definition 2.2. An orbigroupoid is a topological groupoid $\mathcal{G}$ such that the object space $\mathcal{G}_{0}$ and the arrow space $\mathcal{G}_{1}$ are compactly generated locally compact, paracompact Hausdorff spaces, and for which the source and target maps are étale (i.e. local homeomorphisms), and the map $(s,t)\colon\mathcal{G}_{1}\rightarrow\mathcal{G}_{0}\times\mathcal{G}_{0}$ is proper (i.e. the preimage of a compact set is compact).
Definition 3.4. Given two homomorphisms $f,f^{\prime}\colon\mathcal{G}\rightarrow\mathcal{H}$, a 2-cell $\alpha\colon f\Rightarrow f^{\prime}$ is a continuous natural transformation between these functors. Specifically, $\alpha$ is given by a continuous function $\alpha\colon G_{0}\rightarrow H_{1}$ such that $s\circ\alpha=f_{0}$, $t\circ\alpha=f^{\prime}_{0}$ and, for every arrow $g:x\to y$ in $\mathcal{G}_{1}$, the following naturality square of arrows in $\mathcal{H}$ is commutative: $\xymatrix{f_{0}(x)\ar[r]^{\alpha(x)}\ar[d]_{f_{1}(g)}&f^{\prime}_{0}(x)\ar[d]^% {f^{\prime}_{1}(g)}\\ f_{0}(y)\ar[r]_{\alpha(y)}&f^{\prime}_{0}(y)}$ In other words, $m(\alpha(x),f^{\prime}_{1}(g))=m(f_{1}(g),\alpha(y))$.
Definition 2.1. A topological groupoid $\mathcal{G}$ consists of a space of objects $\mathcal{G}_{0}$ and a space of arrows $\mathcal{G}_{1}$. The category structure is defined by the following continuous maps. • The source map, $s:\mathcal{G}_{1}\to\mathcal{G}_{0}$, which gives the domain of each arrow. • The target map, $t:\mathcal{G}_{1}\to\mathcal{G}_{0}$, which gives the codomain of each arrow. • The unit map, $u:\mathcal{G}_{0}\to\mathcal{G}_{1}$, which gives the identity arrow on an object. • The composition map, $m:\mathcal{G}_{1}\times_{\mathcal{G}_{0}}\mathcal{G}_{1}\to\mathcal{G}_{1}$ where $m(g_{1},g_{2})=g_{2}\circ g_{1}=g_{2}g_{1}$. The pullback over $\mathcal{G}_{0}$ ensures that $t(g_{1})=s(g_{2})$, so that we are only composing the arrows that match up at their ends. • The inverse map, $i:\mathcal{G}_{1}\to\mathcal{G}_{1}$ defined by $i(g)=g^{-1}$. These maps need to satisfy the usual category axioms, as well as the expected relationship between an arrow and its inverse. Specifically, we must have: • (identity) $m(g,ut(g))=g$ and $m(us(g),g)=g$, • (associativity) $m(g_{1},m(g_{2},g_{3}))=m(m(g_{1},g_{2}),g_{3})$, • (inverses) $m(g,i(g))=us(g)$ and $m(i(g),g)=ut(g)$.
Definition 3.1. Let $\mathcal{G}$ and $\mathcal{H}$ be topological groupoids. A homomorphism $f\colon\mathcal{G}\to\mathcal{H}$ is a continuous functor between topological groupoids. Specifically, $f$ is defined by two continuous maps, $f_{0}\colon\mathcal{G}_{0}\rightarrow\mathcal{H}_{0}$, and $f_{1}\colon\mathcal{G}_{1}\rightarrow\mathcal{H}_{1}$, which satisfy the functor relations: • If $x\in\mathcal{G}_{0}$, then $f_{1}$ takes the identity map on $x$ in $\mathcal{G}$ to the identity map on $f_{0}(x)$ in $\mathcal{H}$: $f_{1}(u(x))=u(f_{0}(x)).$ • If $g\in\mathcal{G}_{1}$, then $f$ preserves the source and target of $g$: $f_{0}(s(g))=s(f_{1}(g)),$ $f_{0}(t(g))=t(f_{1}(g)).$ • If $g_{1}$ and $g_{2}$ are two arrows in $\mathcal{G}_{1}$ such that $t(g_{1})=s(g_{2})$, then the arrows $f_{1}(g_{1})$ and $f_{1}(g_{2})$ can be composed in $\mathcal{H}_{1}$ since $f$ preserves the source and target. Moreover, $f_{1}$ respects the composition: $m(f_{1}(g_{1}),f_{1}(g_{2}))=f_{1}(m(g_{1},g_{2})).$ It follows from the above that $f$ preserves inverses as well.
Definition 6.2. An orbigroupoid $\mathcal{G}$ is orbit compact if the quotient space $\mathcal{G}_{0}/\mathcal{G}_{1}$ is compact.
Definition 4.1. An essential equivalence of topological groupoids is a homomorphism $f\colon\mathcal{G}\to\mathcal{H}$ satisfying the two conditions: E1 $f$ is essentially surjective on objects in the sense that $t\circ\pi_{2}$ is an open surjection: $\xymatrix@R=1em{\mathcal{G}_{0}\times_{\mathcal{H}_{0}}\mathcal{H}_{1}\ar[d]_{% \pi_{1}}\ar[r]^{-}{\pi_{2}}&\mathcal{H}_{1}\ar[d]^{s}\ar[r]^{-}t&\mathcal{H}_{% 0}\\ \mathcal{G}_{0}\ar[r]_{f_{0}}&\mathcal{H}_{0}\hbox to 0.0pt{ }}$ i.e., for each object $y\in\mathcal{H}_{0}$, there is an object $x\in\mathcal{G}_{0}$ and an arrow (actually, an isomorphism since we are working with groupoids) $h\in\mathcal{H}_{1}$ from $f_{0}(x)$ to $y$. E2 $f$ is fully faithful in the sense that the following diagram is a pullback: $\xymatrix@R=1em{\mathcal{G}_{1}\ar[r]^{f_{1}}\ar[d]_{(s,t)}&\mathcal{H}_{1}\ar% [d]^{(s,t)}\\ \mathcal{G}_{0}\times\mathcal{G}_{0}\ar[r]^{f_{0}\times f_{0}}&\mathcal{H}_{0}% \times\mathcal{H}_{0}}$ i.e., for any two objects of $\mathcal{H}_{0}$ the identifications between them in $\mathcal{H}_{1}$ are isomorphic to those between any pre-images in $\mathcal{G}$. In particular, $f$ is an isomorphism on isotropy groups for all objects.
Definition 3 A Dolev-Yao crypto system ${\cal A}$ is algebraically perfectly secure if every ciphertext can be an encryption of any well-formed message, i.e. if for all $c,m\in{\cal A}$ holds $\displaystyle m\in M\ \wedge\ \exists k\in{\cal A}.\ {\sf E}(k,m)=c$ $\displaystyle\iff$ $\displaystyle m\in M$
Definition 6 A Shannon crypto system is perfectly secure if the plaintexts are statistically independent on the cyphertexts, i.e. if for all $c,m\in{\cal A}$ holds $\displaystyle\Pr\left(m\shortleftarrow\mu\ |\ \exists k.\ c={\sf E}(k,m)\right)$ $\displaystyle=$ $\displaystyle\Pr(m\shortleftarrow\mu)$ where the conditional probability on the left stands for $\displaystyle\Pr\left(m\shortleftarrow\mu\ |\ \exists k.\ c={\sf E}(k,m)\right)$ $\displaystyle=$ $\displaystyle\sum_{x\in\varsigma{\kappa}}\Pr\left(m\shortleftarrow\mu|\ c={\sf E% }(x,m)\right)\cdot\kappa(x)$
Definition 1 A message algebra ${\cal A}$ consists of three operations: • encryption ${\sf E}:{\cal A}\times{\cal A}\longrightarrow{\cal A}$, • decryption ${\sf D}:{\cal A}\times{\cal A}\longrightarrow{\cal A}$, and • key pairing $\overline{(-)}:{\cal A}\longrightarrow{\cal A}$, and one equation: $\displaystyle{\sf D}\left(\overline{k},{\sf E}(k,m)\right)$ $\displaystyle=$ $\displaystyle m$ called decryption condition. By convention, the first arguments of ${\sf E}$ and ${\sf D}$ are called keys, the second arguments messages. A message that occurs in ${\sf E}$ is a plaintext; a message that occurs in ${\sf D}$ is a cyphertext.
Definition 8 An abstract crypto system, relative to a monoid ${\cal F}$ of feasible functions, and a semi-ideal $\Upsilon$ of negligible functions is given by • a multi-sorted message algebra in the category ${\sf Ens}_{\cal F}^{\Upsilon}$, such that – encryption ${\sf E}:{\cal K}\times{\cal M}\longrightarrow{\cal C}$, is a stochastic ensemble, whereas – decryption ${\sf D}:{\cal K}\times{\cal C}\longrightarrow{\cal M}$, and – key pairing $\overline{(-)}:{\cal K}\longrightarrow{\cal K}$ are deterministic functions5Deterministic functions can be characterized intrinsically in ${\sf Sto}_{\cal F}$, ${\sf Ens}_{\cal F}$ and ${\sf Ens}_{\cal F}^{\Upsilon}$.. • a frequency distribution of the plaintexts $\mu:{\cal M}\longrightarrow[0,1]$, and • the hiding condition.
Definition 5 A Shannon crypto system is given by • a message algebra in the category ${\sf Sto}$, i.e. stochastic operators for – encryption ${\sf E}:{\cal A}\times{\cal A}\longrightarrow{\cal A}$, – decryption ${\sf D}:{\cal A}\times{\cal A}\longrightarrow{\cal A}$, and – key pairing $\overline{(-)}:{\cal A}\longrightarrow{\cal A}$, • a frequency distribution of the plaintexts $\mu:{\cal A}\longrightarrow[0,1]$, and • the hiding condition.
Definition 2 A Dolev-Yao crypto system is given by • a message algebra • a set $M\subseteq{\cal A}$ of well-formed plaintexts; • the hiding condition: ”knowing $E(k,m)$ does not reveal anything about $m$”
Definition 1.3. A regular doctrine $(\mathbb{C},P)$ is a tripos if - $P$ factors through the category of Heyting algebras and homomorphisms - for every morphism $f$ in $\mathbb{C}$ the functor $f^{*}$ has a right adjoint $\forall_{f}$ satisfying Beck-Chevalley condition - for every $X$ in $\mathbb{C}$, there exists $\mathbb{P}X$ in $\mathbb{C}$ and a formula $\in_{X}$ in $P(X\times\mathbb{P}X)$ such that for every object $Y$ in $\mathbb{C}$ and formula $\gamma$ in $P(X\times Y)$ there exists $\{\gamma\}:Y\longrightarrow\mathbb{P}X$ such that $(id_{X}\times\{\gamma\})^{*}\in_{X}=\gamma$.
Definition 1.2. A doctrine is regular if for each arrow $f:X\longrightarrow Y$ in $\mathbb{C}$ there exists a functor $\exists_{f}\dashv f^{*}$ satisfying - Beck-Chevalley condition: i.e. for every pullback of the form $\xymatrix{X\ar[d]_{-}{g}\ar[r]^{-}{f}&Y\ar[d]^{h}\\ Z\ar[r]_{-}{k}&W}$ it holds that $\exists_{f}\circ g^{*}=h^{*}\circ\exists_{k}$ - Frobenius Reciprocity: i.e. $\exists_{f}(\alpha\wedge f^{*}\beta)=\exists_{f}\alpha\wedge\beta$.
Definition 3.1. A regular doctrine $(\mathbb{C},P)$ is said to have quotients if for every $A$ in $\mathbb{C}$ and every equivalence relation $\rho$ over $A$ there exists a morphism $q:A\longrightarrow A/\rho$ such that $\rho\leq(q\times q)^{*}\delta_{A/\rho}$ and for every morphism $f:A\longrightarrow Y$ such that $\rho\leq(f\times f)^{*}\delta_{Y}$ there exists a unique $h:A/\rho\longrightarrow Y$ with $h\circ q=f$. $A/\rho$ is said to be an effective quotients if $\rho=(q\times q)^{*}\delta_{A/\rho}$.
Definition 4.1. A regular doctrine $(\mathbb{C},P)$ is extensional if for every $A$ in $\mathbb{C}$ and every pairs of parallel morphisms $f,g:X\longrightarrow A$, it holds that $f=g\ \ \ \ \text{if and only if}\ \ \ \ \top_{X}\leq<f,g>^{*}\delta_{A}$
Definition 5.1. Given a regular doctrine $(\mathbb{C},P)$, an object $A$ of $\mathbb{C}$ is said cauchy-complete if for every $Y$ and formula $F$ in $P(Y\times A)$, which is functional from $Y$ to $A$, there exists a morphism $f:Y\longrightarrow A$ such that $(f\times id_{A})^{*}\delta_{A}=F$.
Definition 1.1. A doctrine is a pair $(\mathbb{C},P)$ where $\mathbb{C}$ is a non-empty category with binary products and $P$ a functor $P:\mathbb{C}^{op}\longrightarrow\textbf{ISL}$
Definition 2.1. A doctrine $(\mathbb{C},P)$ is said to have comprehensions if for every object $A$ of $\mathbb{C}$ and formula $\alpha$ over $A$, there exists a moprhism $\lfloor\alpha\rfloor:X\longrightarrow A$ such that $\lfloor\alpha\rfloor^{*}\alpha=\top_{X}$ and for every $f:Y\longrightarrow A$ with $f^{*}\alpha=\top_{X}$ there exists a unique morphism $h:Y\longrightarrow X$ with $\lfloor\alpha\rfloor\circ h=f$. Moreover $\lfloor\alpha\rfloor$ is said to be full if for every formula $\beta$ over $A$, $\lfloor\alpha\rfloor^{*}\alpha\leq\lfloor\alpha\rfloor^{*}\beta$ if and only if $\alpha\leq\beta$.
Definition 4.1 Let $Q$ and $R$ be inverse quantal frames. A $Q$-$R$-bilocale is a bimodule ${}_{Q}X_{R}$ that is also a locale such that for all $b\in Q_{0}$, $c\in R_{0}$ and $x\in X$ the following left and right anchor conditions hold: $\displaystyle bx$ $\displaystyle=$ $\displaystyle b1\land x$ $\displaystyle xc$ $\displaystyle=$ $\displaystyle 1c\land x\;.$ A map of bilocales $f:{{}_{Q}X_{R}}\to{{}_{Q}Y_{R}}$ is a map of locales whose inverse image $f^{*}$ is a homomorphism of bimodules, and the resulting category is denoted by $Q$-$R$-$\mathit{Loc}$.
Definition 4.13 (Based on [BS05].) Let $G$ and $H$ be groupoids. By an algebraic morphism from $G$ to $H$ is meant a left action of $G$ on $H_{1}$ that commutes with right multiplication in $H$. More precisely, an algebraic morphism $(p,\mathfrak{a}):G\to H$ consists of maps $\mathfrak{a}:G_{1}\operatorname{\otimes}_{G_{0}}H_{1}\to H_{1}$ and $p:H_{1}\to G_{0}$ that define a left $G$-locale and make the following diagrams commute: $\begin{array}[]{c}\xymatrix{G_{1}\operatorname{\otimes}_{G_{0}}H_{1}\ar[r]^{-}% {\mathfrak{a}}\ar[d]_{\pi_{2}}\hfil&H_{1}\ar[d]^{r}\\ H_{1}\ar[r]_{r}&H_{0}}\xymatrix{H_{1}\operatorname{\otimes}_{H_{0}}H_{1}\ar[r]% ^{-}m\ar[d]_{\pi_{1}}&X\ar[d]^{p}\\ H_{1}\ar[r]_{p}&G_{0}\\ \xymatrix{G_{1}\operatorname{\otimes}_{G_{0}}H_{1}\operatorname{\otimes}_{H_{0% }}H_{1}\ar[rr]^{-}{\mathfrak{a}\operatorname{\otimes}1}\ar[d]_{1\operatorname{% \otimes}m}\hfil&&H_{1}\operatorname{\otimes}_{H_{0}}H_{1}\ar[d]^{m}\\ G_{1}\operatorname{\otimes}_{G_{0}}H_{1}\ar[rr]_{\mathfrak{a}}&&H_{1}\end{array}}}$ Given two algebraic morphisms $G\stackrel{{\scriptstyle(p,\mathfrak{a})}}{{\longrightarrow}}H\stackrel{{% \scriptstyle(q,\mathfrak{b})}}{{\longrightarrow}}K\;,$ their composition is $(q,\mathfrak{b})\circ(p,\mathfrak{a})=(p\circ u_{H}\circ q,\mathfrak{c})\;,$ where $\mathfrak{c}:G_{1}\operatorname{\otimes}_{G_{0}}K_{1}\to K_{1}$ is defined, in point-set notation, by $g\cdot_{\mathfrak{c}}k=(g\cdot_{\mathfrak{a}}u_{H}(q(k)))\cdot_{\mathfrak{b}}k\;.$
Definition 3.1 We refer to $X/G$ as the quotient of $X$ by $G$. For a right $G$-locale the corresponding quotient is denoted by $G\backslash X$.
Definition 2.2 1. The category $\mathit{IQFrm}$ is the subcategory of $\mathit{InvQuF}$ with the same objects and whose homomorphisms also preserve finite meets. 2. We denote the dual category ${\mathit{IQFrm}}^{\textrm{op}}$ by $\mathit{IQLoc}$.
Definition 3.2 Let $G$ be an étale groupoid with quantale $Q=\operatorname{\mathcal{O}}(G)$, and $X$ a left $G$-locale. An element $x\in X$ is invariant if the following equivalent conditions hold (for $X$ regarded as a $Q$-module): 1. For all $a\in Q$ we have $ax\leq x$; 2. For all $s\in Q_{\mathcal{I}}$ we have $sx\leq x$; 3. $1x\leq x$; 4. $1x=x$.
Definition 2.7 The category $\mathit{Gpd}_{\!\mathit{C}}$ is the subcategory of $\mathit{Gpd}$ whose morphisms are the covering functors, by which we mean the continuous functors $f:G\to H$ such that $f_{1}^{*}:\operatorname{\mathcal{O}}(H)\to\operatorname{\mathcal{O}}(G)$ is a homomorphism of unital involutive quantales (i.e., $f_{1}$ is a morphism in $\mathit{IQLoc}$).
Definition 4.5 The bicategory $\mathbf{IQLoc}$ has the inverse quantal frames as 0-cells, the bilocales as 1-cells, and the maps of bilocales as 2-cells. The composition of 1-cells ${}_{Q}X_{R}$ and ${}_{R}Y_{S}$ is defined by $Y\circ X=X\operatorname{\otimes}_{R}Y\;,$ and the coherence isomorphisms are the maps of bilocales whose inverse images are coherence isomorphisms in the usual “ring” sense.
Definition 2. According to Lawvere and Tierney, an elementary topos is a category $E$ satisfying the following properties: (1) $E$ has finite limits; (2) $E$ has exponentials; (3) $E$ has a subobject classifier.
Definition 1. A category is said to be cartesian closed whenever: (1) It has a terminal object here noted $\mathbf{1}$ (it can be noted $T$); (2) Any two objects $A$ and $B$ have a product written $A\times B$; (3) Any two objects $A$ and $B$ have an exponential noted $B^{A}$ or $A\rightarrow B$.
Definition 4.2.2. Let $\Gamma^{1}$, $\Gamma^{2}$ and $\Lambda$ be Lie groupoids, and let $F^{1}:\Gamma^{1}\to\Lambda$ and $F^{2}:\Gamma^{2}\to\Lambda$ be morphisms of Lie groupoids. The fiber product $\Gamma^{1}\times_{\Lambda}\Gamma^{2}$ is the groupoid such that ${\rm Obj}(\Gamma^{1}\times_{\Lambda}\Gamma^{2}):=\left\{(a,b,\alpha)\in\Gamma^% {1}_{0}\times\Gamma^{2}_{0}\times\Lambda_{1}:s(\alpha)=F_{0}^{1}(a),t(\alpha)=% F_{0}^{2}(b)\right\}$ and ${\rm Mor}((a,b,\alpha),(a^{\prime},b^{\prime},\alpha^{\prime})):=\left\{(f,g)% \in{\rm Mor}(a,a^{\prime})\times{\rm Mor}(b,b^{\prime}):\alpha\circ F^{2}_{1}(% g)=F^{1}_{1}(f)\circ\alpha^{\prime}\right\}$
Definition 4.3.2. Let $G=(G_{0},G_{1})$ be an étale Lie groupoid. A left module $M$ over $C_{c}^{\infty}(G)$ of finite type is said to be of constant rank if the function $x\mapsto{\rm dim}_{\mathbb{C}}M(x)$ is constant over $G_{0}$.
Definition 2.1.3. Let $\mathcal{G}=(Y,L,\mu)$ be a bundle gerbe, and $\mathcal{M}=(E,\rho)$, $\mathcal{N}=(E^{\prime},\rho^{\prime})$ be $\mathcal{G}$-modules. A $\mathcal{G}$-module morphism $\mathcal{M}\to\mathcal{N}$ is given by a vector bundle morphism $f:E\to{E^{\prime}}$ such that the following diagram of morphisms of hermitian vector bundles on $Y^{[2]}$ $\xymatrix{L\otimes\pi_{1}^{*}E\ar[r]^{\rho}\ar[d]_{id\otimes\pi_{1}^{*}f}&\pi_% {2}^{*}E\ar[d]^{\pi_{2}^{*}f}\\ L\otimes\pi_{1}^{*}E^{\prime}\ar[r]^{\rho^{\prime}}&\pi_{2}^{*}E^{\prime}}$ commutes. We will denote with ${\rm Hom}_{\mathcal{G}}(\mathcal{M},\mathcal{N})$ the space of $\mathcal{G}$-module morphisms between $\mathcal{M}$ and $\mathcal{N}$.
Definition 2.1.1. A bundle gerbe $\mathcal{G}$ over a manifold $M$ consists of a triple $(Y,L,\mu)$, where $\pi:Y\to{M}$ is a surjective submersion, $L$ a hermitian line bundle over $Y_{M}^{[2]}$, and $\mu:\pi_{3}^{*}L\otimes\pi_{1}^{*}L\to\pi^{*}_{2}L$ is a bundle isomorphism over $Y_{M}^{[3]}$ satisfying the natural associativity condition over $Y_{M}^{[4]}$.
Definition 4.3.1. Let $G=(G_{0},G_{1})$ be an étale Lie groupoid. A left module $M$ over $C_{c}^{\infty}(G)$ is said to be of finite type if it is isomorphic as a $C_{c}^{\infty}(G_{0})$-module to some submodule of the module $C_{c}^{\infty}(G_{0})^{k}$ for some natural number $k$.
Definition 2.1.2. Let $\mathcal{G}=(Y,L,\mu)$ be a bundle gerbe over $M$. A gerbe module $\mathcal{M}$ over $\mathcal{G}$ (or $\mathcal{G}$-module) is a pair $(E,\rho)$, where $E\to{Y}$ is a finite rank hermitian vector bundle, and $\rho:L\otimes\pi_{1}^{*}E\to\pi_{2}^{*}E$ is an isomorphism of hermitian vector bundles on $Y^{[2]}$, satisfying a compatibility condition over $Y^{[3]}$, namely the bundle maps obtained from pullbacks of $\rho$ and $\mu$ $\pi^{*}_{3}L\otimes\pi_{1}^{*}(L\otimes\pi_{1}^{*}E)\to\pi^{*}_{3}L\otimes\pi_% {21}^{*}E\to\pi_{23}^{*}E$ and $\pi^{*}_{3}L\otimes\pi_{1}^{*}(L\otimes\pi_{1}^{*}E)\to\pi^{*}_{2}L\otimes\pi_% {12}^{*}E\to\pi_{23}^{*}E$ coincide.
Definition 2.2.2. An Azumaya algebra over a manifold $M$ is a complex algebra $\mathcal{A}$ which can be obtained as the algebra of sections of an algebra bundle on $M$ whose fibers are Azumaya algebras.
Definition 4.2.1. Let $\Gamma$ and $\Lambda$ be Lie groupoids. A morphism $F:\Gamma\to\Lambda$ is called a weak equivalence if 1. The diagram $\xymatrix{\Gamma_{1}\ar[r]^{F_{1}}\ar[d]_{s\times t}&\Lambda_{1}\ar[d]^{s% \times t}\\ \Gamma_{0}\times\Gamma_{0}\ar[r]_{F_{0}\times{F_{0}}}&\Lambda_{0}\times\Lambda% _{0}}$ is a pullback diagram. 2. The smooth map $\Gamma_{0}\times_{\Lambda_{0}}\Lambda_{1}\to\Lambda_{0}$ is a surjective submersion.
Definition Let $U$ be a convex subgraph of a graph $X$. Write $\displaystyle V_{U}(X)$ $\displaystyle=\bigcup_{u\in U}\{x\in X:d(u,x)<\infty\}$ $\displaystyle=\{x\in X:x\text{ is connected to some vertex of }U\}.$ We say that $X$ projects to $U$ (Fig. 1) if for all $x\in V_{U}(X)$, there exists a vertex $\pi(x)\in U$ such that for all $u\in U$, $d(u,x)=d(u,\pi(x))+d(\pi(x),x).$ ${}_{\blacksquare}$
Definition The magnitude of a graph $G$ is $\#G(q)=\sum_{x,y\in G}(Z_{G}(q))^{-1}(x,y)\in\mathbb{Q}(q).$ We usually abbreviate $\#G(q)$ as $\#G$. ${}_{\blacksquare}$
Definition A subgraph $U$ of a graph $X$ is convex in $X$ if $d_{U}(u,u^{\prime})=d_{X}(u,u^{\prime})$ for all $u,u^{\prime}\in U$. ${}_{\blacksquare}$
Definition 5. A distribution $\mathcal{D}$ on a manifold $M$ is the data of a complemented vector subspace of $T_{x}M$ at each point of $x\in M$. A local vector field $X\in\mathfrak{X}_{U}(M)$ is said to belong to $\mathcal{D}$ if for any $x\in U$, $X_{x}\in\mathcal{D}_{x}$. In that case, we write $X\in\mathfrak{X}_{U}(\mathcal{D})$.
Definition 7. A foliation of a manifold $M$ is a partition of $M$ into connected initial submanifolds $S_{x}$ called “leaves”, such that for every $x\in M$, there is a chart $(U,\phi)$ such that $\phi(U)=V\times W$ with $V$ (resp. $W$) a neighborhood of 0 in a Banach space $E$ (resp. $F$), $\phi(x)=(0,0)$, and if $S$ is a leaf, then $\phi(U\cap S)=V\times A$ for some $A\subseteq W$.
Definition 4 (Morphism of algebras). Given a monad on the endofunctor $T$ in the category $\mathbf{C}$, a morphism from the algebra $h$ on $M$ to the algebra $k$ on $N$ is a $\mathbf{C}$-morphism $f\colon M\to N$ such that the diagram $\xymatrix{TM\ar[d]_{Tf}\ar[r]^{h}&M\ar[d]^{f}\\ TN\ar[r]_{k}&N}$ commutes.
Definition 1 (Monad). A monad in a category is a monoid object in the endofunctor category of that category.
Definition 2 (Tangent functor monad). The tangent functor monad is the monad $(T,\zeta,\mu)$ of Theorem 5.1.
Definition 6 (Smooth distribution, see [nubel]). A distribution is smooth if it is locally supported by vector subbundles. Explicitly, a distribution $\mathcal{D}$ on $M$ is smooth if for any $x\in M$ there is an open neighborhood $U$ of $x$ and a vector subbundle $B$ of $TU$ such that $B\subseteq\mathcal{D}_{U}$ and $B_{x}=\mathcal{D}_{x}$.
