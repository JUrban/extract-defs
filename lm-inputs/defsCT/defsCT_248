Definition 2.11 (Relation). Given two sets $X$ and $Y$ we call a subset $R$ of the product $Y\times X$ a relation and think of it as a “generalized map” from $X$ to $Y$ (note the order!).
Definition 4.6 (hybrid time dynamical system). Let $Z$ be a directed tree with countably many vertices and no branching. That is, $Z$ is a directed graph such that for any two distinct nodes $x,y$ of $Z$ there exists a unique directed path in $Z$ either from $x$ to $y$ or from $y$ to $x$ (but not both). Let ${\mathcal{T}}:{Z}\to\mathsf{RR}$ be a map of graphs with the following properties: (4.6.i) For any node $i$ of $Z$ ${\mathcal{T}}(i)=[t_{i}^{-},t_{i}^{+}]$ for some $t_{i}^{-},t_{i}^{+}\in\mathbb{R}$ with $t_{i}^{-}\leq t_{i}^{+}$. (4.6.ii) For any edge $i\xrightarrow{\gamma}j$ of $Z$ we have $t_{i}^{+}=t_{j}^{-}$ and ${\mathcal{T}}(\gamma)=\{(t_{j}^{-},t_{i}^{+})\}:[t_{i}^{-},t_{i}^{+}]\to[t_{j}% ^{-},t_{j}^{+}],$ is a relation from ${\mathcal{T}}(i)$ to ${\mathcal{T}}(j)$. On each interval ${\mathcal{T}}(i)$ choose the constant vector field $X_{i}=\frac{d}{dt}$. We define a hybrid dynamical system of the form $({\mathcal{T}}:{{\mathcal{Z}}}\to\mathsf{RR},\partial_{t}:=\{\frac{d}{dt}|_{{% \mathcal{T}}(i)}\}_{i\in\mathbb{N}})$ to be a hybrid time dynamical system. We think of such a system as being analogous to the system $((a,b),\frac{d}{dt})$ in continuous time dynamics.
Definition 2.3. A map of graphs $\varphi:A\to B$ from a graph $A$ to a graph $B$ is a pair of maps $\varphi_{1}:A_{1}\to B_{1}$, $\varphi_{0}:A_{0}\to B_{0}$ taking edges of $A$ to edges of $B$, nodes of $A$ to nodes of $B$ so that for any edge $\gamma$ of $A$ we have $\varphi_{0}(\mathfrak{s}(\gamma))=\mathfrak{s}(\varphi_{1}(\gamma))\quad% \textrm{and}\quad\varphi_{0}(\mathfrak{t}(\gamma))=\mathfrak{t}(\varphi_{1}(% \gamma)).$ We will usually omit the indices 0 and 1 and write $\varphi(\gamma)$ for $\varphi_{1}(\gamma)$ and $\varphi(a)$ for $\varphi_{0}(a)$.
Definition 2.8 (the category of $\mathsf{DS}$ continuous time dynamical systems). The objects of the category $\mathsf{DS}$ of continuous time dynamical systems are pairs $(D,X)$ where $D$ is a manifold with corners and $X$ is a vector field on $D$. A morphism from $(D,X)$ to $(D^{\prime},X^{\prime})$ is a map $f:D\to D^{\prime}$ of manifolds with corners with $Tf\circ X=X^{\prime}\circ f.$
Definition 3.10 (A category of hybrid phase spaces $\mathsf{HyPh}$). The objects of the category $\mathsf{HyPh}$ are maps of graphs ${\mathcal{R}}:A\to\mathsf{RR}$ with target $\mathsf{RR}$. A morphisms from ${\mathcal{R}}:A\to RR$ to ${\mathcal{Q}}:B\to\mathsf{RR}$ “2-commuting” triangle of the form $\xy(-10,10)*+{A}="1";(10,10)*+{B}="2";(0,-2)*+{\mathsf{RR}}="3";{\ar@{->}_{{% \mathcal{R}}}"1";"3"};{\ar@{->}^{\varphi}"1";"2"};{\ar@{->}^{{\mathcal{Q}}}"2"% ;"3"};{\ar@{<=}_{\scriptstyle\alpha}(4,6)*{};(-0.4,4)*{}};\endxy.$ That is, $\varphi:A\to B$ is a map of graphs and $\alpha$ assigns to each node $a$ of the graph $A$ a map of manifolds with corners $\alpha_{a}:{\mathcal{R}}(a)\to{\mathcal{Q}}(\varphi(a))$ so that for each arrow $a_{1}\xrightarrow{\gamma}a_{2}$ in the graph $A$, we have a 2-cell $\xy(-20,10)*+{{\mathcal{R}}(a_{1})}="1";(-20,-10)*+{{\mathcal{Q}}(\varphi(a_{1% }))}="2";(20,10)*+{{\mathcal{R}}(a_{2})}="3";(20,-10)*+{{\mathcal{Q}}(\varphi(% a_{2}))}="4";{\ar@{->}_{\alpha_{a_{1}}}"1";"2"};{\ar@{->}^{{\mathcal{R}}(% \gamma)}"1";"3"};{\ar@{->}_{\alpha_{a_{2}}}"3";"4"};{\ar@{->}_{{\mathcal{Q}}(% \varphi(\gamma))}"2";"4"};{\ar@{=>}(0,2)*{};(0,-2)*{}};\endxy$ in $\mathsf{RR}$. Note that the latter condition amounts to the inclusion $(\alpha_{a_{1}},\alpha_{a_{2}})({\mathcal{R}}(\gamma))\hookrightarrow{\mathcal% {Q}}(\varphi(\gamma)).$ The composition of morphisms is given by pasting of triangles: $\xy(10,6)*+{B}="1";(-10,6)*+{C}="2";(0,-6)*+{\mathsf{RR}}="3";{\ar@{->}^{{% \mathcal{Q}}}"1";"3"};{\ar@{->}_{\psi}"1";"2"};{\ar@{->}_{{\mathcal{S}}}"2";"3% "};{\ar@{=>}_{\scriptstyle\,\beta}(1,0.8)*{};(-4,3)*{}};\endxy\quad\circ\quad% \xy(10,6)*+{A}="1";(-10,6)*+{B}="2";(0,-6)*+{\mathsf{RR}}="3";{\ar@{->}^{{% \mathcal{R}}}"1";"3"};{\ar@{->}_{\varphi}"1";"2"};{\ar@{->}_{{\mathcal{Q}}}"2"% ;"3"};{\ar@{=>}_{\scriptstyle\,\alpha}(1,0.8)*{};(-4,3)*{}};\endxy\quad=\quad% \xy(10,6)*+{A}="1";(-10,6)*+{C}="2";(0,-6)*+{\mathsf{RR}}="3";{\ar@{->}^{{% \mathcal{R}}}"1";"3"};{\ar@{->}_{\psi\circ\varphi}"1";"2"};{\ar@{->}_{{% \mathcal{Q}}}"2";"3"};{\ar@{=>}_{\scriptstyle\,\delta}(1,0.8)*{};(-4,3)*{}};\endxy$ where $\delta(a):=\beta_{\varphi(a)}\circ\alpha_{a}:{\mathcal{R}}(a)\to{\mathcal{S}}(% \psi(\varphi(a)))$ for all nodes $a$ of $A$.
Definition 2.1. A directed multigraph $A$ is a pair of collections $A_{0}$ (nodes, vertices) and $A_{1}$ (arrows, edges) together with two maps $\mathfrak{s},\mathfrak{t}:A_{1}\to A_{0}$ (source and target). We do not require that $A_{1},A_{0}$ are sets in the sense of ZFC. We depict an arrow $\gamma\in A_{1}$ with the source $a$ and target $b$ as $a\xrightarrow{\gamma}b$. We write $A=\{A_{1}\rightrightarrows A_{0}\}$ to remind ourselves that our graph $A$ consists of two collections and two maps. A graph $A=\{A_{1}\rightrightarrows A_{0}\}$ is finite if the collections $A_{1}$ and $A_{0}$ are finite.
Definition 3.9 (The double category $\mathsf{RR}$ of manifolds with corners, smooth maps and set-theoretic relations). The double category $\mathsf{RR}$ is defined as follows. Its objects are manifolds with corners. The vertical 1-arrows are smooth maps. The horizontal 1-arrow are set-theoretic relations. The 2-cells are diagrams of the form $\xy(-19,10)*+{X}="1";(-19,-10)*+{Y}="2";(15,10)*+{X^{\prime}}="3";(15,-10)*+{Y% ^{\prime}}="4";{\ar@{->}_{f}"1";"2"};{\ar@{->}^{R}"1";"3"};{\ar@{->}_{S}"2";"4% "};{\ar@{->}^{f^{\prime}}"3";"4"};{\ar@{=>}(-2,3);(-2,-3)};\endxy$ where $f,f^{\prime}$ are smooth maps, $R\subset X^{\prime}\times X$, $S\subset Y^{\prime}\times Y$ are relations satisfying $(f^{\prime},f)(R)\subset S.$
Definition 4.3 (Maps of hybrid dynamical systems). A map from a hybrid dynamical system $({\mathcal{Q}}:{A}\to\mathsf{RR},X)$ to a hybrid dynamical system $({\mathcal{R}}:{B}\to\mathsf{RR},Y)$ is (4.3.i) a map of hybrid phase spaces $(\varphi,\{\alpha_{a}\}):{\mathcal{Q}}\to{\mathcal{R}}$ so that (4.3.ii) $Y_{\varphi(a)}\circ\alpha_{a}=T\alpha_{a}\circ X_{a}$ for all nodes $a\in A_{0}$.
Definition 3.1 (Hybrid phase space). A hybrid phase space consists of (3.1.i) A directed graph $A=\{A_{1}\rightrightarrows A_{0}\}$; (3.1.ii) For each node $a\in A_{0}$ a manifold with corners $R_{a}$; (3.1.iii) For each arrow $a\xrightarrow{\gamma}a^{\prime}$ of $A$ a reset relation $R_{\gamma}\subset R_{a^{\prime}}\times R_{a}$. Thus a hybrid phase space is a tuple $(A=\{A_{1}\rightrightarrows A_{0}\},\{R_{a}\}_{a\in A_{0}},\{R_{\gamma}\}_{% \gamma\in A_{1}}))$.
Definition 2.6. A continuous time dynamical system is a pair $(D,X)$ where $D$ is a manifold with corners (i.e., a region) and $X$ is a vector field on $D$.
Definition 3.4. We define the graph $\mathsf{RR}$ of regions and relations as follows: the collection of nodes of $\mathsf{RR}$ is the collection of all regions (i.e., manifolds with corners); the collection of all arrows of $\mathsf{RR}$ is the collection of all (set-theoretic) relations between the regions.
Definition 4.7 (An execution of a hybrid dynamical system). We define an execution of a hybrid system $({\mathcal{Q}}:A\to\mathsf{RR},X)$ to be a map of hybrid dynamical systems $(\varphi,\{\sigma_{i}\}_{i\in Z_{0}}):({\mathcal{T}}:Z\to\mathsf{RR},\partial_% {t})\to({\mathcal{Q}}:A\to\mathsf{RR},X).$ where $({\mathcal{T}}:Z\to\mathsf{RR},\partial_{t})$ is a hybrid time dynamical system.
Definition 2.14 (Hybrid dynamical system). A hybrid dynamical system (HDS) consists of (2.14.i) A directed graph $A=\{A_{1}\rightrightarrows A_{0}\}$; (2.14.ii) For each node $a\in A_{0}$ a dynamical system $(R_{a},X_{a})$ where $X_{a}$ is a vector field on the manifolds with corners $R_{a}$; (2.14.iii) For each arrow $a\xrightarrow{\gamma}b$ of $A$ a reset relation $R_{\gamma}\subset R_{b}\times R_{a}$. Thus a hybrid dynamical system is a tuple $(A=\{A_{1}\rightrightarrows A_{0}\},\{(R_{a},X_{a})\}_{a\in A_{0}},\{R_{\gamma% }\}_{\gamma\in A_{1}}))$.
Definition 2.4. Directed multigraphs form a category $\mathsf{Graph}$. Its objects are directed graphs (see Definition 2.1). Morphisms are maps of graphs (see Definition 2.3).
Definition 3. A generalized category $\mathscr{C}$ is a category or one-category if the source and target of every nonidentity $f$ in $\mathscr{C}$ is an object in $\mathscr{C}$.
Definition 13. Generalized categories $\mathscr{C}$ and $\mathscr{C}^{\prime}$ are equivalent if their categories of invertibles are isomorphic.
Definition 24. Let $\mathscr{C}$ be a generalized category. A $k$-cell in $\mathscr{C}$ is an element $f$ of $\mathscr{C}$ such that for every $k$-element sequence $\vec{s}$ of operations $\operatorname{{\bf s}}$ and $\operatorname{{\bf t}}$ that satisfy when applied to $f$, (1) $\operatorname{{\bf s}}^{k}f$ and $\operatorname{{\bf t}}^{k}$ are objects, and $\operatorname{{\bf s}}^{k-n}f$ and $\operatorname{{\bf t}}^{k-n}$ are not objects, for all $0\leq n\leq k$, (2) $\operatorname{{\bf s}}\operatorname{{\bf t}}f=\operatorname{{\bf s}}% \operatorname{{\bf s}}f$ and $\operatorname{{\bf t}}\operatorname{{\bf s}}f=\operatorname{{\bf t}}% \operatorname{{\bf t}}f$, (3) $\operatorname{{\bf s}}f$ and $\operatorname{{\bf t}}f$ is are $k-1$-cells. For example, in a 1-dimensional category, all elements are 1-cells, and some elements are also 0-cells. An element $f$ of a generalized category $\mathscr{C}$ is cellular if $f$ is a $k$-cell for some $k\geq 1$, and a generalized category $\mathscr{C}$ is cellular if every element of $\mathscr{C}$ is cellular.
Definition 9. If $\mathscr{C}$ is a generalized category, an element $a\in\mathscr{C}$ is invertible if there exists $b\in\mathscr{C}$ such that $ab=1_{\hat{a}}$ and $ba=1_{\bar{a}}$.
Definition 17. Two generalized categories $\mathscr{C}$ and $\mathscr{C}^{\prime}$ are naturally equivalent if they are equivalent via natural transformations $\theta:F\circ G\cong\text{id}_{\mathscr{C}^{\prime}},$ $\theta^{\prime}:G\circ F\cong\text{id}_{\mathscr{C}}.$
Definition 5. A mapping $\mathscr{C}\to\mathscr{C}^{\prime}$ between generalized categories is functorial or a functor if (1) $a\sqsubseteq b\text{ implies }F(a)\sqsubseteq F(b),$ (2) $F(\bar{a})=\overline{F(a)},$ (3) $F(\hat{a})=\widehat{F(a)},$ (4) $F(ab)=F(a)F(b),\text{ if }ab\,\downarrow,$ (5) $F(1_{a})=1_{F(a)}.$ We thus have a category ${\bf GenCat}$ of generalized categories and functors.
Definition 19. Let $\mathscr{C},\mathscr{D}$ be generalized categories, $F:\mathscr{C}\to\mathscr{D}$ a functor. For $a,b\in\mathscr{C}$, let $F_{a,b}$ be the mapping on the domain $\hom(a,b)$ given by $f\mapsto F(f)$. We say that $F$ is faithful if for all $a,b$, $F_{a,b}$ is injective, and we say that $F$ is full if for all $a,b$, $F_{a,b}$ is surjective.
Definition 11. An element $m$ of a generalized category $\mathscr{C}$ is monic if $mf,mg\downarrow$ and $mf=mg$ implies $f=g$. An element $e$ in $\mathscr{C}$ is epi if $fe,ge\downarrow$ and $fe=ge$ implies $f=g$. We say $a$ is isomorphic to $b$, denoted $a\cong b,$ if there exists an invertible element $\theta$ with $\bar{\theta}=a,\hat{\theta}=b$.
Definition 22. Let $\mathscr{C},I$ be generalized categories. Let $\alpha:I\to\mathscr{C}$ be a functor, possibly only a functor up to objects. A cone is said to be over (or below) the base $\alpha$ if (1) $\widehat{\pi(i)}=\alpha(i)$, for all $i\in I$, (2) for all $i\in I$, $\pi(\hat{i})=\alpha(i)\pi(\bar{i})$. A limit of $\alpha$ is a cone $\pi:I\to\mathscr{C}$ below the base $\alpha$ such that for any cone $\tilde{\pi}:I\to\mathscr{C}$ over the same base $\alpha$, there is a unique $\lambda\in\mathscr{C}$ such that $\tilde{\pi}=\pi\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle{\Delta}$}}\lambda$. (Here, $\pi\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle{\Delta}$}}\lambda$ is the map defined by $(\pi\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle{\Delta}$}}\lambda)(i)=\pi(i% )\cdot\lambda.$) Dually, a cocone is said to be over (or below) the base $\alpha$ if (1) $\overline{\pi(i)}=\alpha(i)$, for all $i\in I$, (2) for all $i\in I$, $\pi(\bar{i})=\pi(\hat{i})\alpha(i)$. A colimit of $\alpha$ is a cocone $\pi:I\to\mathscr{C}$ such that for any cone $\tilde{\pi}:I\to\mathscr{C}$ over the base $\alpha$, there is a unique $\lambda\in\mathscr{C}$ such that $\tilde{\pi}=\lambda\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle{\Delta}$}}\pi$. Here, $\lambda\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle{\Delta}$}}\pi$ is the map defined by $(\lambda\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle{\Delta}$}}\pi)(i)=% \lambda\cdot\pi(i)$, as before.
Definition 7. A subcategory of a generalized category $\mathscr{C}$ is a subset $\mathscr{C}^{\prime}$ of $\mathscr{C}$ whose order is inherited from $\mathscr{C}$ closed under source, target, composition, and identities: if $a\in\mathscr{C}^{\prime}$, then $1_{a}\in\mathscr{C}^{\prime}$. A subcategory $\mathscr{C}^{\prime}$ is full if $a,b\in\mathscr{C}^{\prime}$ implies $\hom(a,b)$ is contained in $\mathscr{C}^{\prime}$.
Definition 15. Let $\mathscr{C},\mathscr{C}^{\prime}$ be generalized categories, let $F,G:\mathscr{C}\to\mathscr{C}^{\prime}$ be two functors. We say that a morphism of functors [8] from $F$ to $G$ is a pair $(\theta_{1},\theta_{2})$ of maps $\mathscr{C}\to\mathscr{C}^{\prime}$ satisfying, for all $a\in\mathscr{C}$, $\theta_{1}(a)F(a)=G(a)\theta_{2}(a)\,\downarrow$ Note that here, $\theta_{1}$ and $\theta_{2}$ are no longer presumed to be invertible. We may write the morphism of functors with the notation $(\theta_{1},\theta_{2}):F\Rightarrow G$.
Definition 1. A generalized category is a structure $(\mathscr{C},\sqsubseteq,\operatorname{{\bf s}},\operatorname{{\bf t}},\cdot)$ where $\mathscr{C}$ is a set, $\sqsubseteq$ is a relation on $\mathscr{C}$, $\operatorname{{\bf s}}$ and $\operatorname{{\bf t}}$ are mappings $\mathscr{C}\to\mathscr{C}$, and $(\cdot)$ is a partially defined mapping $\mathscr{C}\times\mathscr{C}\to\mathscr{C}$, denoted $a\cdot b$ or $ab$. These are required to satisfy (1) $(\mathscr{C},\sqsubseteq)$ is a partially ordered set, (2) $ab$ $\downarrow$ if and only if $\operatorname{{\bf s}}(a)\sqsubseteq\operatorname{{\bf t}}(b)$. (3) If $(ab)c$ $\downarrow$ or $a(bc)$ $\downarrow$ then $(ab)c=a(bc)$. (4) If $ab$ $\downarrow$ then $\operatorname{{\bf s}}(ab)=\operatorname{{\bf s}}(b)$ and $\operatorname{{\bf t}}(ab)=\operatorname{{\bf t}}(a)$. (5) (Element-Identity) For all $a\in\mathscr{C}$, there exists $b\in\mathscr{C}$ such that (a) $\operatorname{{\bf s}}(b)=\operatorname{{\bf t}}(b)=a$, (b) if $bc$ $\downarrow$ then $bc=c$, (c) if $cb$ $\downarrow$ then $cb=c$, (6) (Object-Identity) Let $a\in\mathscr{C}$ and $\operatorname{{\bf s}}(a)=\operatorname{{\bf t}}(a)=a$. Then (a) if $ba$ $\downarrow$ then $ba=b$. (b) If $ab$ $\downarrow$ then $ab=b$. (7) (Order Congruences1These axioms are needed for the Kleisli construction [14].) (a) If $a\sqsubseteq b$ then $\operatorname{{\bf s}}(a)\sqsubseteq\operatorname{{\bf s}}(b)$ and $\operatorname{{\bf t}}(a)\sqsubseteq\operatorname{{\bf t}}(b)$. (b) $a\sqsubseteq b$ and $c\sqsubseteq d$ and $ac,bd$ $\downarrow$ implies $ac\sqsubseteq bd.$ (c) $a\sqsubseteq b$ implies $1_{a}\sqsubseteq 1_{b}$. The element $c$ of axiom (5) is unique, and is denoted $1_{a}$ or $\text{id}_{a}$, and called the identity on $a$.
Definition 12. We refer to the category $\tilde{\mathscr{C}}$ of Proposition 3.3 as the category of invertibles of $\mathscr{C}$.
Definition 20. Let $\mathscr{C},\mathscr{C}^{\prime}$ be generalized categories. A functor up to objects from $\mathscr{C}$ to $\mathscr{C}^{\prime}$ is a map $F:\mathscr{C}\to\mathscr{C}^{\prime}$ satisfying, for every $a,b\in\mathscr{C}$, (1) $F(ab)=F(a)(b)$, (2) $F(a)$ is an identity in $\mathscr{C}^{\prime}$ if and only if $a$ is an identity in $\mathscr{C}$, (3) $F(\operatorname{{\bf s}}(a))=\operatorname{{\bf s}}(F(a))$ unless $a$ is an object of $\mathscr{C}$, (4) $F(\operatorname{{\bf t}}(a))=\operatorname{{\bf t}}(F(a))$ unless $a$ is an object of $\mathscr{C}$.
Definition 2. A generalized category is a structure $(\mathscr{C},\sqsubseteq,\operatorname{{\bf s}},\operatorname{{\bf t}},\cdot)$ where $\mathscr{C}$ is a set, $\sqsubseteq$ is a relation on $\mathscr{C}$, $\operatorname{{\bf s}}$ and $\operatorname{{\bf t}}$ are operators (mappings) $\mathscr{C}\to\mathscr{C}$, and $(\cdot)$ is a partially defined binary operation $\mathscr{C}\times\mathscr{C}\to\mathscr{C}$, denoted $a\cdot b$ or $ab$. These are required to satisfy (1) $(\mathscr{C},\sqsubseteq)$ is a partially ordered set, (2) If $(ab)c$ $\downarrow$ or $a(bc)$ $\downarrow$ then $(ab)c=a(bc)$. (3) If $ab$ $\downarrow$ then $\operatorname{{\bf s}}(ab)=\operatorname{{\bf s}}(b)$ and $\operatorname{{\bf t}}(ab)=\operatorname{{\bf t}}(a)$. (4) $ab$ $\downarrow$ if and only if $\operatorname{{\bf s}}(a)\sqsubseteq\operatorname{{\bf t}}(b)$. (5) (Object-Identity) Let $a\in\mathscr{C}$ and $\operatorname{{\bf s}}(a)=\operatorname{{\bf t}}(a)=a$. Then (a) if $ba$ $\downarrow$ then $ba=b$. (b) If $ab$ $\downarrow$ then $ab=b$. (6) (Order Congruences) (a) If $a\sqsubseteq b$ then $\operatorname{{\bf s}}(a)\sqsubseteq\operatorname{{\bf s}}(b)$ and $\operatorname{{\bf t}}(a)\sqsubseteq\operatorname{{\bf t}}(b)$. (b) $a\sqsubseteq b$ and $c\sqsubseteq d$ and $ac,bd$ $\downarrow$ implies $ac\sqsubseteq bd.$ (c) $a\sqsubseteq b$ implies $1_{a}\sqsubseteq 1_{b}$. A generalized category is said to be equipped with identities if for every $a\in\mathscr{C}$, if there exists $b\in\mathscr{C}$ such that $\operatorname{{\bf s}}(b)=a$ or $\operatorname{{\bf t}}(b)=a$, then there exists $c\in\mathscr{C}$ such that $cb$ $\downarrow$ implies $cb=b$, and $bc$ $\downarrow$ implies $bc=b$.The element $c$ is unique, and is denoted $1_{a}$ or $\text{id}_{a}$, and called the identity on $a$. An element $f\in\mathscr{C}$ is an element $f$ of the underlying set $\mathscr{C}$. An object $a$ in $\mathscr{C}$ is an element $a$ of $\mathscr{C}$ such that $\operatorname{{\bf s}}(a)=\operatorname{{\bf t}}(a)=a$. A subject $U$ in $\mathscr{C}$ is an element $U$ of $\mathscr{C}$ such that there exists $f\in\mathscr{C}$ such that $\operatorname{{\bf s}}(f)=U$, or there exists $f\in\mathscr{C}$ such that $\operatorname{{\bf t}}(f)=U$.
Definition 23. Let $F:C\to C^{\prime}$ be a functor. Then $F$ preserves limits or is left exact if for every functor $\alpha:I\to C$, $F(\lim(\alpha))\subset\lim(F\circ\alpha).$ Dually, $F$ preserves colimits or is right exact if for every functor $\alpha:I\to C$, $F(\operatorname{colim}(\alpha))\subset\operatorname{colim}(F\circ\alpha).$ $F$ is said to create limits if for every element $\pi\in\lim(F\circ\alpha)$, there exists a unique $\pi^{\prime}\in\lim(\alpha)$ such that $F(\pi^{\prime})=\pi$. Dually, $F$ is said to create colimits if for every element $\pi\in\operatorname{colim}(F\circ\alpha)$, there exists a unique $\pi^{\prime}\in\operatorname{colim}(\alpha)$ such that $F(\pi^{\prime})=\pi$.
Definition 8. Two generalized categories $\mathscr{C}$ and $\mathscr{C}^{\prime}$ are isomorphic if there is an invertible functor (i.e., invertible as a mapping) $F$ from $\mathscr{C}$ to $\mathscr{C}^{\prime}$.
Definition 16. Let $\mathscr{C},\mathscr{D}$ be generalized categories, let $F,G:\mathscr{C}\to\mathscr{D}$. Let $(\theta_{1},\theta_{2}):F\Rightarrow G$ be a morphism of functors. We say that $(\theta_{1},\theta_{2})$ is natural or that $(\theta_{1},\theta_{2})$ is a natural transformation if, for every $a,b\in\mathscr{C}$, $\theta_{1}(a)=\theta_{1}(b)$ whenever $\hat{a}=\hat{b}$, and $\theta_{2}(a)=\theta_{2}(b)$ whenever $\bar{a}=\bar{b}$.
Definition 4. A generalized category $\mathscr{C}$ is finitely generated if there is a finite set $\mathscr{C}$ such that the remainder of $\mathscr{C}$ consists only of identities.
Definition 10. For $a,b\in\mathscr{C},$ we have the following equivalence relations: (1) $a$ and $b$ are in the same monic class, or subobject, $a\sim_{m}b$, if there exists invertible element $\theta\in\mathscr{C}$ such that $a\theta=b$. (2) $a$ and $b$ are in the same epic class, or quotient, $a\sim_{e}b$, if there exists invertible element $\theta\in\mathscr{C}$ such that $\theta a=b$; (3) $a$ and $b$ are in the same iso class, $a\sim b$, if there exist invertible elements $\theta_{1},\theta_{2}\in\mathscr{C}$ such that $\theta_{1}a=b\theta_{2}$.
Definition 18. Let $\mathscr{C}$ and $\mathscr{D}$ be generalized categories. An adjunction $(F,G,\eta,\varepsilon)$ is a pair of functors together with natural transformations $\eta:\text{id}_{\mathscr{C}}\to G\circ F,\quad\varepsilon:F\circ G\to\text{id}% _{\mathscr{D}},$ satisfying the identities $\displaystyle(G\circ\varepsilon)\mathbin{\raisebox{0.86pt}{$\scriptscriptstyle% {\Delta}$}}(\eta\circ G)$ $\displaystyle=1_{G},$ $\displaystyle(\varepsilon\circ F)\mathbin{\raisebox{0.86pt}{$% \scriptscriptstyle{\Delta}$}}(F\circ\eta)$ $\displaystyle=1_{F},$ where $1_{F}$ is the mapping $f\mapsto 1_{F(f)}$. Given an adjunction $(F,G,\eta,\varepsilon)$, $\eta$ is called the unit and $\varepsilon$ is called the counit of the adjunction. A natural equivalence $(\theta,\theta^{\prime})$ is an adjoint equivalence if $\theta$ and $\theta^{\prime}$ are the unit and counit of an adjunction.
Definition 6. The sets $\hom(a,b)=\{c\in\mathscr{C}\mid\bar{c}=a,\hat{c}=b\},$ for $a,b\in\mathscr{C}$, are called the hom sets of $\mathscr{C}$.
Definition 21. Let $\mathscr{C}$ be a generalized category, $I$ a generalized category (the index of a cone needs only be a set, but in practice it is always a (generalized) category). A cone in $\mathscr{C}$ with index $I$ is a map $\sigma:I\to\mathscr{C}$ such that $\text{for all $i,j\in I$, }\overline{\sigma(i)}=\overline{\sigma(j)}.$ Dually, cocone in $\mathscr{C}$ with index $I$ is a map $\sigma:I\to\mathscr{C}$ such that for all $i,j\in I$, $\widehat{\sigma(i)}=\widehat{\sigma(j)}.$ A cone or cocone is finitely generated if the index set $I$ is finitely generated (Definition 4). This common source is the vertex of the cone, and the vertex of a cocone is the common target. Given a cone or cocone $\pi$, we may refer to $\pi(i)$ for some $i\in I$ as a member of the cone.
Definition 14. A functor $F:\mathscr{C}\to\mathscr{C}^{\prime}$ is essentially injective if it satisfies one of the following equivalent conditions, (1) $\tilde{F}$ is injective. (2) For $a,b\in\mathscr{C}$, $F(a)=F(b)$ implies $a\sim b$. and $F$ is essentially surjective if it satisfies one of the following equivalent conditions: (1) $\tilde{F}$ is surjective. (2) For $\alpha\in\mathscr{C}^{\prime}$, there exists $a\in\mathscr{C}$ with $F(a)\sim\alpha$.
Definition 4.1. $\Theta(M):=\left\{\theta\in\mathcal{C}^{\infty}(M)\mid\text{$\operatorname{% Supp}\theta$ past compact, $\operatorname{Supp}(1-\theta)$ future compact}\right\}$
Definition 5.4. For $f,g\in\mathcal{D}(M)$ and $a\in\mathfrak{A}(M)$, $\tilde{R}_{f,g}(a):=\mathcal{S}_{M}(f)^{-1}[\mathcal{S}_{M}(f+g)\cdot_{% \mathcal{T}}a]\mathcal{S}_{M}(f+g)^{-1}\mathcal{S}_{M}(f)\ .$
Definition 2.9. The Hochschild coboundary $\delta^{\mathrm{H}}:C^{p,q}(\mathfrak{A},\mathfrak{A})\to C^{p,q+1}(\mathfrak{% A},\mathfrak{A})$ is $(-1)^{p}$ times the Hochschild coboundary on $C^{q}[\mathfrak{A}(M_{p}),\mathfrak{A}(M_{0})]$.
Definition 2.3. The Hochschild cohomology $H^{\bullet}(A,B)$ is the cohomology of $C^{\bullet}(A,B)$ with the coboundary $\delta$.
Definition 3.1. A skew diagram of algebras $(\mathfrak{A},u)$ over a category $\mathfrak{X}$ consists of • for every $M\in\mathfrak{X}$, an associative algebra $\mathfrak{A}(M)$, • for every $\phi:M\to N$ in $\mathfrak{X}$, a homomorphism $\mathfrak{A}[\phi]:\mathfrak{A}(M)\to\mathfrak{A}(N)$, and • for every $M\stackrel{{\scriptstyle\phi}}{{\to}}N\stackrel{{\scriptstyle\psi}}{{\to}}P$, an invertible element $u(\psi,\phi)\in 1+\mathfrak{A}(P)$, such that: • For any $M\stackrel{{\scriptstyle\phi}}{{\to}}N\stackrel{{\scriptstyle\psi}}{{\to}}P$ and $a\in\mathfrak{A}(M)$, $\mathfrak{A}(\psi;\mathfrak{A}(\phi;a))u(\psi,\phi)=u(\psi,\phi)\mathfrak{A}(% \psi\circ\phi;a)\ ;$ • for any $M\stackrel{{\scriptstyle\phi}}{{\to}}N\stackrel{{\scriptstyle\psi}}{{\to}}P% \stackrel{{\scriptstyle\chi}}{{\to}}Q$, $\mathfrak{A}(\chi;u(\psi,\phi))u(\chi,\psi\circ\phi)=u(\chi,\psi)u(\chi\circ% \psi,\phi)\ .$
Definition 2.5. From this, define $\Gamma\circ\Delta:=\sum_{i=1}^{q}(-1)^{(q-i)(q^{\prime}-1)}\Gamma\circ_{i}\Delta$ and $[\Gamma,\Delta]=\Gamma\circ\Delta-(-1)^{(q-1)(q^{\prime}-1)}\Delta\circ\Gamma% \in C^{q+q^{\prime}-1}(A,A)\ .$
Definition 1.3. A diagram of algebras is a covariant functor from a small category to $\mathsf{Alg}$.
Definition 1.2. [2] A Locally covariant quantum field theory (LCQFT) is a covariant functor $\mathfrak{A}:\mathsf{Loc}\to\mathsf{Alg}$ to some category of algebras.
Definition 3.3. A morphism of skew diagrams of algebras $(\alpha,v):(\mathfrak{A},u)\to(\mathfrak{B},u^{\prime})$ is given by • For every object $M\in\operatorname{Obj}\mathfrak{X}$, a homomorphism $\alpha[M]:\mathfrak{A}(M)\to\mathfrak{B}(M)$, and • for every morphism $\phi:M\to N$, an invertible element $v(\phi)\in 1+\mathfrak{B}(N)$, such that • for $\phi:M\to N$ and $a\in\mathfrak{A}(M)$, $\alpha(N;\mathfrak{A}(\phi;a))\,v(\phi)=v(\phi)\,\mathfrak{B}(\phi;\alpha(M;a))$ • and for $M\stackrel{{\scriptstyle\phi}}{{\to}}N\stackrel{{\scriptstyle\psi}}{{\to}}P$, $\alpha(P;u(\psi,\phi))\,v(\psi\circ\phi)=v(\psi)\,\mathfrak{B}(\psi;v(\phi))\,% u^{\prime}(\psi,\phi)\ .$ For a morphism of skew diagrams of unital algebras, $v(\psi,\phi)\in\mathfrak{B}(N)$, and for a morphism of skew diagrams of $*$-algebras it is unitary.
Definition 5.2. Given $M\in\operatorname{Obj}\mathfrak{X}$, define a functor $\mathfrak{A}_{V}(M;-):\mathcal{K}(M)\to\mathsf{Alg}[[{\mathchar 22\mskip-6.5mu% h},\lambda]]$ such that: • On objects, $\mathfrak{A}_{V}(M;K,f)\subset\mathfrak{A}(M)[[\lambda]]$ is generated by the image $R_{f}(\mathfrak{A}(M;K))$. • On morphisms, it is determined by the condition that $R:\mathfrak{A}(M;-)\mathrel{\dot{\to}}\mathfrak{A}_{V}(M;-)$ be a natural transformation — i.e., for any $(K_{1},f_{1}),(K_{2},f_{2})\in\mathcal{K}(M)$ with $K_{1}\subseteq K_{2}$, $\tikzcd\mathfrak{A}(M;K_{1})\arrow{rrr}{\subseteq}\arrow{d}{R_{f_{1}}}&&&% \mathfrak{A}(M;K_{2})\arrow{d}{R_{f_{2}}}\\ \mathfrak{A}_{V}(M;K_{1},f_{1})\arrow{rrr}{\mathfrak{A}_{V}(M;K_{1},f_{1},K_{2% },f_{2})}&&&\mathfrak{A}_{V}(M;K_{2},f_{2})$ is a commutative diagram.
Definition 2.7. $\Gamma\smile\Delta\in C^{q+q^{\prime}}(A,A)$ is defined by $(\Gamma\smile\Delta)(a_{1},\dots,a_{q+q^{\prime}}):=\Gamma(a_{1},\dots,a_{q})% \Delta(a_{q+1},\dots,a_{q+q^{\prime}})$ for $a_{1},\dots,a_{q+q^{\prime}}\in A$.
Definition 5.5. For $V:\mathcal{D}\mathrel{\dot{\to}}\mathfrak{A}$ linear, $\theta\in\Theta(\mathfrak{X})$, let $\Psi_{V,\theta}\in C^{1,1}(\mathfrak{A},\mathfrak{A})$ be such that for $\phi:M\to N$, $\Psi_{V,\theta}[\phi]=\tilde{R}_{\theta_{N}}^{(2)}\circ\mathfrak{A}[\phi]-% \mathfrak{A}[\phi]\circ\tilde{R}_{\theta_{M}}^{(2)}-2\,\Xi_{V,\theta}[\phi]% \circ\tilde{R}^{(1)}_{\theta_{M}}\ .$
