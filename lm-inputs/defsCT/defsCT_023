A.1 Definition (cf. [kaschap]*Definition 6.1.1). An ind-object in $\mathcal{E}$ is by definition an object of $\hat{\mathcal{E}}$ that is isomorphic in $\hat{\mathcal{E}}$ to “${\varinjlim}$” $\alpha$ for some small filtered category $I$ and a functor $\alpha:I\to\mathcal{E}$. We denote by $\mathrm{Ind}(\mathcal{E})$ the full subcategory of $\hat{\mathcal{E}}$ consisting of the ind-objects in $\mathcal{E}$. The functor $h_{\mathcal{E}}$ induces a full embedding $\iota_{\mathcal{E}}:\mathcal{E}\to\mathrm{Ind}(\mathcal{E})$.
2.27 Definition (see Definition A.18 ). A tensor Frobenius pair is the datum of a triple $\mathbf{E}=(\mathcal{E},\mathcal{E}_{0},\otimes)$ such that: (i) $(\mathcal{E},\mathcal{E}_{0})$ is a Frobenius pair. (ii) $(\mathcal{E},\otimes)$ is a symmetric monoidal category. (iii) For all objects $a\in\mathcal{E}$, the functor $a\otimes-$ is exact, i.e. it preserves conflations. (iv) For all objects $a\in\mathcal{E}$, the functor $a\otimes-$ preserves the projective/injective objects of $\mathcal{E}$. (v) $\mathcal{E}_{0}$ is a $\otimes$-ideal in $\mathcal{E}$. (vi) For two inflations $a\rightarrowtail a^{\prime}$ and $b\rightarrowtail b^{\prime}$, the canonical map $a^{\prime}\otimes b\coprod_{a\otimes b}a\otimes b^{\prime}\to a^{\prime}% \otimes b^{\prime}$ is an inflation.
2.11 Definition (see [balmer2010tensor]*Definition 20). A tensor triangulated category $\mathcal{T}$ is called rigid if there is an exact functor $D:\mathcal{T}^{\mathrm{op}}\to\mathcal{T}$ and a natural isomorphism $\operatorname{Hom}_{\mathcal{T}}(a\otimes b,c)\cong\operatorname{Hom}_{% \mathcal{T}}(b,D(a)\otimes c)$ for all objects $a,b,c\in\mathcal{T}$. The object $D(a)$ is called the dual of $a$.
6.1 Definition. Let $\mathrm{sPerf}$ denote the category of strict perfect complexes on $X$ endowed with the following structure of exact category: a sequence of strict perfect complexes $\mathcal{F}^{\bullet}\to\mathcal{G}^{\bullet}\to\mathcal{H}^{\bullet}$ is a conflation if it is degree-wise a split exact sequence. We denote the full subcategory of acyclic strict perfect complexes by $\mathrm{asPerf}$.
2.23 Definition. Let $\mathcal{E}$ be a Frobenius category. Its stable category $\underline{\mathcal{E}}$ is the category with the same objects as $\mathcal{E}$ and for two objects $a,b\in\underline{\mathcal{E}}$, we have $\operatorname{Hom}_{\underline{\mathcal{E}}}(a,b):=\operatorname{Hom}_{% \mathcal{E}}(a,b)/\mathcal{J}~{},$ where $\mathcal{J}$ is the subgroup of homomorphisms that factor through a projective-injective object of $\mathcal{E}$.
A.12 Definition. A tensor exact category is an exact category $\mathcal{E}$ equipped with a compatible symmetric monoidal structure $\otimes_{\mathcal{E}}$, i.e. the functors $a\mapsto a\otimes_{\mathcal{E}}b$ are exact for all objects $b\in\mathcal{E}$.
A.18 Definition. A tensor Frobenius pair $\mathbf{E}=(\mathcal{E},\mathcal{E}_{0},\otimes)$ consists of a Frobenius pair $(\mathcal{E},\mathcal{E}_{0})$ and a symmetric monoidal structure on $\mathcal{E}$ with tensor product $\otimes$, that makes $\mathcal{E}$ a tensor exact category and satisfies the following properties: (i) For all objects $A\in\mathcal{E}$, the functor $A\otimes-$ preserves the projective/injective objects of $\mathcal{E}$. (ii) $\mathcal{E}_{0}$ is a $\otimes$-ideal in $\mathcal{E}$, i.e. it is stable under tensoring with any object of $\mathcal{E}$. (iii) The tensor exact category $\mathcal{E}$ satisfies the pushout product axiom.
3.3 Definition. For any $p\in\mathbb{Z}_{\geq 0},l\in\mathbb{Z}$, the sheaf $\mathscr{K}^{(l)}_{p}$ on $\operatorname{Spc}{\mathcal{T}}$ is defined as the sheaf associated to the presheaf $U\mapsto\mathbb{K}_{p}\left((\mathbf{A}_{U})_{(l)}\right)$ for an open $U\subset\operatorname{Spc}(\mathcal{T})$ with complement $Z$. Here, $(\mathbf{A}_{U})_{(l)}$ is the Frobenius pair obtained from $\mathbf{A}$ by subsequently taking models for the Verdier quotient $\mathcal{T}/\mathcal{T}_{Z}$, then for the triangulated subcategory $\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}$ and finally for the idempotent completion $\left(\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}\right)^{\natural}\cong% \left(\mathcal{T}_{U}\right)_{(l)}$ (by Lemma 3.1), as described in Section 2.3. By construction, we then have $\mathrm{D}((\mathbf{A}_{U})_{(l)})=\left(\mathcal{T}_{U}\right)_{(l)}~{}.$ The restriction map $\mathscr{K}^{(l)}_{p}(U)\to\mathscr{K}^{(l)}_{p}(V)$ for two opens $V\subset U\subset\operatorname{Spc}(\mathcal{T})$ with complements $W\supset Z$ respectively is induced in the following way: the Frobenius pair that models $\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}$ is given by $(\mathcal{A}^{U}_{(l)},\mathcal{A}_{Z})$, where $\mathcal{A}_{Z}$ is the full subcategory of $\mathcal{A}$ consisting of those objects that become isomorphic to objects of $\mathcal{T}_{Z}$ in $\mathrm{D}(\mathbf{A})$ and $\mathcal{A}^{U}_{(l)}$ is the full subcategory of $\mathcal{A}$ consisting of those objects that become isomorphic to objects of $\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}$ in $\mathrm{D}((\mathcal{A},\mathcal{A}_{Z}))=\mathcal{T}/\mathcal{T}_{Z}$. Using Lemma 2.17, we see that there is a map of Frobenius pairs $(\mathcal{A}^{U}_{(l)},\mathcal{A}_{Z})\to(\mathcal{A}^{V}_{(l)},\mathcal{A}_{% W})$ given by inclusion. After applying idempotent completion as in Lemma 2.35 we obtain a map of Frobenius pairs $(\mathbf{A}_{U})_{(l)}\to(\mathbf{A}_{V})_{(l)}$ which induces the restriction map. Similarly for any $p\in\mathbb{Z}_{\geq 0},l\in\mathbb{Z}$, we define the sheaves $\mathscr{K}^{(l/l-1)}_{p}$ on $\operatorname{Spc}(\mathcal{T})$ as the sheaves associated to the presheaves $U\mapsto\mathbb{K}_{p}\left((\mathbf{A}_{U})_{(l)/(l-1)}\right)$ for an open $U\subset\operatorname{Spc}(\mathcal{T})$ with complement $Z$. Here, $(\mathbf{A}_{U})_{(l)/(l-1)}$ is the Frobenius pair associated to the subquotient $\left((\mathcal{T}_{U})_{(l)}/(\mathcal{T}_{U})_{(l-1)}\right)^{\natural}$ of $\mathcal{T}$, given as $(\mathcal{A}^{U}_{(l)},\mathcal{A}^{U}_{(l-1)})^{\natural}$. By construction, $\mathrm{D}\left(\left(\mathcal{A}^{U}_{(l)},\mathcal{A}^{U}_{(l-1)}\right)% \right)\cong\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}/\left(\mathcal{T}/% \mathcal{T}_{Z}\right)_{(l-1)}$ and thus we indeed have $\displaystyle\mathrm{D}\left(\left(\mathcal{A}^{U}_{(l)},\mathcal{A}^{U}_{(l-1% )}\right)^{\natural}\right)$ $\displaystyle\cong\left(\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}/\left(% \mathcal{T}/\mathcal{T}_{Z}\right)_{(l-1)}\right)^{\natural}$ $\displaystyle\cong\left(\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l)}^{% \natural}/\left(\mathcal{T}/\mathcal{T}_{Z}\right)_{(l-1)}^{\natural}\right)^{\natural}$ $\displaystyle\cong\left((\mathcal{T}_{U})_{(l)}/(\mathcal{T}_{U})_{(l-1)}% \right)^{\natural}$ by [balmerfiltrations]*Proposition 1.13 and Lemma 3.1. For an open $V\subset U$, there is a map of Frobenius pairs $\left(\mathcal{A}^{U}_{(l)},\mathcal{A}^{U}_{(l-1)}\right)\to\left(\mathcal{A}% ^{V}_{(l)},\mathcal{A}^{V}_{(l-1)}\right)$ given by inclusion. Again, after applying idempotent completion as in Lemma 2.35 we obtain a map of Frobenius pairs $(\mathbf{A}_{U})_{(l)/(l-1)}\to(\mathbf{A}_{V})_{(l)/(l-1)}$ which induces the restriction map.
2.1 Definition (see [balmer2010tensor]*Definition 3). A tensor triangulated category is an essentially small triangulated category $\mathcal{T}$ endowed with a compatible symmetric monoidal structure. That is, there is a bifunctor $\otimes:\mathcal{T}\times\mathcal{T}\to\mathcal{T}$ and a unit object $\mathbb{I}$, together with associator, unitor and commutator isomorphisms: for all objects $X,Y,Z$ in $\mathcal{T}$, we have natural isomorphisms $X\otimes(Y\otimes Z)\cong(X\otimes Y)\otimes Z,\quad X\otimes\mathbb{I}\cong X% \cong\mathbb{I}\otimes X,\quad X\otimes Y\cong Y\otimes X$ that satisfy the coherence conditions of [maclanecwm]*Section XI.1 to make $\mathcal{T}$ a symmetric monoidal category. Furthermore, the bifunctor $\otimes$ is required to be exact in each variable.
4.1 Definition. We say that the triangulated Gersten conjecture holds for the Frobenius pair $\mathbf{A}$ (see Convention 3.2) in bidegree $(l,p)$ for $(l,p)\in\mathbb{Z}^{2}$ if in the above long exact sequence (2), the map $\mathscr{K}^{(l-1)}_{p}\to\mathscr{K}^{(l)}_{p}$ vanishes.
2.3 Definition. Let $\mathcal{T}$ be a tensor triangulated category. A thick triangulated subcategory $\mathcal{J}\subset\mathcal{T}$ is called • $\otimes$-ideal if $\mathcal{T}\otimes\mathcal{J}\subset\mathcal{J}$. • prime if $\mathcal{J}$ is a proper $\otimes$-ideal ($\mathcal{J}\neq\mathcal{T}$) and $A\otimes B\in\mathcal{J}$ implies $A\in\mathcal{J}$ or $B\in\mathcal{J}$ for all objects $A,B\in\mathcal{T}$.
2.8 Definition (see [balmerfiltrations]). A dimension function on $\mathcal{T}$ is a map $\dim:\operatorname{Spc}(\mathcal{T})\to\mathbb{Z}\cup\{\pm\infty\}$ such that the following two conditions hold: 1. If $\mathcal{Q}\subset\mathcal{P}$ are prime tensor ideals of $\mathcal{T}$, then $\dim(\mathcal{Q})\leq\dim(\mathcal{P})$. 2. If $\mathcal{Q}\subset\mathcal{P}$ and $\dim(\mathcal{Q})=\dim(\mathcal{P})\in\mathbb{Z}$, then $\mathcal{Q}=\mathcal{P}$. For a subset $V\subset\operatorname{Spc}(\mathcal{T})$, we define $\dim(V):=\sup\{\dim(\mathcal{P})|\mathcal{P}\in V\}$. For every $p\in\mathbb{Z}\cup\{\pm\infty\}$, we define the full subcategory $\mathcal{T}_{(p)}:=\{a\in\mathcal{T}:\dim(\operatorname{supp}(a))\leq p\}~{}.$ We denote by $\operatorname{Spc}(\mathcal{T})_{p}$ the set of points $\mathcal{Q}$ of $\operatorname{Spc}(\mathcal{T})$ such that $\dim(\mathcal{Q})=p$.
2.2 Definition. A triangulated category $\mathcal{T}$ is called idempotent complete if all idempotent endomorphisms in $\mathcal{T}$ split. A full subcategory $\mathcal{J}\subset\mathcal{T}$ is called dense if every object of $\mathcal{T}$ is a direct summand of an object of $\mathcal{J}$.
2.25 Definition (see [schlichtingnegative]*Definition 3.5). The derived category of a Frobenius pair $\mathbf{E}=(\mathcal{E},\mathcal{E}_{0})$ is defined as the Verdier quotient $\mathrm{D}(\mathbf{E}):=\underline{\mathcal{E}}/\underline{\mathcal{E}_{0}}~{}.$
A.14 Definition. We say that a tensor exact category $\mathcal{E}$ satisfies the pushout product axiom if for every two inflations $f:A\to B,g:C\to D$ in $\mathcal{E}$, the canonical morphism $A\otimes D\coprod_{A\otimes C}B\otimes C\to B\otimes D$ is an inflation.
2.22 Definition (see [schlichtingnegative]*Section 3.4, Definition A.17). A Frobenius category is an exact category $\mathcal{E}$ that has enough injective and enough projective objects such that the classes of injective and projective objects in $\mathcal{E}$ coincide. A Frobenius pair $\mathbf{E}=(\mathcal{E},\mathcal{E}_{0})$ is a strictly full, faithful and exact inclusion of Frobenius categories $\mathcal{E}_{0}\hookrightarrow\mathcal{E}$ such that the projective-injective objects of $\mathcal{E}_{0}$ are mapped to the projective-injective objects of $\mathcal{E}$.
5.3 Definition. Let $\mathbf{A}$ be a tensor Frobenius pair with derived category $\mathcal{T}$ that satisfies the assumptions of Theorem 4.8. For $p,q\in\mathbb{Z}_{\geq 0}$, the intersection product is the bilinear map $\alpha:\prescript{}{\cap}{\operatorname{CH}}^{\Delta}_{-p}(\mathcal{T})\otimes% \prescript{}{\cap}{\operatorname{CH}}^{\Delta}_{-q}(\mathcal{T})\to\prescript{% }{\cap}{\operatorname{CH}}^{\Delta}_{-p-q}(\mathcal{T})$ that arises as the composition of the map in Corollary 5.1 and in (8).
A.17 Definition (see [schlichtingnegative]*Section 3.4). A Frobenius pair $\mathbf{E}=(\mathcal{E},\mathcal{E}_{0})$ is a strictly full, faithful and exact inclusion of Frobenius categories $\mathcal{E}_{0}\hookrightarrow\mathcal{E}$ such that the projective-injective objects of $\mathcal{E}_{0}$ are mapped to the projective-injective objects of $\mathcal{E}$.
A.7 Definition (cf. [kellerchain]*Appendix B). The countable envelope $\mathrm{C}\mathcal{E}$ of $\mathcal{E}$ is defined as the full subcategory of $\mathrm{Ind}(\mathcal{E})$ consisting of all those objects isomorphic to one of the form $\text{``${\varinjlim}$''}\alpha$, where $\alpha:I_{0}\to\mathcal{E}$ is a functor that maps all arrows of $I_{0}$ to inflations in $\mathcal{E}$.
2.4 Definition (see [balmer2005spectrum]). Let $\mathcal{T}$ be an essentially small tensor triangulated category. The spectrum of $\mathcal{T}$ is the set $\operatorname{Spc}(\mathcal{T}):=\{\mathcal{P}\subset\mathcal{T}:\mathcal{P}~{% }\text{is a prime ideal}\}$ topologized by the basis of closed sets of the form $\operatorname{supp}(A):=\{\mathcal{P}\in\operatorname{Spc}(\mathcal{T}):A% \notin\mathcal{P}\}$ for objects $A\in\mathcal{T}$. The set $\operatorname{supp}(A)$ is called the support of $A$.
Definition 2.1. Let $R$ and $S$ be two small preadditive categories. The tensor product $R\otimes S$ is the following small preadditive category: – the set of object $\mathrm{Ob}(R\otimes S)$ is just $\mathrm{Ob}(R)\times\mathrm{Ob}(S)$; – given $(r_{1},s_{1}),\,(r_{2},s_{2})\in\mathrm{Ob}(R\otimes S)$ we let $\mathrm{Hom}_{R\otimes S}((r_{1},s_{1}),(r_{2},s_{2}))=\mathrm{Hom}_{R}(r_{1},% r_{2})\otimes_{\mathbb{Z}}\mathrm{Hom}_{S}(s_{1},s_{2})\,;$ – composition of morphisms in $R\otimes S$ is defined by the following law: $(f_{1}\otimes g_{1})\circ(f_{2}\otimes g_{2})=(f_{1}\circ f_{2})\otimes(g_{1}% \circ g_{2})\,.$
Definition 1. A commutative ${\cal D}_{X}$-algebra is a commutative monoid in ${\tt Mod}({\cal D}_{X})$, i.e., a commutative associative unital ${\cal O}_{X}$-algebra that is endowed with a flat connection $\nabla$ such that $\nabla_{\mathchar 28946\relax}$, $\mathchar 28946\relax\in\Theta_{X},$ is a derivation.
Definition 3. A model category is a category ${\tt M}$ together with three classes of morphisms, weak equivalences (weq-s for short), fibrations, and cofibrations, and with two functorial factorizations $(\mathchar 28939\relax,\mathchar 28940\relax)$ and $(\mathchar 28939\relax^{\prime},\mathchar 28940\relax^{\prime})$, which satisfy the following axioms: • MC1 (Limit axiom). The category ${\tt M}$ is closed under small limits and colimits. • MC2 (Retract axiom). The three classes of morphisms are closed under retracts. More precisely, if $f$ is a retract of $g$, i.e., if we have a commutative diagram as in Figure 1, and if $g$ belongs to one of the morphism classes, then $f$ belongs to the same class. • MC3 (2 out of 3 axiom). If $f$ and $g$ are two composable morphisms, and two of the maps $f,g$, and $g\circ f$ are weak equivalences, then so is the third. • MC4 (Lifting axiom). If in a commutative diagram as in Figure 2, where $i$ is a cofibration and $p$ a fibration, the lifting exists, if either $i$ or $p$ is trivial. • MC5 (Factorization axiom). For any morphism $f$, $\mathchar 28939\relax(f)$ is a cofibration, $\mathchar 28940\relax(f)$ is a trivial fibration, $\mathchar 28939\relax^{\prime}(f)$ a trivial cofibration, and $\mathchar 28940\relax^{\prime}(f)$ a fibration.
Definition 2. A relative Sullivan ${\cal D}$-algebra $(\,$RS${\cal D}\!$A$\,)$ is a $\tt DG{\cal D}A$-morphism $(A,d_{A})\to(A\boxtimes{\cal S}V,d)\;$ that sends $a\in A$ to $a\otimes 1\in A\boxtimes{\cal S}V$. Here $V$ is a free non-negatively graded $\mathcal{D}$-module, which admits a homogeneous basis $(v_{\mathchar 28939\relax})_{\mathchar 28939\relax\in J}$ that is indexed by a well-ordered set $J$, and is such that $dv_{\mathchar 28939\relax}\in A\boxtimes{\cal S}V_{<\mathchar 28939\relax}\;,$ for all $\mathchar 28939\relax\in J$. In the last requirement, we set $V_{<\mathchar 28939\relax}:=\bigoplus_{\mathchar 28940\relax<\mathchar 28939% \relax}{\cal D}\cdot v_{\mathchar 28940\relax}\,$. We refer to Property (26) by saying that $d$ is lowering. A RS${\cal D}\!$A with Property (22) $(\,$resp., with Property (25); over $(A,d_{A})=({\cal O},0)$$\,)$ is called a minimal RS${\cal D}\!$A $(\,$resp., a split RS${\cal D}\!$A; a Sullivan ${\cal D}$-algebra $(\,$S${\cal D}\!$A$\,)$$\,)$ and it is often simply denoted by $(A\boxtimes{\cal S}V,d)$ $(\,$resp., $(A\otimes{\cal S}V,d)$; $({\cal S}V,d)$$\,)$.
Definition \thechapter.12. A cell in a virtual double category is said to be cartesian if any cell factors through it uniquely as Thus a cell of the form (4) is cartesian precisely if composition with it induces a bijection ${}_{h}\mathbb{D}_{k}(R_{1},\dots,R_{n};P)\cong{}_{fh}\mathbb{D}_{gk}(R_{1},% \dots,R_{n};Q)$ for any $h$, $k$, and $R_{1},\dots,R_{n}$. When a cartesian cell of the form (4) exists, we say that $P$ is (isomorphic to) the restriction of $Q$ along $f$ and $g$, written $Q(g,f)$. We say that a virtual double category has restrictions if $Q(g,f)$ exists for all compatible $Q$, $f$, and $g$.
Definition \thechapter.1. For any regular category $\mathscr{C}$, we can define an equipment $\mathbb{R}{\mathbf{el}}(\mathscr{C})$ as follows: • The vertical category of $\mathbb{R}{\mathbf{el}}(\mathscr{C})$ is $\mathscr{C}$. • Proarrows $R\colon a\includegraphics[]{figures/tickar}b$ are relations, i.e. monomorphisms $R\hookrightarrow b\times a$. • 2-cells are commutative diagrams In particular, note that for any square of shape (9), there is at most one 2-cell $\phi$ of that shape. We say that $\mathbb{R}{\mathbf{el}}(\mathscr{C})$ is “locally posetal”. The 2-cell (9) is cartesian if and only if (10) is a pullback. • The unit relation $a\includegraphics[]{figures/tickar}a$ is the diagonal $\Delta\colon a\hookrightarrow a\times a$. The composition $R\odot S$ of two relations $R\colon a\includegraphics[]{figures/tickar}b$ and $S\colon b\includegraphics[]{figures/tickar}c$ is formed using pullbacks and the epi-mono factorization, as follows:
Definition \thechapter.5. Let $f\colon c\to d$ be a vertical arrow in a virtual equipment. Say that $f$ is a regular cover if the restriction (11) is a normal collapse cell. We will denote regular covers by $f\colon c\twoheadrightarrow d$.
Definition \thechapter.5. Let $M\colon c\includegraphics[]{figures/tickar}c$ be a monoid in a virtual equipment $\mathbb{D}$. A collapse of $M$ is a universal embedding of $M$. That is, a collapse of $M$ is an object $\langle M\rangle$ together with an embedding such that any other embedding factors uniquely through $\vec{\imath}_{M}$: = In other words, $\langle M\rangle$ represents the functor $\mathbb{D}_{0}\to\mathbf{Set}$ sending $x$ to $\mathrm{Emb}(M,x)$.
Definition \thechapter.6. A cell in a virtual double category is said to be opcartesian if any cell factors through it uniquely as Thus a cell of the form (3) is opcartesian precisely if composition with it induces a bijection ${}_{f}\mathbb{D}_{g}(R_{1},\dots,R_{m},Q,S_{1},\dots,S_{k};T)\cong{}_{f}% \mathbb{D}_{g}(R_{1},\dots,R_{m},P_{1},\dots,P_{n},S_{1},\dots,S_{k};T)$ for any $f$, $g$, $T$, $R_{1},\dots,R_{m}$, and $S_{1},\dots,S_{k}$. Whenever an opcartesian cell (3) exists, we will refer to $Q$ as the composite of the $P_{i}$’s, and write it as $P_{1}\odot\cdots\odot P_{n}$. In the $n=0$ case, if there is an opcartesian cell of the form we say that $c$ has a unit $U_{c}$. When clear from context, we will often write $c$ for the unit proarrow $U_{c}$. Likewise, for any vertical arrow $f\colon c\to d$ we will often write $f$ for the unit 2-cell which is induced by $f$ using the universal property of the units.
Definition \thechapter.4. Let $\mathbb{D}$ be a virtual double category. The virtual double category $\mathbb{M}\mathbf{od}(\mathbb{D})$ of monoids and modules is defined as follows: • The objects are monoids in $\mathbb{D}$: tuples $(c,M,e_{M},m_{M})$ consisting of an object $c$ of $\mathbb{D}$, a proarrow $M\colon c\includegraphics[]{figures/tickar}c$, and unit and multiplication cells satisfying the evident unit and associativity axioms. • The vertical arrows are monoid homomorphisms: pairs $(f,\vec{f}\,)$ of a vertical arrow $f\colon c\to d$ in $\mathbb{D}$ and a cell which respects the unit and multiplication cells of $M$ and $N$. • The proarrows $B\colon M\includegraphics[]{figures/tickar}N$ are bimodules: triples $(B,l_{B},r_{B})$ consisting of a proarrow $B\colon c\includegraphics[]{figures/tickar}d$ in $\mathbb{D}$ and cells satisfying evident monoid action axioms. • The 2-cells are bimodule homomorphisms: cells in $\mathbb{D}$ which are compatible with the left and right actions of the bimodules.
Definition \thechapter.1. An embedding of a monoid $M\colon c\includegraphics[]{figures/tickar}c$ in a virtual equipment into an object $x$ is a monoid homomorphism (Definition \thechapter.4) $(f,\vec{f}\,)$ from $M$ to the trivial monoid on $x$: We will sometimes write an embedding as $(f,\vec{f}\,)\colon(c,M)\to x$, or even just $f\colon M\to x$ when clear from context. We will write $\mathrm{Emb}(M,x)$ for the set of embeddings from $M$ to $x$. Likewise, an embedding of a $(M,N)$-bimodule $B$ into a proarrow $P\colon x\includegraphics[]{figures/tickar}y$ consists of monoid embeddings $f\colon M\to x$ and $g\colon N\to y$, and a bimodule homomorphism from $B$ to $P$, regarding $P$ as a bimodule between the trivial monoids on $x$ and $y$: We will sometimes write such a bimodule embedding as ${}_{f}\phi_{g}\colon{}_{M}B_{N}\to P$, and we will write ${}_{f}\mathrm{Emb}_{g}(B,P)$ for the set of all such embeddings, for fixed embeddings $f\colon M\to x$ and $g\colon N\to y$. Say an embedding (5) is cartesian if $\vec{f}$, $\vec{g}$, and $\phi$ are all cartesian cells.
Definition \thechapter.3. Let $f\colon c\to d$ be a vertical arrow in a virtual equipment. Say that $f$ is an inclusion if the unit 2-cell on $f$ is cartesian, or equivalently if $\ker(f)$ is the trivial monoid on $c$. We will denote inclusions by $f\colon c\rightarrowtail d$.
Definition \thechapter.8. If a virtual double category $\mathbb{D}$ has units, then we can define a vertical 2-category $\bm{\mathcal{V}}\mathbf{ert}(\mathbb{D})$. The objects and morphisms of $\bm{\mathcal{V}}\mathbf{ert}(\mathbb{D})$ are the objects and vertical arrows of $\mathbb{D}$, while for any pair of morphisms $f,g\colon c\to d$, the 2-cells $\phi\colon f\Rightarrow g$ are defined to be 2-cells in $\mathbb{D}$ of the form If $\mathbb{D}$ has all composites, then we can also define a horizontal bicategory $\bm{\mathcal{H}}\mathbf{or}(\mathbb{D})$. The objects and morphisms of $\bm{\mathcal{H}}\mathbf{or}(\mathbb{D})$ are the objects and proarrows of $\mathbb{D}$, and the 2-cells are the 2-cells of $\mathbb{D}$ with identity left and right frames. The bicategory axioms follow from the universal property of the composites. Even if $\mathbb{D}$ does not have all composites, we will sometimes abuse notation by writing $\bm{\mathcal{H}}\mathbf{or}(\mathbb{D})(c,d)$ for the category of proarrows $c\includegraphics[]{figures/tickar}d$.
Definition \thechapter.9. Let $M\colon c\includegraphics[]{figures/tickar}c$ and $N\colon d\includegraphics[]{figures/tickar}d$ be monoids in a virtual equipment such that the collapses $\langle M\rangle$ and $\langle N\rangle$ exist, and let $B\colon c\includegraphics[]{figures/tickar}d$ be a $(M,N)$-bimodule. A collapse of $B$ is a universal embedding of $B$: a proarrow $\langle B\rangle\colon\langle M\rangle\includegraphics[]{figures/tickar}% \langle N\rangle$ together with an embedding such that any other embedding factors uniquely through $i_{B}$: = In other words, composition with $i_{B}$ induces a bijection ${}_{\tilde{f}}\mathbb{D}_{\tilde{g}}(\langle B\rangle;\textrm{--})\cong{}_{% \tilde{f}i_{M}}\mathrm{Emb}_{\tilde{g}i_{N}}(B,\textrm{--}).$
Definition \thechapter.7. Say that a virtual equipment $\mathbb{D}$ is regular if 1. every effective monoid has a normal collapse, 2. for every proarrow $B\colon d\includegraphics[]{figures/tickar}d^{\prime}$ and regular covers $f\colon c\twoheadrightarrow d$ and $g\colon c^{\prime}\twoheadrightarrow d^{\prime}$, the cartesian embedding is a bimodule collapse cell.
Definition \thechapter.13. A virtual equipment $\mathbb{D}$ is a virtual double category which has units and restrictions. If $\mathbb{D}$ has all composites, hence is a double category, we will call $\mathbb{D}$ an equipment (called a framed bicategory in [Shulman:2008a]).
Definition \thechapter.2. Let $f\colon c\to d$ be a vertical arrow in a virtual equipment. The kernel of $f$ is defined to be the monoid obtained by restricting the trivial monoid on $d$: So the multiplication $\mu$ is the unique 2-cell satisfying = and similarly for the unit $\eta$.
Definition \thechapter.1. A virtual double category $\mathbb{D}$ consists of the following data: • A category $\mathbb{D}_{0}$, which we refer to as the vertical category of $\mathbb{D}$. For any two objects $c,d\in\mathbb{D}_{0}$, we will write $\mathbb{D}(c,d)=\mathbb{D}_{0}(c,d)$ for the set of vertical arrows from $c$ to $d$. • For any two objects $c,d\in\mathbb{D}_{0}$, a set of horizontal arrows, which we refer to as proarrows and draw with a slash: $c\includegraphics[]{figures/tickar}d$. • 2-cells, which have the shape for any $n\geq 0$. We will call $f$ and $g$ the left frame and right frame of $\phi$, and call the string $A_{1},\dots,A_{n}$ the (multi-)source and $B$ the target of $\phi$. We will write ${}_{f}\mathbb{D}_{g}(A_{1},\dots,A_{n};B)$ for the set of all cells of shape (1) in $\mathbb{D}$, and we write $\mathbb{D}(A_{1},\dots,A_{n};B)$ for the set of cells with $f$ and $g$ identities. • For each proarrow $A\colon c\includegraphics[]{figures/tickar}d$ there is an identity 2-cell • Composition of 2-cells is like composition in a multicategory. So given the 2-cell $\phi$ in (1) and $n$ other 2-cells with horizontal targets $A_{1},\dots,A_{n}$, there is a composite 2-cell with the evident shape. This composition operation satisfies unit and associativity axioms like in a multicategory.
Definition \thechapter.4. Say that a monoid $M\colon c\includegraphics[]{figures/tickar}c$ in a virtual equipment is effective if $M$ is the kernel of some vertical arrow. Similarly, say that a $(M,N)$-bimodule $B\colon c\includegraphics[]{figures/tickar}d$ is effective if $M$ and $N$ are effective, with $M\cong\ker(f)$ and $N\cong\ker(g)$ for some $f\colon c\to c^{\prime}$ and $g\colon d\to d^{\prime}$, and there exists a proarrow $P\colon c^{\prime}\includegraphics[]{figures/tickar}d^{\prime}$ such that $B\cong{}_{f}\mathrm{Res}_{g}(P)$. Equivalently, $B$ is effective if there exists a cartesian embedding $B\to P$ for some $P$.
Definition \thechapter.4. Lemma \thechapter.3 determines a functor ${}_{f}\mathrm{Res}_{g}\colon\bm{\mathcal{H}}\mathbf{or}(\mathbb{D})(x,y)\to{}_% {M}\mathrm{Bimod}_{N}$ for any pair of embeddings $f\colon M\to x$ and $g\colon N\to y$. Thus for any $P\colon x\includegraphics[]{figures/tickar}y$, ${}_{f}\mathrm{Res}_{g}(P)$ is defined to be $P(g,f)$ with the unique $(M,N)$-bimodule structure making the cartesian cell an embedding.
Definition \thechapter.7. Say that a virtual double category $\mathbb{D}$ has units if every object has a unit. Say that $\mathbb{D}$ has composites if every string of $n\geq 0$ composable proarrows has a composite.
Definition \thechapter.12. We will call the diagram (6) a normal collapse if it also exhibits $\langle M\rangle$ as the bimodule collapse of the unit $(M,M)$-bimodule $M\colon c\includegraphics[]{figures/tickar}c$.
Definition \thechapter.1. Let $\mathbb{D}$ be a virtual equipment. Say that $\mathbb{D}$ is exact if $\mathbb{D}$ is regular, and if every monoid and bimodule in $\mathbb{D}$ is effective. (See \thechapter.7, \thechapter.4.)
Definition \thechapter.6. Let $\mathbb{D}$ be an equipment. Say that $\mathbb{D}$ satisfies Wood’s axiom 5 if, for every monoid $M\colon c\includegraphics[]{figures/tickar}c$, there is an object $c_{M}$, vertical arrow $i\colon c\to c_{M}$, and 2-cell such that • the corresponding 2-cell $\vec{\imath}_{*}\colon M\odot c_{M}(1,i)\Rightarrow c_{M}(1,i)$ in $\bm{\mathcal{H}}\mathbf{or}(\mathbb{D})$ is a universal left $M$-module, • the corresponding 2-cell $\vec{\imath}\,^{*}\colon c_{M}(i,1)\odot M\Rightarrow c_{M}(i,1)$ in $\bm{\mathcal{H}}\mathbf{or}(\mathbb{D})$ is a universal right $M$-module, and • any proarrow $P\colon c_{M}\includegraphics[]{figures/tickar}d$ is representable if (and only if) $c_{M}(1,i)\odot P$ is. Moreover, if the latter is represented by $g\colon c\to d$, then $P$ is representable by some $f$ such that $f\circ i=g$ (an equality, not just an isomorphism).
Definition \thechapter.15. Let $f\colon a\to b$ be a vertical arrow in a virtual equipment $\mathbb{D}$. Say that $f$ is a strong cover if it is left 2-orthogonal to the class of inclusions in the vertical 2-category $\bm{\mathcal{V}}\mathbf{ert}(\mathbb{D})$, i.e. if for any inclusion $g\colon c\rightarrowtail d$ the commuting square is a (strict) pullback of categories.
Definition 3.9. Let $S$ be an inverse semigroup with zero. 1. We say that $S$ is E*-unitary if $0\neq e\leqslant s$ with $e\in E(S)$ implies that $s\in E(S)$. 2. If $\Gamma$ is a group and $\phi:S\setminus\{0\}\to\Gamma$ such that $s,t\in S$ with $st\neq 0$ implies that $\phi(st)=\phi(s)\phi(t)$, then we say that $\phi$ is a prehomomorphism from $S$ to $\Gamma$. If, in addition, $\phi^{-1}(1_{\Gamma})=E(S)$, then $\phi$ is called an idempotent pure prehomomorphism. 3. We say that $S$ is strongly E*-unitary if there exists a group $\Gamma$ and an idempotent-pure prehomomorphism from $S$ to $\Gamma$. 4. We say that $S$ is F*-inverse if for each $s\in S$ there exists a unique maximal element above $s$. 5. We say that $S$ is strongly F*-inverse if it is F*-inverse and strongly E*-unitary.
Definition 4.1. (See [CS07, Theorem 10]) Let $\mathsf{X}$ be a one-sided subshift over $\mathfrak{a}$. Then the Carlsen-Matsumoto algebra $\mathcal{O}_{\mathsf{X}}$ is the universal C*-algebra generated by partial isometries $\{S_{a}\}_{\mu\in\mathfrak{a}^{*}}$ such that 1. $S_{\mu}S_{\nu}=S_{\mu\nu}$ for all $\mu,\nu\in\mathfrak{a}^{*}$, and 2. The map $1_{C(\mu,\nu)}\mapsto S_{\nu}S_{\mu}^{*}S_{\mu}S_{\nu}^{*}$ extends to a $*$-homomorphism from $\widetilde{\mathcal{D}}_{\mathsf{X}}$ to the C*-algebra generated by $\{S_{\mu}\mid\mu\in\mathfrak{a}^{*}\}$.
Definition 3.1. Let $\mathsf{X}$ be a one-sided subshift over $\mathfrak{a}$. Then we let $\mathcal{S}_{\mathsf{X}}$ be the inverse semigroup generated by $\{s_{\epsilon},s_{a}\mid a\in\mathfrak{a}\}$ inside $\mathcal{I}(\mathsf{X})$.
Definition 13 (Induced maps in homology). Let $f\colon G\to H$ be a map of graphs. The induced map in homology is the map $f_{\ast}\colon\operatorname{MH}_{\ast,\ast}(G)\longrightarrow\operatorname{MH}% _{\ast,\ast}(H)$ induced by $f_{\#}$.
Definition 33 (Diagonality). A graph is diagonal if its magnitude homology is concentrated on the diagonal. In other words $G$ is diagonal if $\operatorname{MH}_{k,l}(G)=0$ for $k\neq l$.
