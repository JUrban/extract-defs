Definition 3.6. Let $R$ and $S$ be quantum binary relations from a quantum set $\mathcal{X}$ to a quantum set $\mathcal{Y}$. We say that $R$ is a subrelation of $S$, writing $R\leq S$, just in case $R(X,Y)\leq S(X,Y)$ for all $X\in\mathcal{X}$ and all $Y\in\mathcal{Y}$.
Definition 5.2. $\ell_{q}^{\infty}(\mathcal{X})=\left\{(a_{X})\in\ell_{q}(\mathcal{X})\,\middle% |\,\sup_{X\in\mathcal{X}}\|a_{X}\|_{\infty}<+\infty\right\}$ $c_{q}(\mathcal{X})=\left\{(a_{X})\in\ell_{q}(\mathcal{X})\,\middle|\,\lim_{X% \rightarrow\infty}\|a_{X}\|_{\infty}=0\right\}$
Definition 10.5. A quantum function out of a quantum set $\mathcal{X}$ is classical just in case it is compatible with every quantum function out of $\mathcal{X}$. A quantum set $\mathcal{X}$ is said to be classical just in case the identity quantum function $I_{\mathcal{X}}$ is classical.
Definition 4.1. A quantum function from a quantum set $\mathcal{X}$ to a quantum set $\mathcal{Y}$ is a quantum binary relation $F$ from $\mathcal{X}$ to $\mathcal{Y}$ such that $F^{\dagger}\circ F\geq I_{\mathcal{X}}$ and $F\circ F^{\dagger}\leq I_{\mathcal{Y}}$.
Definition 11.4. Let $P$ be a quantum unary relation on a quantum set $\mathcal{X}$. We define $K_{P}$ to be the surjective quantum partial function from $\mathcal{X}$ to $\mathcal{P}=\{P(\mathbb{C},X)\}$ defined by $K_{P}(X,\mathcal{P}(\mathbb{C},X^{\prime}))=\begin{cases}\mathrm{span}\{v_{X}^% {\dagger}\}&X^{\prime}=X\\ 0&X^{\prime}\neq X,\end{cases}$ where $v_{X}\colon P(\mathbb{C},X)\rightarrow X$ is evaluation at $1\in\mathbb{C}$.
Definition 3.1. A quantum binary relation from a quantum set $\mathcal{X}$ to quantum set $\mathcal{Y}$ is a function that assigns to each pair $(X,Y)\in\mathcal{X}\times\mathcal{Y}$ a subspace $R(X,Y)\leq L(X,Y)$ of linear operators.
Definition 4.6. Let $\langle X,\mathcal{M}\rangle$ be a simplicial complex. Given a vertex $x\in X$ that belongs to exactly one maximal face, we say that there is a Graham-reduction from $\langle X,\mathcal{M}\rangle$ to the subcomplex $\langle X\setminus\{x\},\{C\setminus\{x\}\mid C\in\mathcal{M}\}\rangle$. If there is a Graham-collapse from $\langle X,\mathcal{M}\rangle$ to $\langle Y,\mathcal{N}\rangle$, we write $\langle X,\mathcal{M}\rangle\rightsquigarrow\langle Y,\mathcal{N}\rangle$. We call a simplicial complex $\langle X,\mathcal{M}\rangle$ acyclic if there is a sequence of Graham collapses from $\langle X,\mathcal{M}\rangle$ to the empty simplicial complex.
Definition 2.2. Given two simplicial complexes (given by their antichains of maximal faces) $\langle X,\mathcal{M}\rangle$ and $\langle Y,\mathcal{N}\rangle$, a relation $\pi\colon X\to Y$ is a simplicial relation if it maps faces to faces, i.e. , if for every $C\in\mathcal{M}$ we have $\pi C\subset D$ for some $D\in\mathcal{N}$.
Definition 2.3. Let $(R,+,\cdot,0,1)$ be a semifield. A (finite) $R$-distribution on a set $X$ is a function $e\colon X\to R$ such that • $\operatorname{supp}e:=\{x\in X\mid e(x)\neq 0\}$ is finite • $\sum_{x\in X}e(x)=1$ If $e\colon X\to R$ and $d\colon Y\to R$ are $R$-distributions, then the independent product of $R$-distributions $e\in D_{R}(X),$ and $d\in D_{R}(Y)$ is the distribution $e\otimes d\in D_{R}(O^{X\times Y})$ defined by by $e\otimes d(x,y)=e(x)d(y)$. When $e\colon X\times Y\to R$ is an $R$-distribution, we define $\operatorname{supp}_{Y}e:=\{y\in Y\mid(x,y)\in\operatorname{supp}e\text{ for % some }x\in X\}$. For $y\in\operatorname{supp}_{Y}e$ we define the conditional $R$-distribution $e(-|y)$ by $e(x|y):=e(-|y)(x)=e(x,y)/\sum_{x\in X}e(x,y)$ Taking $e(y)$ to be a shorthand for $\sum_{x\in X}e(x,y)$, the usual laws concerning conditional distributions hold: namely $e(x|y)=e(x,y)/e(y)\qquad\text{and}\qquad e(x,y)=e(x|y)e(y)$ For set $X$, the set of $R$-distributions on it is denoted by $D_{R}(X)$
Definition 3.1. Let $\langle X,\mathcal{M},O\rangle$ and $\langle Y,\mathcal{N},P\rangle$ be measurement scenarios. A deterministic morphism $\langle Y,\mathcal{N},P\rangle\to\langle X,\mathcal{M},O\rangle$ consists of: • a simplicial relation $\pi\colon X\to Y$; • a natural transformation $\sigma\colon P^{\pi(-)}\to O^{(-)}$. Given an empirical model $d\colon\langle Y,\mathcal{N},P\rangle$, its pushforward along a deterministic morphism $(\sigma,\pi)$ is the empirical model $\sigma_{*}d\colon\langle X,\mathcal{M},O\rangle$ defined by $\sigma_{*}d_{C}=D_{R}(\sigma)(d|_{\pi(C)})$ Let $e\colon\langle X,\mathcal{M},O\rangle$ and $d\colon\langle Y,\mathcal{N},P\rangle$ be empirical models. Then a deterministic simulation $d\to e$ consists of a deterministic morphism $\langle Y,\mathcal{N},P\rangle\to\langle X,\mathcal{M},O\rangle$ such that $e=\sigma_{*}d$ The category of $R$-empirical models and deterministic simulations is denoted by $\mathbf{EmpDet_{R}}$.
Definition 3.9. Let $\langle X,\mathcal{M},O\rangle$ and $\langle Y,\mathcal{N},P\rangle$ be measurement scenarios. A ($R$-stochastic) morphism $\langle Y,\mathcal{N},P\rangle\to\langle X,\mathcal{M},O\rangle$ consists of • a simplicial relation $\pi\colon X\to Y$; • a natural transformation $\sigma\colon P^{\pi(-)}\to D_{R}(O^{(-)})$. The composite of $(\pi,\sigma)\colon\langle Z,\mathcal{K},Q\rangle\to\langle Y,\mathcal{N},P\rangle$ and $(\rho,\tau)\colon\langle Y,\mathcal{N},P\rangle\to\langle X,\mathcal{M},O\rangle$ is given by $(\rho\circ\pi,\mu\circ D_{R}(\rho)\circ\tau)$ i.e. by ordinary composition in the first variable and Kleisli composition in the second. Given an empirical model $d\colon\langle Y,\mathcal{N},P\rangle$, its pushforward along a morphism $(\sigma,\pi)$ is the empirical model $\sigma_{*}d\colon\langle X,\mathcal{M},O\rangle$ defined by $\sigma_{*}d_{C}=\mu D_{R}(\sigma)(d|_{\pi(C)})$ Let $e\colon\langle X,\mathcal{M},O\rangle$ and $d\colon\langle Y,\mathcal{N},P\rangle$ be empirical models. Then a simulation $d\to e$ consists of an $R$-stochastic morphism $\langle Y,\mathcal{N},P\rangle\to\langle X,\mathcal{M},O\rangle$ such that $e=\sigma_{*}d$ Identity on $d$ is given by $(\mathrm{id},\eta)$ and the composite of $(\pi,\sigma)\colon d\to e$ and $(\rho,\tau)\colon e\to f$ is given by $(\rho\circ\pi,\mu\circ D_{R}(\rho)\circ\tau)$ i.e. by ordinary composition in the first variable and Kleisli composition in the seconds. The category of $R$-empirical models and simulations is denoted by $\mathbf{Emp_{R}}$.
Definition 2.6. Given a semifield $R$, a (no-signalling) $R$-empirical model over the measurement scenario $\langle X,\mathcal{M},O\rangle$ is given by a compatible family $e=(e_{C})_{C\in\mathcal{M}}$ of $R$-distributions over $O^{C}$, meaning that $e_{C}|_{C\cap D}=e_{D}|_{C\cap D}$ for all $C,D\in\mathcal{M}$, i.e. the distributions $e_{C}$ agree on overlaps. If $U\subseteq C$ for some $C\in\mathcal{M}$, we write $e|_{U}$ instead of $e_{C}|U$: after all, $e|_{U}$ does not depend on the choice of $C\in\mathcal{M}$. We denote $e$ being an empirical model over the measurement scenario $\langle X,\mathcal{M},O\rangle$ by $e:\langle X,\mathcal{M},O\rangle$. An $R$-empirical model $e:\langle X,\mathcal{M},O\rangle$ is • $R$-non-contextual if there is $d\in D_{R}(O^{X})$ such that $e_{C}=d|_{C}$ for all $C\in\mathcal{M}$, i.e. if there exists a distribution on global sections explaining it. • $R$-contextual if it is not $R$-non-contextual. • strongly $R$-contextual if there is no global section consistent with it, i.e. if there is no $s\in O^{X}$ such that $s|_{C}\in\operatorname{supp}(e_{C})$ for all $C\in\mathcal{M}$ Given $R$-empirical models $e^{1},\dots,e^{n}:\langle X,\mathcal{M},O\rangle$ over the same measurement scenario and $r_{1},\dots,r_{n}\in R$ such that $\sum_{i=1}^{n}r_{i}=1$, we define the $R$-empirical model $\sum_{i=1}^{n}r_{i}\cdot e^{i}$ by $(\sum_{i=1}^{n}r_{i}\cdot e^{i})_{C}=\sum_{i=1}^{n}r_{i}\cdot e^{i}_{C}$. If each $e^{i}$ is no-signalling, then so is $\sum_{i=1}^{n}r_{i}\cdot e^{i}$. The non-contextual fraction of a no-signalling $\mathbb{R}^{+}$-empirical model $e$ is defined as the maximal $\lambda\in[0,1]$ such that $e$ decomposes as $e=\lambda e^{NC}+(1-\lambda)e^{\prime}$ where $e^{NC}$ and $e^{\prime}$ are non-signalling and moreover $e^{NC}$ is non-contextual. It is denoted by $NCF(e)$, and the contextual fraction of $e$ is defined as $CF(e):=1-NCF(e)$.
Definition 2.1. A (finite) measurement scenario is a tuple $\langle X,\mathcal{M},O\rangle$, where $X$ and $O$ are finite sets of measurements and outcomes, respectively, and $\mathcal{M}$ is a measurement cover, i.e. an antichain $\mathcal{M}\subset\mathcal{P}(X)$ that covers $X$. The members of $\mathcal{M}$ are called (maximal) measurement contexts.
Definition 2.4. Let $(T,\mu,\eta)$ be a monad on a category $\mathbf{C}$. The Kleisli-category of $T$, denoted by $\mathbf{C_{T}}$ has the same objects as $\mathbf{C}$, but a morphism $A\to B$ in $\mathbf{C_{T}}$ is given by a morphism $A\to TB$ in $\mathbf{C}$. The composite of $f\colon A\to TB$ and of $g\colon B\to TC$ is given by $\mu\circ T(g)\circ f\colon A\to TB\to TTC\to TC$. The identity morphism $A\to A$ in $\mathbf{C_{T}}$ is given by $\eta_{A}\colon A\to TA$ in $\mathbf{C}$. There is a canonical functor $\mathbf{C}\to\mathbf{C_{T}}$ given by $f\mapsto\eta\circ f$.
Definition 2.3 Let $G$ be a group. A $k$-category ${\mathcal{B}}$ is $G$-graded if for all $x,y\in{\mathcal{B}}_{0}$ there is a direct sum decomposition by means of $k$-modules ${}_{y}{\mathcal{B}}_{x}=\bigoplus_{s\in G}{}_{y}{\mathcal{B}}^{s}_{x}$ such that ${}_{z}{\mathcal{B}}_{y}^{t}\ {}_{y}{\mathcal{B}}^{s}_{x}\subset{}_{z}{\mathcal% {B}}_{x}^{ts}$ for all objects $x,y,z\in{\mathcal{B}}_{0}$ and for every $s,t\in G.$ A morphism $f\in{}_{y}{\mathcal{B}}^{s}_{x}$ is called homogeneous of degree $s$ from $x$ to $y$, we often write it ${}_{y}f_{x}^{s}$ instead of $f$.
Definition 3.10 Let $G$ be a group acting on a set $E.$ A transversal $T$ of the action is a subset of $E$ obtained by choosing precisely one element in each orbit of the action.
Definition 3.13 A Galois covering of $k$-categories is a functor ${\mathcal{C}}\to{\mathcal{C}}/G,$ where ${\mathcal{C}}$ is a $G$-$k$-category with a free action of $G$ on the objects and where the functor is the canonical projection functor.
Definition 3.1 Let ${\mathcal{C}}$ be a $k$-category and let $C_{\bullet}({\mathcal{C}})$ be the chain complex given by: ${\mathcal{C}}_{0}({\mathcal{C}})=\bigoplus_{x\in{\mathcal{C}}_{0}}\ {}_{x}{% \mathcal{C}}_{x},$ $C_{n}({\mathcal{C}})=\bigoplus_{x_{0},x_{1},\dots,x_{n}\in{\mathcal{C}}_{0}}\ % {}_{x_{0}}{\mathcal{C}}_{x_{n}}\otimes\cdots\otimes\ _{x_{2}}{\mathcal{C}}_{x_% {1}}\otimes\ _{x_{1}}{\mathcal{C}}_{x_{0}},$ with boundary map $d$ given by the usual formulas used to compute the Hochschild homology of an algebra, see for instance [22, 32, 5]. The Hochschild-Mitchell homology of ${\mathcal{C}}$ is the homology of the complex above, that is $HH_{*}({\mathcal{C}})=H_{*}(C_{\bullet}({\mathcal{C}})).$
Definition 3.12 (see [4, 28]) Let ${\mathcal{C}}$ be a $G$-$k$-category such that the action of $G$ on ${\mathcal{C}}_{0}$ is free. The quotient category ${\mathcal{C}}/G$ has set of objects the set of orbits ${\mathcal{C}}_{0}/G.$ Let $\alpha$ and $\beta$ be orbits. The $k$-module of morphisms from $\alpha$ to $\beta$ is ${}_{\beta}({\mathcal{C}}/G)_{\alpha}=\left(\bigoplus_{\begin{subarray}{c}x\in% \alpha\\ y\in\beta\end{subarray}}{}_{y}{\mathcal{C}}_{x}\right)_{G}.$ Let $\gamma,\beta,\alpha$ be orbits. Let $g\in{}_{z}{\mathcal{C}}_{y^{\prime}}\text{ and }f\in{}_{y}{\mathcal{C}}_{x},$ where $z\in\gamma$, $y\text{ and }y^{\prime}\in\beta$, and $x\in\alpha.$ Let $s$ be the unique element of $G$ such that $sy=y^{\prime},$ then $f\equiv sf$ in the coinvariants. The composition $gf$ in ${\mathcal{C}}/G$ is $gf={}_{z}g_{y^{\prime}}\ {}_{sy}sf_{sx}\in{}_{\gamma}({\mathcal{C}}/G)_{\alpha}.$ There is no difficulty in verifying that this is a well defined associative composition.
Definition 5.1 Let ${\mathcal{C}}$ be a $k$-category. Let $C^{\bullet}({\mathcal{C}})$ be the complex of cochains given by: ${\mathcal{C}}^{0}({\mathcal{C}})=\prod_{x\in{\mathcal{C}}_{0}}{}_{x}{\mathcal{% C}}_{x},$ ${\mathcal{C}}^{n}({\mathcal{C}})=\prod_{x_{n+1},\dots,x_{1}\in{\mathcal{C}}_{0% }}C_{x_{n+1},\dots,x_{1}}\text{ for }n>0$ where $C_{x_{n+1},\dots,x_{1}}=\mathsf{Hom}_{k}({}_{x_{n+1}}{\mathcal{C}}_{x_{n}}% \otimes\cdots\otimes{}_{x_{2}}{\mathcal{C}}_{x_{1}},\ {}_{x_{n+1}}{\mathcal{C}% }_{x_{1}})$ The coboundary $d$ is given by the formulas below which are the usual ones for computing Hochschild homology, see for instance [5, 32]. Let $\varphi$ be a cochain of degree $n$, that is a family of $k$ morphisms $\varphi=\{\varphi_{(x_{n+1},\dots,x_{1})}\}$. Its coboundary $d\varphi$ is the family $\{(d\varphi)_{(x_{n+2},\dots,x_{1})}\}$ given by $\begin{array}[]{lllll}(d\varphi)_{(x_{n+2},\dots,x_{1})}\left({}_{x_{n+2}}(f_{% n+1})_{x_{n+1}}\otimes\cdots\otimes{}_{x_{2}}(f_{1})_{x_{1}}\right)=\\ (-1)^{n+1}f_{n+1}\varphi_{(x_{n+1},\dots,x_{1})}(f_{n}\otimes\cdots\otimes f_{% 1})+\\ \sum_{i=1}^{n}(-1)^{i+1}\varphi_{(x_{n+1},\dots,x_{i+2},x_{i},\dots x_{1})}(f_% {n+1}\otimes\cdots\otimes f_{i+1}f_{i}\otimes\cdots\otimes f_{1})+\\ \varphi_{(x_{n+2},\dots x_{2})}(f_{n+1}\otimes\cdots\otimes f_{2})f_{1}.\end{array}$ Note that $d$ is well defined since the cochains are direct products. The Hochschild-Mitchell cohomology of ${\mathcal{C}}$ is $HH^{*}({\mathcal{C}})=H^{*}(C^{\bullet}({\mathcal{C}})).$
Definition 2.1 [7] Let ${\mathcal{C}}$ be a $G$-$k$-category. The skew category ${\mathcal{C}}[G]$ has the same set of objects than ${\mathcal{C}}$. Let ${}_{y}{\mathcal{C}}[G]_{x}^{s}={}_{y}{\mathcal{C}}_{sx}$. The morphisms of ${\mathcal{C}}[G]$ from $x$ to $y$ are $_{y}{\mathcal{C}}[G]_{x}=\bigoplus_{s\in G}{}_{y}{\mathcal{C}}[G]_{x}^{s}.$ The composition is defined through adjusting the first morphism in order to make possible to compose it in ${\mathcal{C}}$ with the second one, as follows. If ${}_{y}f_{sx}\in{}_{y}{\mathcal{C}}_{sx}\subseteq\ _{y}{\mathcal{C}}[G]_{x}% \mbox{ and }_{z}g_{ty}\in{}_{z}{\mathcal{C}}_{ty}\subseteq\ _{z}{\mathcal{C}}[% G]_{y},\mbox{then}$ $(_{z}g_{ty})(_{y}f_{sx})={}_{z}(g\ \circ\ t\!f)_{tsx}\in{}_{z}{\mathcal{C}}[G]% _{x},$ where $\circ$ denotes the composition of ${\mathcal{C}}$.
Definition 4.1 (see also [10], [11]) Let ${\mathcal{C}}$ be a $G$-$k$-category. The objects of the $k$-category $M_{G}({\mathcal{C}})$ are $G\times{\mathcal{C}}_{0}$. The $k$-module of morphisms of $M_{G}({\mathcal{C}})$ from $(s,x)$ to $(t,y)$ is ${}_{(t,y)}(M_{G}({\mathcal{C}}))_{(s,x)}={}_{y}{\mathcal{C}}_{x}.$ The composition is given in the evident way by the composition of ${\mathcal{C}}.$ The action of $G$ on $M_{G}({\mathcal{C}})$ is defined as follows: for $r\in G$, let $r(s,x)=(rs,rx),$ and for $f\in{}_{(t,y)}(M_{G}({\mathcal{C}}))_{(s,x)}={}_{y}{\mathcal{C}}_{x}\text{ let% }rf\in{}_{ry}{\mathcal{C}}_{rx}={}_{(rt,ty)}(M_{G}({\mathcal{C}}))_{(rs,rx)}.$
Definition 4.1. A open cover $U_{i}$ of $X$ is good if any finite intersection $U_{i_{0}\ldots i_{k}}$ is contractible.
Definition 2.3. A degree zero closed morphism $\phi\in\mathcal{C}_{\mathcal{A}}(E_{1},E_{2})$ is called a quasi-isomorphism if and only if $\text{For}(\phi):\text{For}(E_{1})\to\text{For}(E_{2})$ is a quasi-isomorphism of complexes of $\mathcal{A}^{0}$-modules.
Definition 3.4. Let $\phi:\mathcal{E}\to\mathcal{F}$ be a degree zero closed morphism in $\text{Tw}(X,\mathcal{C}_{\mathcal{A}^{0}},U_{i})$. Then we call $\phi$ a quasi-isomorphism if and only if its $(0,0)$-component $\phi^{0,0}:(E^{\bullet}_{i},a^{0,1}_{i})\to(F^{\bullet}_{i},b^{0,1}_{i})$ is a quasi-isomorphism of complexes of $\mathcal{A}^{0}(U_{i})$-modules for each $i$. Moreover, let $\phi:\mathcal{E}\to\mathcal{F}$ be a degree zero closed morphism in $\text{Tw}(X,\mathcal{C}_{\mathcal{A}},U_{i})$. Then we call $\phi$ a quasi-isomorphism if and only if $\text{For}(\phi):\text{For}(\mathcal{E})\to\text{For}(\mathcal{F})$ is a quasi-equivalence in $\text{Tw}(X,\mathcal{C}_{\mathcal{A}^{0}},U_{i})$, where For is the forgetful functor.
Definition 2.4. Let $U\subset X$ be an open subset of $X$ and $\overline{U}$ be the closure of $U$ in $X$. Define the dg-algebra $\mathcal{A}(U)$ to be $\mathcal{A}(U)=\varinjlim_{\overline{U}\subset V}(\mathcal{A}^{0,\bullet}(V),% \bar{\partial},0)$ where the direct limit is taken over all open subsets of $X$ that contains $\overline{U}$. Then we could define the dg-categories $\mathcal{P}_{\mathcal{A}(U)}$, $\mathcal{P}_{\mathcal{A}^{0}(U)}$, $\mathcal{C}_{\mathcal{A}(U)}$, and $\mathcal{C}_{\mathcal{A}^{0}(U)}$.
Definition 3.6. [[Wei16b] Definition 3.1] For a twisted complex of quasi-cohesive modules $\mathcal{E}=(E_{i},a)$, we define the associated quasi-cohesive module $\mathcal{S}(\mathcal{E})$ on $X$ as follows: for each $n$, the degree $n$ component $\mathcal{S}^{n}(\mathcal{E})$ is an $\mathcal{A}^{0}(X)$-module $\mathcal{S}^{n}(\mathcal{E}):=\prod_{p+q=n}\prod_{i_{0}\ldots i_{p}}E^{q}_{i_{% 0}}|_{U_{i_{0}\ldots i_{p}}}$ where the right hand side is considered as an $\mathcal{A}^{0}(X)$-module by pushforward. The connection on $\mathcal{S}^{\bullet}(\mathcal{E})$ is defined to be of $\mathbb{S}(\mathcal{E})=\delta+a$ considered as morphisms on $X$. It is obvious that $(\mathcal{S}^{\bullet}(\mathcal{E}),\mathbb{S}(\mathcal{E}))$ is a quasi-cohesive module in $\mathcal{C}_{\mathcal{A}}(X)$. The functor $\mathcal{S}$ on morphisms is defined in the same way.
Definition 4.2. Let $P_{i},\leavevmode\nobreak\ Q_{i}$ be $\mathcal{A}^{0}(U_{i})$-modules, where $\mathcal{A}^{0}(U_{i})$ is as in Definition 2.4. A descent data of $P_{i}$ modulo $Q_{i}$ consists of the following data • a collection of $\mathcal{A}^{0}$-module maps $\tau_{i}:Q_{i}\rightarrow P_{i};$ • a collection of $\mathcal{A}^{0}$-module maps $\theta_{ji}:P_{i}|_{U_{ji}}\rightarrow P_{j}|_{U_{ji}};$ • a collection of $\mathcal{A}^{0}$-module maps $\vartheta_{kji}:P_{i}|_{U_{kji}}\rightarrow Q_{k}|_{U_{kji}};$ which satisfy the following conditions 1. $\theta_{ji}$ is a cocycle module $Q_{i}$, more precisely $\theta_{ki}-\theta_{kj}\theta_{ji}=\tau_{k}\vartheta_{kji};$ 2. $\theta_{ii}=id_{P_{i}}$.
Definition 3.2. [Shift] Let $\mathcal{E}=(E^{\bullet}_{i},a)$ be a twisted complex. We define its shift $\mathcal{E}[1]$ to be $\mathcal{E}[1]=(E[1]^{\bullet}_{i},a[1])$ where $E[1]^{\bullet}_{i}=E^{\bullet+1}_{i}\text{ and }a[1]^{k,1-k}=(-1)^{k-1}a^{k,1-% k}.$ Moreover, let $\phi:\mathcal{E}\to\mathcal{F}$ be a morphism. We define its shift $\phi[1]$ as $\phi[1]^{p,q}=(-1)^{q}\phi^{p,q}.$
Definition A.2. Let $X$ be a paracompact space. A sheaf $\mathcal{F}$ of groups over $X$ is fine if for every two disjoint closed subsets $A,B\subset X,A\cap B=\emptyset$, there is an endomorphism of the sheaf of groups $\mathcal{F}\rightarrow\mathcal{F}$ which restricts to the identity in a neighborhood of $A$ and to the $0$ endomorphism in a neighborhood of $B$.
Definition 2.1. [[Blo10] Definition 2.4] For a curved dg-algebra $\mathcal{A}=(\mathcal{A}^{\bullet},\text{d}_{\mathcal{A}},c)$, we define the dg-category $\mathcal{P}_{\mathcal{A}}$: 1. An object $E=(E^{\bullet},\mathbb{E})$ in $\mathcal{P}_{\mathcal{A}}$, which we call a cohesive module, is a $\mathbb{Z}$-graded (but bounded in both directions) right module $E^{\bullet}$ over $\mathcal{A}^{0}$, ($\mathcal{A}^{0}$ is the zero degree part of $\mathcal{A}^{\bullet}$) which is finitely generated and projective, together with a $\mathbb{Z}$-connection, which satisfies the usual Leibniz condition $\mathbb{E}(e\cdot\omega)=\mathbb{E}(e)\cdot\omega+(-1)^{|e|}e\cdot\text{d}_{% \mathcal{A}}(\omega)$ $\mathbb{E}:E^{\bullet}\otimes_{\mathcal{A}^{0}}\mathcal{A}^{\bullet}% \rightarrow E^{\bullet}\otimes_{\mathcal{A}^{0}}\mathcal{A}^{\bullet}$ that satisfies the integrability condition that the relative curvature vanishes $F_{E}(e)=\mathbb{E}\circ\mathbb{E}(e)+e\cdot c=0$ for all $e\in E^{\bullet}$. 2. The morphisms of degree $k$, $\mathcal{P}^{k}_{\mathcal{A}}(E_{1},E_{2})$ between two cohesive modules $E_{1}=(E_{1}^{\bullet},\mathbb{E}_{1})$ and $E_{2}=(E_{2}^{\bullet},\mathbb{E}_{2})$ are $\{\phi:E^{\bullet}_{1}\otimes_{\mathcal{A}^{0}}\mathcal{A}^{\bullet}% \rightarrow E^{\bullet}_{2}\otimes_{\mathcal{A}^{0}}\mathcal{A}^{\bullet}\text% { of degree }k\text{ and }\phi(ea)=\phi(e)a,\leavevmode\nobreak\ \forall% \leavevmode\nobreak\ a\in\mathcal{A}^{\bullet}\}$ with differentials defined by $\text{d}(\phi)(e)=\mathbb{E}_{2}(\phi(e))-(-1)^{|\phi|}$
Definition 3.3. [Mapping cone] Let $\phi^{\bullet,-\bullet}$ be a closed degree zero map between twisted perfect complexes $\mathcal{E}=(E^{\bullet},a^{\bullet,1-\bullet})$ and $\mathcal{F}=(F^{\bullet},b^{\bullet,1-\bullet})$ , we can define the mapping cone $\mathcal{G}=(G,c)$ of $\phi$ as follows (see [OTT85] Section 1.1): $G^{n}_{i}:=E^{n+1}_{i}\oplus F^{n}_{i}$ and $c^{k,1-k}_{i_{0}\ldots i_{k}}=\begin{pmatrix}(-1)^{k-1}a^{k,1-k}_{i_{0}\ldots i% _{k}}&0\\ (-1)^{k}\phi^{k,-k}_{i_{0}\ldots i_{k}}&b^{k,1-k}_{i_{0}\ldots i_{k}}\end{% pmatrix}.$
Definition 4.3. Let $P_{i},\leavevmode\nobreak\ Q_{i}$ be $\mathcal{A}^{0}(U_{i})$-modules, where $\mathcal{A}^{0}(U_{i})$ is as in Definition 2.4. A descent module of $P_{i}$ to $X$ modulo $Q_{i}$ consists of a $\mathcal{A}^{0}(X)$-module $R$ together with the following data • a collection of $\mathcal{A}^{0}$-module maps $\tau_{i}:Q_{i}\rightarrow P_{i};$ • a collection of $\mathcal{A}^{0}$-module maps $\psi_{i}:R|_{U_{i}}\rightarrow P_{i}$ • a collection of $\mathcal{A}^{0}$-module maps $\xi_{ji}:R|_{U_{ji}}\rightarrow Q_{j}|_{U_{ji}};$ which satisfy the following conditions 1. On $U_{ji}$ the maps $\psi_{i}$ and $\psi_{j}$ are compatible with the transition function $\theta_{ji}$ modulo $Q_{i}$, i.e. $\psi_{j}-\theta_{ji}\psi_{i}=\tau_{j}\xi_{ji}$ 2. Each of the $\psi_{i}$ is surjective modulo $Q_{i}$ in the following sense: For any $u_{i}\in P_{i}$, there exist an $v\in R$ and a $w_{i}\in Q_{i}$, such that $u_{i}=\psi_{i}(v)-\tau_{i}(w_{i})\text{ on }U_{i}.$
Definition 3.1. Let $X$ be a paracompact topological space and $\mathfrak{F}$ be a dg-presheaf on $X$. Let $\mathcal{U}=\{U_{i}\}$ be an locally finite open cover of $X$. A twisted complex consists of a collection objects $E_{i}$ of $\mathfrak{F}(U_{i})$ together with a collection of morphisms $a=\sum_{k\geq 0}a^{k,1-k}$ where $a^{k,1-k}\in C^{k}(\mathcal{U},\text{Mor}^{1-k}(E,E))$ which satisfies the equation $\delta a+a\cdot a=0.$ More explicitly, for $k\geq 0$ $\delta a^{k-1,2-k}+\sum_{i=0}^{k}a^{i,1-i}\cdot a^{k-i,1-k+i}=0.$ We impose two additional requirements on $a$: 1. For any $u^{p,q}\in\text{Mor}^{q}_{\mathfrak{F}}(E_{i_{p}},E_{i_{0}})$, the assignment $u^{p,q}\mapsto(-1)^{p}[a^{0,1}_{i_{0}}\cdot u^{p,q}-(-1)^{p+q}u^{p,q}\cdot a^{% 0,1}_{i_{p}}]\in\text{Mor}^{q+1}_{\mathfrak{F}}(E_{i_{p}},E_{i_{0}})$ coincides with the differential in the dg-category $\mathfrak{F}(U_{i_{0}\ldots i_{p}})$; 2. $a^{1,0}_{ii}\in\text{Mor}^{0}_{\mathfrak{F}}(E_{i},E_{i})$ is invertible up to homotopy. Twisted complexes on $(X,\mathfrak{F},\{U_{i}\})$ form a dg-category: the objects are twisted complexes $(E_{i},a)$ and the morphism from $\mathcal{E}=(E_{i},a)$ to $\mathcal{F}=(F_{i},b)$ are $C^{\bullet}(\mathcal{U},\text{Mor}^{\bullet}(E,F))$ with the total degree. Moreover, the differential on a morphism $\phi$ is given by $d\phi=\delta\phi+b\cdot\phi-(-1)^{|\phi|}\phi\cdot a.$ We denote the dg-category of twisted complexes on $(X,\mathfrak{F},\{U_{i}\})$ by $\text{Tw}(X,\mathfrak{F},U_{i})$. If there is no danger of confusion we can simply denote it by $\text{Tw}(X)$.
Definition 3.5 ([Wei16b] Definition 3.11). Let $(\mathcal{Q},\mathbb{Q})$ be an object in $\mathcal{C}_{\mathcal{A}}(X)$. We define its associated twisted complex $\mathcal{T}(Q)\in\text{Tw}(X,\mathcal{C}_{\mathcal{A}},U_{i})$ by restricting to the $U_{i}$’s. In more details we define $(E^{\bullet},a)=\mathcal{T}(Q)$ as $E^{n}_{i}=\mathcal{Q}^{n}|_{U_{i}}$ and $a^{0,1}_{i}=\mathbb{Q}|_{U_{i}},\leavevmode\nobreak\ a^{1,0}_{ij}=id_{\mathcal% {Q}^{\bullet}|_{U_{ij}}}\text{ and }a^{k,1-k}=0\text{ for }k\geq 2.$ The $\mathcal{T}$ of morphisms is defined in a similar way. We call the dg-functor $\mathcal{T}:\mathcal{C}_{\mathcal{A}}(X)\to\text{Tw}(X,\mathcal{C}_{\mathcal{A% }},U_{i})$ the twisting functor. We can define $\mathcal{T}:\mathcal{C}_{\mathcal{A}^{0}}(X)\to\text{Tw}(X,\mathcal{C}_{% \mathcal{A}^{0}},U_{i})$ in the same way.
Definition A.1. A sheaf $\mathcal{F}$ on a topological space $X$ is called soft if any section over any closed subset of $X$ can be extended to a global section. In other words, for any closed subset $K\subset X$, the restriction map $\mathcal{F}(X)\rightarrow\mathcal{F}(K)$ is surjective.
Definition 2.2. For $E=(E^{\bullet},\mathbb{E})$, set $E[1]=(E[1]^{\bullet},\mathbb{E}[1])$, where $E[1]^{\bullet}=E^{\bullet+1}$ and $\mathbb{E}[1])=-\mathbb{E}$. Next for $\phi:E\to F$ a degree zero closed morphism in $\mathcal{P}_{\mathcal{A}}$, we define the mapping cone of $\phi$, $\text{Cone}(\phi)=(\text{Cone}(\phi)^{\bullet},\mathbb{C}_{\phi})$ by $\text{Cone}(\phi)^{\bullet}=\begin{pmatrix}F^{\bullet}\\ \oplus\\ E[1]^{\bullet}\end{pmatrix}$ and $\mathbb{C}_{\phi}=\begin{pmatrix}\mathbb{F}&\phi\\ \par 0&\mathbb{E}[1]\end{pmatrix}.$
Definition 4.6. A symmetric monoidal closed category is weakly pointed if it is equipped with a morphism $\perp_{A}:I\to A$ for each object $A$, such that for every morphism $h:A\to B$, we have $h\ \circ\perp_{A}=\perp_{B}.$ In this case, for each pair of objects $A$ and $B$, there is a morphism $\perp_{A,B}=A\xrightarrow{\lambda_{A}^{-1}}I\otimes A\xrightarrow{\mathbf{% uncurry}(\perp_{A\multimap B})}B.$
Definition 3.1. An enriched CLNL model is given by the following data: 1. A cartesian closed category $\mathbf{V}$ together with its self-enrichment $\mathscr{V}$, such that $\mathscr{V}$ has finite $\mathbf{V}$-coproducts; 2. A $\mathbf{V}$-symmetric monoidal closed category $\mathscr{C}$ with underlying category $\mathbf{C}$ such that $\mathscr{C}$ has $\mathbf{V}$-copowers and finite $\mathbf{V}$-coproducts; 3. A $\mathbf{V}$-adjunction: {tikzcd} $\mathscr{V}$\arrow[rr, bend left, "- ⊙ I"] & $\vdash$ &$\mathscr{C}$, \arrow[ll, bend left, "$\mathscr{C}$(I,-)"] together with a CLNL model on the underlying adjunction. We also adopt the following notation: $F$ and $G$ are the underlying functors of $(-\odot I)$ and $\mathscr{C}(I,-)$ respectively and we use the same notation for the underlying CLNL model as in Definition 2.1.
Definition 3.6. A configuration is said to be well-typed with inputs $Q$, outputs $Q^{\prime}$ and type $A$, which we write as $Q\vdash(S,m):A;Q^{\prime},$ if there exists $Q^{\prime\prime}$ disjoint from $Q^{\prime}$, s.t. $S:Q\to Q^{\prime\prime}\cup Q^{\prime}$ is a labelled string diagram and $\emptyset;Q^{\prime\prime}\vdash m:A.$
Definition 4.12. For any type $A$, let: $\displaystyle V_{A}$ $\displaystyle:=\{v\ |\ v\text{ is a value and }\emptyset\vdash v:A\};$ $\displaystyle T_{A}$ $\displaystyle:=\{m\ |\ \emptyset\vdash m:A\}.$ We define two families of formal approximation relations: $\displaystyle\trianglelefteq_{A}$ $\displaystyle\subseteq(\mathbf{C}(I,{\llbracket A\rrbracket})-\{\perp\})\times V% _{A}$ $\displaystyle\sqsubseteq_{A}$ $\displaystyle\subseteq\mathbf{C}(I,{\llbracket A\rrbracket})\times T_{A}$ by induction on the structure of $A$: (A1) $f\trianglelefteq_{I}*$ iff $f=\text{id}_{I}$; (A2.1) $f\trianglelefteq_{A+B}\text{left }v$ iff $\exists f^{\prime}.\ f=\text{left}\circ f^{\prime}$ and $f^{\prime}\trianglelefteq_{A}v$; (A2.2) $f\trianglelefteq_{A+B}\text{right }v$ iff $\exists f^{\prime}.\ f=\text{right}\circ f^{\prime}$ and $f^{\prime}\trianglelefteq_{B}v$; (A3) $f\trianglelefteq_{A\otimes B}\langle v,w\rangle$ iff $\exists f^{\prime},f^{\prime\prime},$ such that: $f=f^{\prime}\otimes f^{\prime\prime}\circ\lambda_{I}^{-1}$ and $f^{\prime}\trianglelefteq_{A}v$ and $f^{\prime\prime}\trianglelefteq_{B}w$; (A4) $f\trianglelefteq_{A\multimap B}\lambda x.\ m$ iff $\forall f^{\prime}\in\mathbf{C}(I,{\llbracket A\rrbracket}),\forall v\in V_{A}:$ $f^{\prime}\trianglelefteq_{A}v\Rightarrow\text{eval}\circ(f\otimes f^{\prime})% \circ\lambda_{I}^{-1}\sqsubseteq_{B}m[v/x];$ (A5) $f\trianglelefteq_{!A}\text{lift }m$ iff $f$ is an intuitionistic morphism and $\epsilon_{A}\circ f\sqsubseteq_{A}m;$ (B) $f\sqsubseteq_{A}m\text{ iff }f\not=\perp\ \Rightarrow\ \exists v\in V_{A}.\ m% \Downarrow v\text{ and }f\trianglelefteq_{A}v.$
Definition 4.1. An endofunctor $T:\mathbf{C}\to\mathbf{C}$ is algebraically compact if $T$ has an initial $T$-algebra $T(\Omega)\xrightarrow{\omega}\Omega$ for which ${\Omega\xrightarrow{\omega^{-1}}T(\Omega)}$ is a final $T$-coalgebra. If the category $\mathbf{C}$ is monoidal, then an endofunctor $T:\mathbf{C}\to\mathbf{C}$ is parametrically algebraically compact if the endofunctor $A\otimes T(-)$ is algebraically compact for every $A\in\mathbf{C}$.
Definition 2.1 ([3]). A model of the CLNL calculus (CLNL model) is given by the following data: a cartesian closed category (CCC) with finite coproducts $(\mathbf{V},\times,\to,1,\mathop{\text{\smash{\raisebox{-1.037469pt}{\scalebox% {1}[-1]{$\prod$}}}\vphantom{$\prod$}}},\varnothing)$; a symmetric monoidal closed category (SMCC) with finite coproducts $(\mathbf{C},\otimes,\multimap,I,+,0)$; and a symmetric monoidal adjunction: $\tikzcd[ampersandreplacement=\&]\mathbf{V}\arrow[rr,bendleft,"F"]\&\rotatebox{% 90.0}{\vdash}\&\mathbf{C}\arrow[ll,bendleft,"G"]$ We also adopt the following notation: • The comonad-endofunctor is $!:=F\circ G$. • The unit of the adjunction $F\dashv G\ $ is ${\eta:\text{Id}\mathrel{\vbox{\offinterlineskip\halign{\cr}\scalebox{1.2}{.}\cr% $\longrightarrow$} }}G\circ F.$ • The counit of the adjunction $F\dashv G\ $ is ${\epsilon:\ !\mathrel{\vbox{\offinterlineskip\halign{\cr}\scalebox{1.2}{.}\cr$% \longrightarrow$} }}\text{Id}.$
Definition 4.2. A model of the (E)CLNL calculus with recursion is given by a model of the (E)CLNL calculus for which the !-endofunctor is parametrically algebraically compact.
Definition 3.4. An ECLNL model is given by the following data: • An enriched CLNL model (Definition 3.1); • A symmetric monoidal category $(\mathbf{M},\boxtimes,J)$ and a strong symmetric monoidal functor $E:\mathbf{M}\to\mathbf{C}.$
Definition 4.16. We shall say that a well-typed term $m$ terminates, in symbols $m\Downarrow$, iff there exists a value $v$, such that $m\Downarrow v.$
Definition 2.3. A morphism $f:{\llbracket P_{1}\rrbracket}\to{\llbracket P_{2}\rrbracket}$ is called intuitionistic, if $f={\llbracket P_{1}\rrbracket}\xrightarrow{\cong}F(X)\xrightarrow{F(f^{\prime}% )}F(Y)\xrightarrow{\cong}{\llbracket P_{2}\rrbracket},$ for some $f^{\prime}\in\mathbf{V}(X,Y).$
Definition 2.4. We define maps on intuitionistic types as follows: Discard: $\diamond_{P}:={\llbracket P\rrbracket}\xrightarrow{\cong}F(X)\xrightarrow{F(1_% {X})}F(1)\xrightarrow{\cong}I;$ Copy: $\Delta_{P}:={\llbracket P\rrbracket}\xrightarrow{\cong}F(X)\xrightarrow{F(% \langle\text{id},\text{id}\rangle)}F(X\times X)\xrightarrow{\cong}{\llbracket P% \rrbracket}\otimes{\llbracket P\rrbracket};$ Lift: $\textbf{lift}_{P}:={\llbracket P\rrbracket}\xrightarrow{\cong}F(X)\xrightarrow% {F(\eta_{X})}\,!F(X)\xrightarrow{\cong}\ !{\llbracket P\rrbracket}.$
Definition 4.4. Let $H$ be a quasi-Hopf algebra. A pair $(M,\rho)$, where $M$ is a left $H$-module and $\rho:M\rightarrow M\otimes H$ is a $k$-linear map, written as $\rho(m)=m_{\langle 0\rangle}\otimes m_{\langle 1\rangle}$, is called a left-right anti-Yetter-Drinfeld module of type I, if it satisfies the equalities (4.3), (4.4) and (4.5). A morphism of two $aYD$ modules $(M,\rho)\rightarrow(M^{\prime},\rho^{\prime})$ is an $H$-morphism $f:M\rightarrow M^{\prime}$, such that $\rho^{\prime}\circ f=(f\otimes id)\circ\rho$.
Definition 2.5. Let $M\in\text{w-}\mathcal{Z}_{\mathcal{M}}({{}^{\#}\mathcal{M}})$, we say that $M$ is stable if $DM\in\text{w-}\mathcal{Z}_{\mathcal{M}}(\mathcal{M}^{op})$ is stable, i.e., if $\sigma_{1\blacktriangleleft M}=Id$.
