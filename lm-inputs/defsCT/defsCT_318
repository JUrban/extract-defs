Definition 6.5. A connected positively (resp. negatively) oriented $\mathbb{Z}$-algebra is called quadratic if the algebra $Alg_{{\mathcal{A}}}$ is generated by the subspaces ${\mathcal{A}}_{0}=\bigoplus\limits_{i\in\mathbb{Z}}{\mathcal{A}}_{ii}$ and ${\mathcal{A}}_{1}=\bigoplus\limits_{i\in\mathbb{Z}}{\mathcal{A}}_{i,i+1}$ (resp. ${\mathcal{A}}_{-1}=\bigoplus\limits_{i\in\mathbb{Z}}{\mathcal{A}}_{i+1,i}$) and is determined by the quadratic relations $I_{i,i+2}\in{\mathcal{A}}_{i+1,i+2}\otimes{\mathcal{A}}_{i,i+1}$ (resp. $I_{i+2,i}\in{\mathcal{A}}_{i+1,i}\otimes{\mathcal{A}}_{i+2,i+1}$).
Definition 3.11. Assume that ${\mathcal{M}}$ has enough injectives and fix $E\in D^{+}({\mathcal{M}}).$ We are going to define a pseudo-functor $\operatorname{coDef}_{-}(E):\operatorname{dgart}_{-}\to{\bf Gpd}$ of derived co-deformations of $E.$ Fix an artinian DG algebra ${\mathcal{R}}\in\operatorname{dgart}_{-}.$ An object of the groupoid $\operatorname{coDef}_{{\mathcal{R}}}(E)$ is a pair $(S,\sigma),$ where $S\in D^{+}_{{\mathcal{R}}}({\mathcal{M}})$ and $\sigma$ is an isomorphism (in $D^{+}({\mathcal{M}})$) $\sigma:E\to{\mathbf{R}}i^{!}S.$ A morphism $f:(S,\sigma)\to(T,\tau)$ between two ${\mathcal{R}}$-deformations of $E$ is an isomorphism (in $D^{+}_{{\mathcal{R}}}({\mathcal{M}})$) $f:S\to T,$ such that ${\mathbf{R}}i^{!}(f)\cdot\sigma=\tau.$ This defines the groupoid $\operatorname{coDef}_{{\mathcal{R}}}(E).$ A homomorphism of artinian DG algebras $\phi:{\mathcal{R}}\to{\mathcal{Q}}$ induces the functor ${\mathbf{R}}\phi^{!}:\operatorname{coDef}_{{\mathcal{R}}}(E)\to\operatorname{% coDef}_{{\mathcal{Q}}}(E).$ Thus we obtain a pseudo-functor $\operatorname{coDef}_{-}(E):\operatorname{dgart}_{-}\to{\bf Gpd}.$
Definition 8.6. ([BP]) A helix $\mu=\{E_{i}\}$ is called geometric if for each pair $(i,j)\in\mathbb{Z}^{2}$ such that $i\leq j$ one has $\operatorname{Hom}^{k}(E_{i},E_{j})=0\text{ for }k\neq 0.$
Definition 5.1. Let $X$ be a scheme and $E\in D^{b}(\operatorname{coh}_{X}).$ We call $E$ a point object of dimension $d$ if the DG algebra ${\mathbf{R}}\operatorname{Hom}^{\cdot}(E,E)$ is formal, i.e. it is quasi-isomorphic to its cohomology algebra $\operatorname{Ext}^{\cdot}(E,E),$ and this algebra is isomorphic to the exterior algebra of dimension $d.$
Definition 9.8. Let ${\mathcal{A}}$ be a positively oriented $\mathbb{Z}$-algebra. We define the presheaf ${\mathcal{X}}_{{\mathcal{A}}}:Noeth_{k}^{op}\to{\bf Gpd}$ as follows. The groupoid ${\mathcal{X}}_{{\mathcal{A}}}(Y)$ is a full sub-groupoid of ${\mathcal{G}}_{2}({\mathcal{A}},\operatorname{QCoh}(Y),{\mathcal{O}}_{Y})$ which consists of objects $({\mathcal{F}},\sigma)$ such that the following conditions hold: 1) we have $\operatorname{Tor}_{i}^{{\mathcal{A}}}(T,{\mathcal{F}})=0$ for all $i$ and $T\in\operatorname{Tors}({\mathcal{A}})$; 2) the sheaves ${\mathcal{F}}(i)$ are locally flat.
Definition 6.2. Let $M\in\text{Mod-}{\mathcal{A}}$ be an ${\mathcal{A}}^{op}$-module. An element $x\in M(i)$ is called torsion if we have $x{\mathcal{A}}_{ji}=0$ for $j<<i.$ Torsion elements form a submodule of $M$ which we denote by $\tau(M).$ An ${\mathcal{A}}^{op}$-module $M$ is called torsion if we have $M=\tau(M).$ We denote by $\operatorname{Tors}({\mathcal{A}})$ the full subcategory of $\text{Mod-}{\mathcal{A}}$ which consists of torsion ${\mathcal{A}}^{op}$-modules. The category $\operatorname{QMod}({\mathcal{A}})$ is defined as the quotient category $\text{Mod-}{\mathcal{A}}/\operatorname{Tors}({\mathcal{A}}).$ We denote by $\pi:\text{Mod-}{\mathcal{A}}\to\operatorname{QMod}({\mathcal{A}})$ the projection functor.
Definition 3.1. Fix $E\in C({\mathcal{M}})$ and let ${\mathcal{R}}\in\operatorname{dgart}.$ An object in the groupoid $\operatorname{Def}^{\operatorname{h}}_{{\mathcal{R}}}(E)$ is a pair $(S,\sigma),$ where $S\in C_{{\mathcal{R}}}({\mathcal{M}})$ and $\sigma:i^{*}S\to E$ is an isomorphism of objects in $C({\mathcal{M}})$ such that the following holds: there exists an isomorphism of graded objects $\eta:(E\otimes{\mathcal{R}})^{\operatorname{gr}}\to S^{\operatorname{gr}}$ so that the composition $E=i^{*}(E\otimes{\mathcal{R}})\stackrel{{\scriptstyle i^{*}\eta}}{{\to}}i^{*}S% \stackrel{{\scriptstyle\sigma}}{{\to}}E$ is the identity. Given objects $(S,\sigma),(S^{\prime},\sigma^{\prime})\in\operatorname{Def}^{\operatorname{h}% }_{{\mathcal{R}}}(E),$ a map $f:(S,\sigma)\to(S^{\prime},\sigma^{\prime})$ is an isomorphism $f:S\to S^{\prime}$ such that $\sigma^{\prime}\cdot i^{*}f=\sigma.$ An allowable homotopy between maps $f,g$ is a homotopy $h:f\to g$ such that $i^{*}h=0.$ We define morphisms in $\operatorname{Def}^{\operatorname{h}}_{{\mathcal{R}}}(E)$ to be classes of maps modulo allowable homotopies. Note that a homomorphism of artinian DG algebras $\phi:{\mathcal{R}}\to{\mathcal{Q}}$ induces the functor $\phi^{*}:\operatorname{Def}_{{\mathcal{R}}}^{\operatorname{h}}(E)\to% \operatorname{Def}_{{\mathcal{Q}}}^{\operatorname{h}}(E).$ This defines the pseudo-functor $\operatorname{Def}^{\operatorname{h}}(E):\operatorname{dgart}\to{\bf Gpd}.$
Definition 6.8. Let ${\mathcal{A}}$ be a $\mathbb{Z}$-algebra. An ${\mathcal{A}}^{op}$-module $M$ is called finitely generated if there exists a surjective morphism (in $\text{Mod-}{\mathcal{A}}$) $\bigoplus\limits_{j=1}^{m}P_{i_{j}}\to M,$ where $i_{1},\dots,i_{m}\in\mathbb{Z}.$ Further, a finitely generated ${\mathcal{A}}^{op}$-module $M$ is called coherent if for each (not necessarily surjective) morphism (in $\text{Mod-}{\mathcal{A}}$) $\phi:\bigoplus\limits_{j=1}^{m}P_{i_{j}}\to M$ the ${\mathcal{A}}^{op}$-module $\ker(\phi)$ is finitely generated. A $\mathbb{Z}$-algebra ${\mathcal{A}}$ is called coherent if for each $i\in\mathbb{Z}$ the module $P_{i}$ is coherent. If ${\mathcal{A}}$ is coherent then we denote by $\operatorname{qmod}({\mathcal{A}})$ the full (abelian) subcategory of $\operatorname{QMod}({\mathcal{A}})$ which consists of the images of coherent ${\mathcal{A}}^{op}$-modules.
Definition 2.4. Let ${\mathcal{R}}\in\operatorname{dgart}.$ An ${\mathcal{R}}^{op}$-complex $S$ is called graded ${\mathcal{R}}$-free (resp. graded ${\mathcal{R}}$-cofree) if there exists $M\in C^{dg}({\mathcal{M}})$ and an isomorphism of graded objects (forgetting the differential) in $C^{dg}_{{\mathcal{R}}}({\mathcal{M}})$ $M\otimes{\mathcal{R}}\simeq S$ (resp. $M\otimes{\mathcal{R}}^{*}\simeq S$).
Definition 8.10. ([BP]) The endomorphism $\mathbb{Z}$-algebra ${\mathcal{A}}=\operatorname{End}(S)$ of a helix $S=\{E_{i}\}$ is defined by the formula ${\mathcal{A}}_{ij}=\operatorname{Hom}(E_{i},E_{j})$ with natural composition.
Definition 4.6. An ${\mathcal{Q}}_{X_{{\mathcal{R}}}}$-module $M$ is called ${\mathcal{R}}$-free (resp. ${\mathcal{R}}$-injective) if every stalk $M_{x}$ is free (resp. injective) as an ${\mathcal{R}}$-module. We call a complex $S\in C(\operatorname{Mod}_{X_{{\mathcal{R}}}})$ ${\mathcal{R}}$-free (resp. ${\mathcal{R}}$-injective) if every ${\mathcal{O}}_{X_{{\mathcal{R}}}}$-module $S^{j}$ is such. Denote by $C_{F}(\operatorname{Mod}_{X_{{\mathcal{R}}}})$ (resp. $C_{I}(\operatorname{Mod}_{X_{{\mathcal{R}}}})$) the full subcategories of $C(\operatorname{Mod}_{X_{{\mathcal{R}}}})$ which consist of ${\mathcal{R}}$-free (resp. ${\mathcal{R}}$-injective) complexes.
Definition 9.4. For each $\mathbb{Z}$-algebra ${\mathcal{A}}$ we define the presheaf $X_{{\mathcal{A}}}$ of groupoids on the category $\operatorname{Alg}_{k}^{op}$ as follows. It is a full subpresheaf of $X_{2}({\mathcal{A}})$ and the groupoid $X_{{\mathcal{A}}}(A)\subset X_{2}({\mathcal{A}})(A)$ consists of pairs $({\mathcal{F}},\sigma)\in X_{2}({\mathcal{A}})(A)$ such that: 1) we have $\operatorname{Tor}_{i}^{{\mathcal{A}}}(T,{\mathcal{F}})=0$ for all $i$ and $T\in\operatorname{Tors}({\mathcal{A}})$; 2) the $A^{op}$-modules ${\mathcal{F}}(i)$ are flat.
Definition 8.4. An exceptional collection $(E_{1},\dots,E_{n})$ is called strong exceptional if it satisfies the additional assumption $\operatorname{Hom}^{i}(E_{k},E_{l})=0$ for $i\neq 0$ and all $k$ and $l.$
Definition 3.7. Assume that ${\mathcal{M}}$ has enough projectives and fix $E\in D^{-}({\mathcal{M}}).$ We are going to define a pseudo-functor $\operatorname{Def}_{-}(E):\operatorname{dgart}_{-}\to{\bf Gpd}$ of derived deformations of $E.$ Fix an artinian DG algebra ${\mathcal{R}}\in\operatorname{dgart}_{-}.$ An object of the groupoid $\operatorname{Def}_{{\mathcal{R}}}(E)$ is a pair $(S,\sigma),$ where $S\in D^{-}_{{\mathcal{R}}}({\mathcal{M}})$ and $\sigma$ is an isomorphism (in $D^{-}({\mathcal{M}})$) $\sigma:{\mathbf{L}}i^{*}S\to E.$ A morphism $f:(S,\sigma)\to(T,\tau)$ between two ${\mathcal{R}}$-deformations of $E$ is an isomorphism (in $D^{-}_{{\mathcal{R}}}({\mathcal{M}})$) $f:S\to T,$ such that $\tau\cdot{\mathbf{L}}i^{*}(f)=\sigma.$ This defines the groupoid $\operatorname{Def}_{{\mathcal{R}}}(E).$ A homomorphism of artinian DG algebras $\phi:{\mathcal{R}}\to{\mathcal{Q}}$ induces the functor ${\mathbf{L}}\phi^{*}:\operatorname{Def}_{{\mathcal{R}}}(E)\to\operatorname{Def% }_{{\mathcal{Q}}}(E).$ Thus we obtain a pseudo-functor $\operatorname{Def}_{-}(E):\operatorname{dgart}_{-}\to{\bf Gpd}.$
Definition 2.1. Let ${\mathcal{R}}$ be an artinian DG algebra. A right ${\mathcal{R}}$-complex over ${\mathcal{M}}$ (or simply an ${\mathcal{R}}^{op}$-complex) is an object $S\in C({\mathcal{M}})$ together with a homomorpism of DG algebras ${\mathcal{R}}^{op}\to\operatorname{Hom}^{\cdot}(S,S).$ This is the same as a DG functor from the DG category ${\mathcal{R}}^{op}$ (with one object) to the DG category $C^{dg}({\mathcal{M}}).$ Thus ${\mathcal{R}}^{op}$-complexes over ${\mathcal{M}}$ naturally form a DG category $\operatorname{Fun}_{\operatorname{DG}}({\mathcal{R}}^{op},C^{dg}({\mathcal{M}}))$ which we denote by $C^{dg}_{{\mathcal{R}}}({\mathcal{M}}).$ If in the category $C^{dg}_{{\mathcal{R}}}({\mathcal{M}})$ we only consider morphisms which are degree zero cycles (i.e. DG transformations between DG functors), then we obtain an abelian category, which we denote by $C_{{\mathcal{R}}}({\mathcal{M}}).$ The homotopy category $\operatorname{Ho}(C^{dg}_{{\mathcal{R}}}({\mathcal{M}}))$ is denoted by ${\mathcal{H}}_{{\mathcal{R}}}({\mathcal{M}}).$ If we invert quasi-isomorphisms in ${\mathcal{H}}_{{\mathcal{R}}}({\mathcal{M}})$ we obtain the derived category $D_{{\mathcal{R}}}({\mathcal{M}}).$
Definition 9.6. We say that a positively oriented $\mathbb{Z}$-algebra ${\mathcal{A}}$ satisfies the condition (**) if the following holds: (i) the algebra ${\mathcal{A}}$ is generated by its subspaces ${\mathcal{A}}_{0}$ and ${\mathcal{A}}_{1}$; (ii) for each $i\in\mathbb{Z},$ the object $\pi(P_{i})$ has a finite right resolution by direct sums of $\pi(P_{j})$ with $j>i.$
Definition 6.4. A $\mathbb{Z}$-algebra ${\mathcal{A}}$ is called a) positively (resp. negatively) oriented if ${\mathcal{A}}_{ij}=0$ for $i>j$ (resp. for $i<j$); b) connected if ${\mathcal{A}}_{ii}\cong k$ for each $i\in\mathbb{Z}$; c) locally finite if $\dim{\mathcal{A}}_{ij}<\infty$ for any $i,j\in\mathbb{Z}.$
Definition 3.10. Denote by $\operatorname{Def}_{0}(E),$ $\operatorname{Def}_{\operatorname{cl}}(E)$ the restrictions of the pseudo-functor $\operatorname{Def}_{-}(E)$ to subcategories $\operatorname{art},$ $\operatorname{cart}$ respectively.
Definition 8.5. A helix of the period $n$ is an infinite sequence $\{E_{i}\}_{i\in\mathbb{Z}}$ such that for each $i\in\mathbb{Z}$ the collection $(E_{i},\dots,E_{i+n})$ is exceptional, and moreover $R^{n-1}E_{i}=E_{i+n}.$
Definition 4.1. A complex $F\in C(\operatorname{Mod}_{Y})$ is h-flat if the complex $F\otimes_{{\mathcal{O}}_{Y}}G$ is acyclic for every acyclic $G\in C(\operatorname{Mod}_{Y}).$
Definition 8.12. ([BP]) Koszul co-Koszul $\mathbb{Z}$-algebra of finite homological dimension $n$ is called a geometric $\mathbb{Z}$-algebra of the period $n.$
Definition 8.1. An object $E\in Ob(D)$ is called exceptional if $\operatorname{Hom}^{i}(E,E)=0$ for $i\neq 0,$ and $\operatorname{Hom}^{0}(E,E)=k.$
Definition 3.3. Denote by $\operatorname{Def}_{+}^{\operatorname{h}}(E),$ $\operatorname{Def}_{-}^{\operatorname{h}}(E),$ $\operatorname{Def}_{0}^{\operatorname{h}}(E),$ $\operatorname{Def}^{\operatorname{h}}_{\operatorname{cl}}(E)$ the restrictions of the pseudo-functor $\operatorname{Def}^{\operatorname{h}}(E)$ to subcategories $\operatorname{dgart}_{+},$ $\operatorname{dgart}_{-},$ $\operatorname{art},$ $\operatorname{cart}$ respectively.
Definition 2.7. An object $S\in C^{\operatorname{dg}}_{{\mathcal{R}}}({\mathcal{M}})$ is called h-projective (resp. h-injective) if for every acyclic $T\in C^{\operatorname{dg}}_{{\mathcal{R}}}({\mathcal{M}})$ the complex $\operatorname{Hom}^{\cdot}(S,T)$ (resp. $\operatorname{Hom}^{\cdot}(T,S)$) is acyclic.
Definition 8.7. ([BP]) An exceptional collection is called geometric if it generates a geometric helix.
Definition 3.14. Denote by $\operatorname{coDef}_{0}(E),$ $\operatorname{coDef}_{\operatorname{cl}}(E)$ the restrictions of the pseudo-functor $\operatorname{coDef}_{-}(E)$ to subcategories $\operatorname{art},$ $\operatorname{cart}$ respectively.
Definition 6.6. A quadratic locally finite $\mathbb{Z}$-algebra is called Koszul if the complex $K_{n}^{m}$ is acyclic for $n\neq m,$ or, equivalently, $K_{n}$ is a resolution of $S_{n}.$
Definition 10.1. Let $X$ be a presheaf of sets on the category $\operatorname{Alg}_{k}^{op}$ of noncommutative affine schemes, and $x\in X(k)$ be a $k$-point. The completion of the local ring $\widehat{{\mathcal{O}}_{x}},$ if it exists, is defined as a pro-artinian algebra which pro-represents the functor $F_{X,x}:\operatorname{art}\to\operatorname{Sets}.$
Definition 6.1. A $\mathbb{Z}$-algebra ${\mathcal{A}}$ over the field $k$ is a $k$-linear category with the set of objects $\mathbb{Z}.$ For $i,j\in\mathbb{Z},$ we write ${\mathcal{A}}_{ij}$ instead of $\operatorname{Hom}_{{\mathcal{A}}}(i,j).$ Sometimes we will identify a $\mathbb{Z}$-algebra ${\mathcal{A}}$ with the corresponding ordinary non-unital algebra $\operatorname{Alg}_{{\mathcal{A}}}.$
Definition 3.6. Denote by $\operatorname{coDef}_{+}^{\operatorname{h}}(E),$ $\operatorname{coDef}_{-}^{\operatorname{h}}(E),$ $\operatorname{coDef}_{0}^{\operatorname{h}}(E),$ $\operatorname{coDef}_{\operatorname{cl}}^{\operatorname{h}}(E)$ the restrictions of the pseudo-functor $\operatorname{coDef}^{\operatorname{h}}(E)$ to subcategories $\operatorname{dgart}_{+},$ $\operatorname{dgart}_{-},$ $\operatorname{art},$ $\operatorname{cart}$ respectively.
Definition 8.3. A full exceptional collection of objects in the category $D$ is a collection which generates $D$ as triangulated category.
Definition 4.3. Let $X$ be a scheme (over $k$) and $E\in D_{\operatorname{Qcoh}}(X).$ We define the pseudo-functor $\operatorname{coDef}_{\operatorname{cl}}(E):\operatorname{cart}\to{\bf Gpd}$ of (”classical”) derived co-deformations of $E$ as follows. Let ${\mathcal{R}}$ be a commutative local artinian algebra. An object of the groupoid $\operatorname{coDef}_{{\mathcal{R}}}(E)$ is a pair $(T,\tau),$ where $T\in D_{\operatorname{Qcoh}}(X_{{\mathcal{R}}})$ and $\tau:E\to{\mathbf{R}}i^{!}T$ is a quasi-isomorphism. A morphism between two such object $(T,\tau)$ and $(T^{\prime},\tau^{\prime})$ is a quasi-isomorphism $f:T\to T^{\prime}$ such that $\tau^{\prime}={\mathbf{R}}i^{!}(f)\cdot\tau.$ A homomorphism $\phi:{\mathcal{R}}\to{\mathcal{Q}}$ of commutative local artinian algebras induces the morphism $X_{{\mathcal{Q}}}\to X_{{\mathcal{R}}}$ and hence the functor ${\mathbf{R}}\phi^{!}:\operatorname{coDef}_{{\mathcal{R}}}(E)\to\operatorname{% coDef}_{{\mathcal{Q}}}(E).$ thus we obtain the pseudo-functor $\operatorname{coDef}_{\operatorname{cl}}(E):\operatorname{cart}\to{\bf Gpd}.$
Definition 9.1. Let ${\mathcal{A}}$ be a positively oriented $\mathbb{Z}$-algebra and let ${\mathcal{C}}$ be a $k$-linear abelian category with infinite direct sums together with a distinguished object $Y\in{\mathcal{C}}.$ We denote by ${\mathcal{G}}_{1}({\mathcal{A}},{\mathcal{C}},Y)$ the groupoid of pairs $(f^{*},\theta),$ where $f^{*}:\operatorname{QMod}({\mathcal{A}})\to{\mathcal{C}}$ is a $k$-linear functor commuting with colimits and $\theta:f^{*}(\pi(P_{0}))\to Y$ is an isomorphism. We denote by ${\mathcal{G}}_{2}({\mathcal{A}},{\mathcal{C}},Y)$ the groupoid of pairs $({\mathcal{F}},\sigma),$ where ${\mathcal{F}}:{\mathcal{A}}\to{\mathcal{C}}$ is a $k$-linear functor such that $\operatorname{Tor}_{0}^{{\mathcal{A}}}(T,{\mathcal{F}})=\operatorname{Tor}_{1}% ^{{\mathcal{A}}}(T,{\mathcal{F}})=0$ for each torsion ${\mathcal{A}}^{op}$-module $T,$ and $\sigma:{\mathcal{F}}(0)\to Y$ is an isomorphism.
Definition 4.1. A full triangulated subcategory ${\bf D}^{\prime}\subset{\bf D}$ is admissible if the inclusion functor $i:{\bf D}^{\prime}\to{\bf D}$ admits a right adjoint.
Definition 4.4. An ordered sequence of admissible triangulated subcategories $\sigma=({\bf D}_{1},\ldots,{\bf D}_{n})$ is semiorthogonal if, for all $i>j$, one has ${\bf D}_{j}\subset{\bf D}_{i}^{\perp}$. If $\sigma$ generates the category $\bf D$, we call it a semiorthogonal decomposition of $\bf D$.
Definition 2.1. Let $S$ be a scheme with étale topology, $U\to S$ in $Cov(S_{et})$, $\alpha\in\Gamma(U^{\prime\prime\prime},\mathbb{G}_{m})$ a 2-cocycle. An $\alpha$-twisted sheaf on $S$ is given by a sheaf $E$ over $U$ and an isomorphism $\phi:p_{1}^{\ast}E\cong p_{2}^{\ast}E$, such that $(q_{2,3}^{\ast}\phi)\circ(q_{1,2}^{\ast}\phi)=\alpha(q_{1,3}^{\ast}\phi)$ We say that such a sheaf is coherent if $E$ is a coherent sheaf on $U$, and we denote ${\mathrm{Mod}}(S,\alpha)$ the category of $\alpha$-twisted sheaves on $S$, ${\mathrm{Coh}}(S,\alpha)$ the category of coherent $\alpha$-twisted sheaves on $S$ and ${\bf{D}}(S,\alpha)$ the category of perfect complexes of such sheaves.
Definition 5.2. We define ${\bf{D}}(S,X)_{k}$, for $k\in\mathbb{Z}$, to be the full subcategory of ${\bf{D}}(X)$ generated by objects $A$ such that $A_{|X_{U}}\simeq_{\mathrm{q.iso}}f^{\ast}A_{U}\otimes{\mathcal{O}}_{X_{U}}(k)$ where $A_{U}$ is an object in ${\bf{D}}(U)$.
Definition 4.2. The orthogonal complement ${\bf D}^{\prime\perp}$ of ${\bf D}^{\prime}$ in ${\bf D}$ is the full subcategory of all objects $A\in{\bf D}$ such that ${\mathrm{Hom}}(B,A)=0$ for all $B\in{\bf D}^{\prime}$.
Definition 9 A locally compact groupoid is $\beta$-discrete if its base subgroupoid is an open subset (Definition I.2.6/p. 18 [5]).
Definition 19 . Suppose $\Sigma\colon\gamma_{1}\to\gamma_{2}$ and $\Sigma^{\prime}\colon\gamma^{\prime}_{1}\to\gamma^{\prime}_{2}$ are parametrized bigons in a smooth space $M$. A thin homotopy between $\Sigma$ and $\Sigma^{\prime}$ is a smooth map $H\colon[0,1]^{3}\to M$ with the following properties: • $H\!\left({s,t,0}\right)=\Sigma\!\left({s,t}\right)$ and $H\!\left({s,t,1}\right)=\Sigma^{\prime}\!\left({s,t}\right)$, • $H\!\left({s,t,u}\right)$ is independent of $u$ near $u=0$ and near $u=1$, • For some thin homotopy $F_{1}$ from $\gamma_{1}$ to $\gamma_{1}^{\prime}$, $H\!\left({s,t,u}\right)=F_{1}\!\left({s,u}\right)$ for $t$ near $0$, and for some thin homotopy $F_{2}$ from $\gamma_{2}$ to $\gamma_{2}^{\prime}$, $H\!\left({s,t,u}\right)=F_{2}\!\left({s,u}\right)$ for $t$ near $1$, • $H(s,t,u)$ is constant for $s=0$ and near $s=1$, • $H$ does not sweep out any volume: the rank of the differential $dH(s,t,u)$ is $<3$ for all $s,t,u\in[0,1]$. We say two parametrized bigons $\Sigma,\Sigma^{\prime}$ lie in the same thin homotopy class if the pair $(\Sigma,\Sigma^{\prime})$ lies in the closure of the thin homotopy equivalence relation. A bigon is a thin homotopy class $[\Sigma]$ of parametrized bigons.
Definition 14 . Given a smooth 2-space $F$, we define a locally trivial 2-bundle with fiber $F$ to be a 2-bundle $E\,{\stackrel{{\scriptstyle p}}{{\longrightarrow}}}\,B$ and an open cover $\{U_{i}\}$ of the base space $B$ equipped with equivalences $E|_{{U}_{i}}\,{\stackrel{{\scriptstyle t_{i}}}{{\longrightarrow}}}\,{U}_{i}% \times{F}$ called local trivializations such that these diagrams: $\xymatrix@!0{E|_{{U}_{i}}\ar[dddrr]_{p}\ar[rrrr]^{t_{i}}&&&&U_{i}\times F\ar[% dddll]\\ \\ &\\ &&U_{i}}$ commute for all $i\in I$.
Definition 4 . A smooth space is a set $X$ equipped with, for each convex set $C$, a collection of functions $\phi\colon C\to X$ called plots in $X$, such that: 1. If $\phi\colon C\to X$ is a plot in $X$, and $f\colon C^{\prime}\to C$ is a smooth map between convex sets, then $\phi\circ f$ is a plot in $X$, 2. If $i_{\alpha}\colon C_{\alpha}\to C$ is an open cover of a convex set $C$ by convex subsets $C_{\alpha}$, and $\phi\colon C\to X$ has the property that $\phi\circ i_{\alpha}$ is a plot in $X$ for all $\alpha$, then $\phi$ is a plot in $X$. 3. Every map from a point to $X$ is a plot in $X$.
Definition 2 . Let $\mathrm{Lie}\mathrm{Grp}$ be the category whose objects are Lie groups and whose morphisms are Lie group homomorphisms. Then the objects, morphisms and 2-morphisms of $\mathrm{Lie}\mathrm{Grp}\mathrm{Cat}$ are called Lie 2-groups, Lie 2-group homomorphisms, and Lie 2-group 2-homomorphisms, respectively.
Definition 3 . Let $\mathrm{Lie}\mathrm{Alg}$ be the category whose objects are Lie algebras and whose morphisms are Lie algebra homomorphisms. Then the objects, morphisms and 2-morphisms of $\mathrm{Lie}\mathrm{Alg}\mathrm{Cat}$ are called Lie 2-algebras, Lie 2-algebra homomorphisms, and Lie 2-algebra 2-homomorphisms, respectively.
Definition 17 . For any smooth 2-group $\mathcal{G}$, we say a locally trivial 2-bundle $E\to M$ has $\mathcal{G}$ as its structure 2-group when the transition functions $g_{ij}$, $h_{ijk}$, and $k_{i}$ factor through an action $\mathcal{G}\to\mathcal{AUT}(F)$. In this case we also say $P$ is a $\mathcal{G}$-2-bundle. If furthermore $F=\mathcal{G}$ and $\mathcal{G}$ acts on $F$ by right multiplication, we say $P$ is a principal $\mathcal{G}$-2-bundle.
Definition 6 . Let ${\rm C}^{\infty}$ be the category whose objects are smooth spaces and whose morphisms are smooth maps. Then the objects, morphisms and 2-morphisms of ${\rm C}^{\infty}\mathrm{Cat}$ are called smooth 2-spaces, smooth maps, and smooth 2-maps, respectively.
Definition 18 . Given a smooth space $M$, a parametrized bigon in $M$ is a smooth map $\Sigma\colon[0,1]^{2}\to M$ which is constant near $s=0$, constant near $s=1$, independent of $t$ near $t=0$, and independent of $t$ near $t=1$. We call $\Sigma\!\left({\cdot,0}\right)$ the source of the parametrized bigon $\Sigma$, and $\Sigma\!\left({\cdot,1}\right)$ the target. If $\Sigma$ is a parametrized bigon with source $\gamma_{1}$ and target $\gamma_{2}$, we write $\Sigma\colon\gamma_{1}\to\gamma_{2}$.
Definition 13 . A 2-bundle consists of • a smooth 2-space $E$ (the total 2-space), • a smooth 2-space $B$ (the base 2-space), • a smooth map $p\colon E\to B$ (the projection).
Definition 22 . For any smooth 2-group $\mathcal{G}$, suppose that $E\to B$ is a principal $\mathcal{G}$-2-bundle equipped with local trivializations over open sets $\{U_{i}\}_{i\in I}$ covering $B$, and let the transition functions $g_{ij}$, $h_{ijk}$ and $k_{i}$ be given as in Theorem 15. Suppose for simplicity that $k_{i}=1$. Then a 2-connection on $E$ consists of the following data: • for each $i\in I$ a smooth 2-functor $\displaystyle\begin{array}[]{rcccc}{\rm hol}_{i}&\colon&\mathcal{P}_{2}\!\left% ({U_{i}}\right)&\to&\mathcal{G}\\ &&\xymatrix{x\ar@/^{1}pc/[rr]^{\gamma}="0"\ar@/_{1}pc/[rr]_{\eta}="1"\ar@{=>}"% 0";"1"^{\Sigma}\hfil&&y&\mapsto&\xymatrix{\bullet\ar@/^{1}pc/[rr]^{{\rm hol}_{% i}\!\left({\gamma}\right)}="0"\ar@/_{1}pc/[rr]_{{\rm hol}_{i}\!\left({\eta}% \right)}="1"\ar@{=>}"0";"1"^{{\rm hol}_{i}\!\left({\Sigma}\right)}&&\bullet% \end{array}}}$ called the local holonomy 2-functor, from the path 2-groupoid $\mathcal{P}_{2}\!\left({U_{i}}\right)$ to the 2-group $\mathcal{G}$ regarded as a smooth 2-category with a single object $\bullet$, such that: • For each $i,j$ a pseudonatural isomorphism: $g_{ij}\colon{\rm hol}_{i}|_{\mathcal{P}(U_{i}\cap U_{j})}\to{\rm hol}_{j}|_{% \mathcal{P}(U_{i}\cap U_{j})}$ extending the transition function $g_{ij}$. In other words, for each path $\gamma\colon x\to y$ in $U_{i}\cap U_{j}$ a morphism in $G$: $g_{ij}\!\left({x}\right)$$g_{ij}\!\left({y}\right)$${\rm hol}_{i}(\gamma)$${\rm hol}_{j}(\gamma)$$g_{ij}\!\left({\gamma}\right)$ depending smoothly on $\gamma$, such that this diagram commutes: for any bigon $\Sigma\colon\gamma\Rightarrow\eta$ in $U_{ij}$, • for each $i,j,k\in I$ the transition function $h_{ijk}$ defines a modification: ${\rm hol}_{i}$${\rm hol}_{j}$${\rm hol}_{k}$$g_{ij}$$g_{jk}$$g_{ik}$$h_{ijk}$ In other words, this diagram commutes: ${\rm hol}_{k}\!\left({\gamma}\right)$${\rm hol}_{i}\!\left({\gamma}\right)$${}_{{\rm hol}_{j}\!\left({\gamma}\right)}$$g_{ik}\!\left({y}\right)$$g_{ik}\!\left({x}\right)$${}_{g_{ij}\!\left({y}\right)}$${}_{g_{ij}\!\left({x}\right)}$${}_{g_{jk}\!\left({y}\right)}$${}_{g_{jk}\!\left({x}\right)}$${}_{h_{ijk}\!\left({y}\right)}$${}_{h_{ijk}\!\left({x}\right)}$$g_{ik}\!\left({\gamma}\right)$${}_{g_{ij}\!\left({\gamma}\right)}$${}_{g_{jk}\!\left({\gamma}\right)}$ for any bigon $\Sigma\colon\gamma\Rightarrow\eta$ in $U_{ijk}$.
Definition 1 . Let $K$ be a category. An internal category in $K$, or simply category in $K$, say $C$, consists of: • an object $\mathrm{Ob}(C)\in K$, • an object $\mathrm{Mor}(C)\in K$, • source and target morphisms $s,t\colon\mathrm{Mor}(C)\to\mathrm{Ob}(C)$, • an identity-assigning morphism $i\colon\mathrm{Ob}(C)\to\mathrm{Mor}(C)$, • a composition morphism $\circ\colon\mathrm{Mor}(C){{}_{s}\times_{t}}\mathrm{Mor}(C)\to\mathrm{Mor}(C)$ satisfying the usual rules of a category expressed in terms of commutative diagrams.
