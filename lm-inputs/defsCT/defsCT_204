Definition 6.21. Let $G\!\curvearrowright\!X$ be a 0-cell, and let $x_{1},\ldots,x_{s}\in X$ be a complete set of representatives of $G$-orbits of $X$. Since $\mathrm{Ind}^{G}_{G_{x_{i}}}(G_{x_{i}}/G_{x_{i}})=G/G_{x_{i}}\cong Gx_{i}$ as $G$-sets, we have an adjoint equivalence $\upsilon_{i}^{(X)}\colon G_{x_{i}}\!\curvearrowright\!\mathrm{pt}\overset{\sim% }{\longrightarrow}G\!\curvearrowright\!Gx_{i}.$ By composing this with the inclusion $Gx_{i}\hookrightarrow X$, we define a 1-cell $\eta_{i}^{(X)}\colon G_{x_{i}}\!\curvearrowright\!\mathrm{pt}\to G\!% \curvearrowright\!X$.
Definition 1. Given the topos $S$, and a sentence $\phi$ over $U$, we define the relation $U\Vdash\phi$ recursively as follows • $U\Vdash(f=g)\leftrightarrow f=g$ • $U\Vdash\top$ always • $U\Vdash\bot\leftrightarrow U\simeq 0$ • $U\Vdash(\phi\wedge\psi)\leftrightarrow U\Vdash\phi$ and $U\Vdash\psi$ • $U\Vdash(\phi\vee\psi)\leftrightarrow U=V\cup W$, where $i\colon V\hookrightarrow U$ and $j\colon W\hookrightarrow U$ are subobjects such that $V\Vdash i^{*}\phi$ and $W\Vdash j^{*}\psi$ • $U\Vdash(\phi\Rightarrow\psi)\leftrightarrow$ for any $p\colon V\to U$ such that $V\Vdash p^{*}\phi$, also $V\Vdash p^{*}\psi$ • $U\Vdash\neg\phi\leftrightarrow U\Vdash(\phi\Rightarrow\bot)$ • $U\Vdash(\exists X)\phi(X)\leftrightarrow\exists p\colon V\twoheadrightarrow U$ and $A\in\operatorname{Obj}(S/V)$ such that $V\Vdash p^{*}\phi(A)$ • $U\Vdash(\exists f\colon A\to B)\phi(f)\leftrightarrow\exists p\colon V\twoheadrightarrow U$ and $g\colon p^{*}A\to p^{*}B\in\operatorname{Mor}(S/V)$ such that $V\Vdash p^{*}\phi(g)$ • $U\Vdash(\forall X)\phi(X)\leftrightarrow$ for any $p\colon V\to U$ and $A\in\operatorname{Obj}(S/V)$, $V\Vdash p^{*}\phi(A)$ • $U\Vdash(\forall f\colon A\to B)\phi(f)\leftrightarrow$ for any $p\colon V\to U$ and $j\colon p^{*}A\to p^{*}B\in\operatorname{Mor}(S/V)$, $V\Vdash p^{*}\phi(j)$ If $\phi$ is a formula over $1$ we say $\phi$ is valid if $1\Vdash\phi$.
Definition 4. A $\mathcal{Z}$-set $A$ is called small if there is a map $\pi_{0}(A)\to\mathbb{N}$ and a pullback square
Definition 26. Given a diagram $D$ of type $\mathbf{J}$ in $\mathbf{P}$, a cone to $D$ is any pair $(L,\phi)$ consisting of an object $L\in\mathbf{P}$ and a function $\phi$ from $\mathrm{Ob}(\mathbf{J})\to\hom(\mathbf{P}^{\flat})$ such that 1. $\phi_{A}\in\hom_{\mathbf{P}^{\flat}}(L,D(A))$ for every object $A\in\mathbf{J}$. 2. $\phi_{A}\diamond_{\mathbf{P}}D(f)=\phi_{B}$ for each $\mathbf{J}$-morphism $f:A\to B$. We say that a cone $(L,\phi)$ to $D$ is a weak $\mathcal{M}$-limit (respectively, an $\mathcal{M}$-sublimit) for $D$ if for any other cone $(N,\psi)$ to $D$ there exists at least (respectively, at most) one factorization $\Phi=(\gamma,\wp)$ of minimal length such that $\gamma$ is an $\mathcal{M}$-path from $N$ to $L$ (in $\mathbf{P}$), called a mediating $\mathcal{M}$-factorization, and for any $\bf J$-arrow $f:X\to Y$ it holds $\psi_{X}={\rm Ev}_{\mathcal{M}}[\mathbf{P}](\Phi)\diamond_{\mathbf{P}}\phi_{X}% \ \ (\text{i.e., }\psi_{X}=\wp[\mathbf{P}](\gamma)\diamond_{\mathbf{P}}\phi_{X}),\quad\forall X% \in\mathrm{Ob}({\bf J});$ in particular, $(L,\phi)$ is called a (strong) $\mathcal{M}$-limit if there exists a unique such $\Phi$, in which case $(L,\phi)$ is called a universal cone to $D$ and $\Phi$ a universal $\mathcal{M}$-factorization.
Definition 3. A plot $\mathbf{P}$ is any $5$-tuple $(\mathcal{C}_{0},\mathcal{C}_{1},s,t,c)$, where: 1. $\mathcal{C}_{0}$ and $\mathcal{C}_{1}$ are classes, whose elements are respectively referred to as objects (or vertices, or nodes) and morphisms (or arrows, or edges, or arcs); 2. $s$ and $t$ are functions $\mathcal{C}_{1}\to\mathcal{C}_{0}$ which assign, to every arrow $f$, an object $A$, called its source, and an object $B$, called its target, respectively; 3. $c$ is a (partial) binary operation on $\mathcal{C}_{1}$, whose domain is a (possibly empty) subclass of the (canonical) pullback $\mathcal{C}_{1}\times_{t,s}\mathcal{C}_{1}$; and the following axiom is satisfied: (q.1) $s(c(f,g))=s(f)$ and $t(c(f,g))=t(g)$ for every $(f,g)\in\mathrm{dom}(c)$. The identity of $\mathbf{P}$ is then the unique (partial) function $i:\mathcal{C}_{0}\mathrel{\ooalign{$\mapstochar$\hfil\hfil\cr$\to$\cr}}% \mathcal{C}_{1}$ for which: (q.2) $s(i(A))=t(i(A))=A$ for all $A\in{\rm dom}(i)$; (q.3) $(f,i(A)),(i(A),g)\in\mathrm{dom}(c)$ for every $A\in\mathrm{dom}(i)$ and all $f,g\in\mathcal{C}_{1}$ such that $t(f)=s(g)=A$, and furthermore $c(f,i(A))=f$ and $c(i(A),g)=g$. (q.4) $i$ is maximal, in the sense that if $\hat{\imath}:\mathcal{C}_{0}\mathrel{\ooalign{$\mapstochar$\hfil\hfil\cr$\to$% \cr}}\mathcal{C}_{1}$ is another function for which Axioms (q.2)-(q.3) are satisfied then $\mathrm{dom}(\hat{\imath})\subseteq\mathrm{dom}(i)$. As for the rest, the other terminology introduced by Definition 2 is adapted in the obvious way (we may omit the details).
Definition 19. We say that a punctor $G:\mathbf{P}\to\mathbf{Q}$ is an extension of a punctor $F:\mathbf{P}^{\prime}\to\mathbf{Q}^{\prime}$ if $\mathbf{P}^{\prime}\leq\mathbf{P}$, $\mathbf{Q}^{\prime}\leq\mathbf{Q}$ and the restriction to $\mathbf{P}^{\prime}$ of the corestriction of $G$ to $\mathbf{Q}^{\prime}$ is precisely $F$.
Definition 9. Given an object $A\in\mathbf{P}$, we set $\deg_{\mathbf{P},\rm in}(A):=\|\hom_{\mathbf{P}}(-,A)\|,\qquad\deg_{\mathbf{P}% ,\rm out}(A):=\deg_{\mathbf{P}^{\rm op},\rm in}(A).$ We call $\deg_{\mathbf{P},\rm in}(A)$ and $\deg_{\mathbf{P},\rm out}(A)$, respectively, the indegree and the outdegree of $A$ in $\mathbf{P}$. Then, we define $\deg_{\mathbf{P}}(A):=\deg_{\mathbf{P},\rm in}(A)+\deg_{\mathbf{P},\rm out}(A),$ and refer to $\deg_{\mathbf{P}}(A)$ as the degree of $A$ in $\mathbf{P}$. In particular, we say that $A$ is 1. isolated (in $\mathbf{P}$), or an isolated object (of $\mathbf{P}$), if $\deg_{\mathbf{P}}(A)=0$; 2. an object of small degree (in $\mathbf{P}$) if $\deg_{\mathbf{P}}(A)<\Omega$. Lastly, $\mathbf{P}$ is said to have small degree if all of its objects have small degree.
Definition 22. A punctor $F:\mathbf{P}\to\mathbf{Q}$ is called constant (respectively, coconstant) if there don’t exist parallel functors $G_{1}$ and $G_{2}$ to $\mathbf{P}$ (respectively, from $\mathbf{Q}$) such that $F\circ G_{1}\neq F\circ G_{2}$ (respectively, $G_{1}\circ F\neq G_{2}\circ F$).
Definition 4. Following [10, Section I.7.1], denote by $\mathbb{O}=(O,\star)$ the free magma on the set $\{\emptyset\}$. Then, let $\mathrm{Prs}_{1}:=\{1_{O}\}$ and, for an integer $n\geq 2$, define recursively $\mathrm{Prs}_{n}$ as the set of all functions $\wp:O^{\times n}\to O$ for which there exist $k\in\llbracket n-1\rrbracket$ and $\wp_{1}\in\mathrm{Prs}_{k}$, $\wp_{2}\in\mathrm{Prs}_{n-k}$ such that $\wp=\wp_{1}\star\wp_{2}$, i.e. $\wp(x_{1},\ldots,x_{n})=\wp_{1}(x_{1},\ldots,x_{k})\star\wp_{2}(x_{k+1},\ldots% ,x_{n})$ for all $x_{1},\ldots,x_{n}\in O$. We call $(\wp_{1},\wp_{2})$ a (binary) splitting of $\wp$, or say that $\wp$ splits into the product of $\wp_{1}$ by $\wp_{2}$. The members of the set $\mathrm{Prs}:=\bigcup_{n=1}^{\infty}\mathrm{Prs}_{n}$ are then termed fundamental parenthesizations, and given $n\in\mathbb{N}^{+}$ we say that $\wp\in\mathrm{Prs}$ is a fundamental $n$-parenthesization, or a fundamental parenthesization of length $n$, if $\wp\in\mathrm{Prs}_{n}$.
Definition 24. For an integer $n\geq 2$, we let an $n$-ary punctor/functor be a punctor/functor of the form $F:\mathbf{Q}_{1}\times\cdots\times\mathbf{Q}_{n}\to\mathbf{Q}$, i.e. whose source is the product of a family of $n$ plots. In particular, this is called a bipunctor if $n=2$.
Definition 11. Let $\mathbf{P}=(\mathcal{C}_{0},\mathcal{C}_{1},s,t,c)$ and $\mathbf{Q}=(\mathcal{D}_{0},\mathcal{D}_{1},\sigma,\tau,d)$ be plots. We say that $\mathbf{Q}$ is a subplot of $\mathbf{P}$ if the following conditions hold: 1. $\mathcal{D}_{0}\subseteq\mathcal{C}_{0}$, $\mathcal{D}_{1}\subseteq\mathcal{C}_{1}$ and $\mathrm{dom}(d)\subseteq\mathrm{dom}(c)$. 2. $\sigma$ and $\tau$ are, respectively, the corestrictions of $s_{\downarrow\mathcal{D}_{1}}$ and $t_{\downarrow\mathcal{D}_{1}}$ to $\mathcal{D}_{0}$. 3. $d$ is the corestriction of $c_{\downarrow\mathcal{D}_{1}\times\mathcal{D}_{1}}$ to $\mathcal{D}_{1}$. This is compactly expressed by writing $\mathbf{Q}\leq\mathbf{P}$, or $\mathbf{Q}\lneq\mathbf{P}$ if $\mathcal{D}_{0}\cup\mathcal{D}_{1}\subsetneq\mathcal{C}_{0}\cup\mathcal{C}_{1}$ (in the latter case, $\mathbf{Q}$ is said a proper subplot of $\mathbf{P}$).
Definition 5. Given an integer $n\geq 1$ and a fundamental $n$-parenthesization $\wp$, we define inductively the function $\wp[\mathbf{P}]:\hom(\mathbf{P})^{\times n}\mathrel{\ooalign{$\mapstochar$% \hfil\hfil\cr$\to$\cr}}\hom(\mathbf{P})$ as follows: If $n=1$, then $\wp[\mathbf{P}]$ is the identity map of $\hom(\mathbf{P})$; otherwise, $\wp[\mathbf{P}]:=\wp_{1}[\mathbf{P}]\diamond\wp_{2}[\mathbf{P}]$, where $(\wp_{1},\wp_{2})$ is the binary splitting of $\wp$, which is just a shorthand notation to say that $\wp[\mathbf{P}](f_{1},\ldots,f_{n}):=\wp_{1}[\mathbf{P}](f_{1},\ldots,f_{k})% \diamond\wp_{2}[\mathbf{P}](f_{k+1},\ldots,f_{n})$ for all $n$-tuples $(f_{1},\ldots,f_{n})\in\mathrm{dom}(\wp[\mathbf{P}])$, with $\mathrm{dom}(\wp[\mathbf{P}])$ being the class of all and the only $n$-tuples $(f_{1},\ldots,f_{n})$ of $\mathbf{P}$-morphisms such that 1. $(f_{1},\ldots,f_{k})\in\mathrm{dom}(\wp_{1}[\mathbf{P}])$ and $(f_{k+1},\ldots,f_{n})\in\mathrm{dom}(\wp_{2}[\mathbf{P}])$; 2. $(\wp_{1}[\mathbf{P}](f_{1},\ldots,f_{k}),\wp_{2}[\mathbf{P}](f_{k+1},\ldots,f_% {n}))\in\mathrm{dom}(\diamond)$. We call $\wp[\mathbf{P}]$ an $n$-parenthesization of $\mathbf{P}$, or a parenthesization of $\mathbf{P}$ of length $n$.
Definition 14. We say that a $\mathbf{P}$-morphism $A\stackrel{{\scriptstyle f}}{{\to}}B$ is 1. right split (in $\mathbf{P}$), or a retraction or a right split (of $\mathbf{P}$), if $\varrho_{\bf P}(f)$ is surjective. 2. left split (in $\mathbf{P}$), or a section or a left split (of $\mathbf{P}$), if $f^{\rm op}$ is right split in $\mathbf{P}^{\rm op}$. 3. split (in $\mathbf{P}$), or a split (of $\mathbf{P}$), if it is both epi and mono split. We write $\mathrm{l}\text{-}\mathrm{spl}(\mathbf{P})$ and $\mathrm{r}\text{-}\mathrm{spl}(\mathbf{P})$, respectively, for the classes of all left and right splits of $\mathbf{P}$, and we let $\mathrm{spl}(\mathbf{P}):=\mathrm{l}\text{-}\mathrm{spl}(\mathbf{P})\cap% \mathrm{r}\text{-}\mathrm{spl}(\mathbf{P})$.
Definition 21. Let $F:\mathbf{P}\to\mathbf{Q}$ be a punctor, and pick a subclass $\mathcal{M}$ of $\hom(\mathbf{P})$ and a subclass $\mathcal{N}$ of $\hom(\mathbf{Q})$. We say that $F$ is (1) $(\mathcal{M},\mathcal{N})$-reflecting if $f\in\mathcal{M}$ whenever $F(f)\in\mathcal{N}$ for some $f\in\hom(\mathbf{P})$. (2) $(\mathcal{M},\mathcal{N})$-preserving if, conversely, $F(f)\in\mathcal{N}$ whenever $f\in\mathcal{M}$. More specifically, we say that $F$ reflects/preserves monos (respectively, epis, retractions, sections, or isomorphisms) if $F$ is $(\mathcal{M},\mathcal{N})$-reflecting/preserving for $\mathcal{M}$ and $\mathcal{N}$ being, each in turn, the monomorphisms (respectively, epimorphisms, right splits, left splits, or isomorphisms) of $\mathbf{P}$ and $\mathbf{Q}$.
Definition 7. If $A,B$ are objects in a plot $\mathbf{P}$, we define $\hom_{\mathbf{P}}(-,B):=\{f\in\hom(\mathbf{P}):\mathrm{tr}_{\mathbf{P}}(f)=B\}$ and $\hom_{\bf P}(A,-):=\hom_{\mathbf{P}^{\rm op}}(-,A)$. Moreover, if $f:A\to B$ is an arrow in $\mathbf{P}$, we let $\hom_{\mathbf{P}}(-,A_{\downarrow f})$ be the class of all arrows $g\in\hom_{\mathbf{P}}(-,A)$ such that $(g,f)$ is a composable pair of $\mathbf{P}$, and we set $\hom_{\mathbf{P}}(B_{\downarrow f},-):=\hom_{\mathbf{P}^{\rm op}}(-,B_{% \downarrow f})$. We denote by $\varrho_{\bf P}(f)$ the right regular representation of $f$ (in $\mathbf{P}$), i.e. the map $\hom_{\bf P}(-,A_{\downarrow f})\to\hom_{\mathbf{P}}(-,B):g\mapsto g\diamond_{% \bf P}f,$ and we let the left regular representation of $f$ (in $\mathbf{P}$) be the right regular representation of $f$ as an arrow of $\mathbf{P}^{\rm op}$, which is written here as $\lambda_{\mathbf{P}}(f)$, and is explicitly given by the function $\hom_{\bf P}(B_{\downarrow f},-)\to\hom_{\mathbf{P}}(A,-):g\mapsto f\diamond_{% \bf P}g$.
Definition 1. Given a class $X$, we let a (partial) (binary) operation, or composition law, on $X$ be any map $\varphi:X\times X\mathrel{\ooalign{$\mapstochar$\hfil\hfil\cr$\to$\cr}}X$, and then we define the dual (operation) of $\varphi$, here denoted by $\varphi^{\rm op}$, as the function $X\times X\mathrel{\ooalign{$\mapstochar$\hfil\hfil\cr$\to$\cr}}X$ sending all and the only pairs $(x,y)\in X\times X$ such that $(y,x)\in\mathrm{dom}(\varphi)$ to $\varphi(y,x)$. We say that $\varphi$ is: 1. left pre-associative if for all $x,y,z\in X$ such that $(x,y),(y,z)\in\mathrm{dom}(\varphi)$ it holds that $(\varphi(x,y),z)\in\mathrm{dom}(\varphi)$ implies $(x,\varphi(y,z))\in\mathrm{dom}(\varphi)$, and whenever this is the case then $\varphi(\varphi(x,y),z)=\varphi(x,\varphi(y,z))$. 2. right pre-associative if $\varphi^{\rm op}$ is left pre-associative. 3. pre-associative if it is both left and right pre-associative. 4. strongly associative if it is pre-associative and $(\varphi(x,y),z)\in\mathrm{dom}(\varphi)$ for all $x,y,z\in X$ such that $(x,y),(y,z)\in\mathrm{dom}(\varphi)$. 5. associative if for all $x,y,z\in X$ with $(x,y),(y,z)\in\mathrm{dom}(\varphi)$ it holds $\varphi(\varphi(x,y),z)=\varphi(x,\varphi(y,z))$ whenever $(\varphi(x,y),z),(x,\varphi(y,z))\in\mathrm{dom}(\varphi)$. 6. left dissociative if for all $x,y,z\in X$ the following holds: If $(x,y)\in\mathrm{dom}(\varphi)$ then $(\varphi(x,y),z)\in\mathrm{dom}(\varphi)$ implies $(y,z)\in\mathrm{dom}(\varphi)$, and then subsequently $(x,\varphi(y,z))\in\mathrm{dom}(\varphi)$ and $\varphi(\varphi(x,y),z)=\varphi(x,\varphi(y,z))$. 7. right dissociative if $\varphi^{\rm op}$ is left dissociative. 8. dissociative if it is both left and right dissociative. Lastly, $\varphi$ is possibly called a total (binary) operation on $X$ if $\varphi$ is a total function.
Definition 6. We say that a subclass $\mathcal{M}$ of $\hom(\mathbf{P})$ is closed under the composition law of $\mathbf{P}$, or simply that $\mathcal{M}$ is a compositive subclass of $\mathbf{P}$, if $f\diamond g\in\mathcal{M}$ whenever $f,g\in\mathcal{M}$ and $(f,g)$ is a composable pair of $\mathbf{P}$.
Definition 8. We say that $\mathbf{P}$ is $\Omega$-small (or simply small) if $\mathrm{Ob}(\mathbf{P})\cup\hom(\mathbf{P})$ is a set, and $\Omega$-large (or simply large) otherwise. Moreover, $\mathbf{P}$ is called locally $\Omega$-small (or simply locally small) if $\hom_{\mathbf{P}}(A,B)$ is a set for all $A,B\in\mathrm{Ob}(\mathbf{P})$, while it is termed a one-object, two-object, etc. (respectively, one-arrow, two-arrow, etc.) plot if it has one, two, etc. objects (respectively, arrows). Lastly, $\mathbf{P}$ is termed finite if both $\mathrm{Ob}(\mathbf{P})$ and $\hom(\mathbf{P})$ are finite sets, and infinite otherwise.
Definition 16. We say that a $\mathbf{P}$-morphism $A\stackrel{{\scriptstyle f}}{{\to}}B$ is 1. a right isomorphism (of $\mathbf{P}$) if it is monic and left split. 2. a left isomorphism (of $\mathbf{P}$) if $f^{\rm op}$ is a right isomorphism of $\mathbf{P}^{\rm op}$. 3. an isomorphism, or a iso, (of $\mathbf{P}$) if it is both a left and a right invertible. 4. an automorphism (of $\mathbf{P}$) if $A=B$ and $f$ is an isomorphism. We denote by $\text{l-iso}(\mathbf{P})$ and $\text{r-iso}(\mathbf{P})$, respectively, the classes of all left and right invertible $\mathbf{P}$-morphisms, and we set ${\rm iso}(\mathbf{P}):=\text{l-iso}(\mathbf{P})\cap\text{r-iso}(\mathbf{P})$.
Definition 12. We say that a morphism $f\in\mathbf{P}$ is 1. monic (in $\mathbf{P}$), or a monomorphism (or a mono) (of $\mathbf{P}$), if $\varrho_{\bf P}(f)$ is injective. 2. epic (in $\mathbf{P}$), or an epimorphism (or an epi) (of $\mathbf{P}$), if $f^{\rm op}$ is monic in $\mathbf{P}^{\rm op}$. 3. cancellative (in $\mathbf{P}$) if it is both monic and epic. We denote by $\mathrm{mono}(\mathbf{P})$ and $\mathrm{epi}(\mathbf{P})$, respectively, the classes of all monic and epic arrows of $\mathbf{P}$, and by $\mathrm{canc}(\mathbf{P})$ the one of cancellative $\mathbf{P}$-morphisms.
Definition 18. A punctor is a triple $(\mathbf{P},\mathbf{Q},F)$, where $\mathbf{P}$ and $\mathbf{Q}$ are plots and $F$ is a pair $(F_{o}:\mathrm{Ob}(\mathbf{P})\to\mathrm{Ob}(\mathbf{Q}),F_{h}:\hom(\mathbf{P}% )\to\hom(\mathbf{Q}))$ of maps such that: 1. If $A,B\in\mathrm{Ob}(\mathbf{P})$ and $f\in\hom_{\mathbf{P}}(A,B)$, then $F_{h}(f)\in\hom_{\mathbf{Q}}(F_{o}(A),F_{o}(B))$. 2. If $(f,g)$ is a composable pair of $\mathbf{P}$, then $(F_{h}(f),F_{h}(g))$ is a composable pair of $\mathbf{Q}$ and $F_{h}(f\diamond_{\mathbf{P}}g)=F_{h}(f)\diamond_{\mathbf{Q}}F_{h}(g)$. The triple $(\mathbf{P},\mathbf{Q},F)$ is then more usually written as $F:\mathbf{P}\to\mathbf{Q}$, and one refers to $F$ as a punctor from $\mathbf{P}$ to $\mathbf{Q}$, and to $F_{o}$ and $F_{h}$, respectively, as the object and the arrow component of $F$, while $\mathbf{P}$ and $\mathbf{Q}$ are named the source and target (plot) of $F$ (we say that the members of a family of punctors are parallel if all of them have the same source and target). In addition to this, $F$ is called unital if $F_{h}(i)$ is a local identity of $\mathbf{Q}$ whenever $i$ is a local identity of $\mathbf{P}$.
Definition 25. A diagram of type $\mathbf{J}$ in $\mathbf{P}$ is any punctor $D:\mathbf{J}\to\mathbf{P}$ for which $\mathbf{J}$ is a quiver. The diagram is called finite, countable, or small whenever $\bf J$ is. More generally, we say that $D$ is $\kappa$ for a cardinal $\kappa$ if $|\mathrm{Ob}(\mathbf{J})\cup\hom(\mathbf{J})|\leq\kappa$.
Definition 15. Taking Remark 5 in mind, we say that a $\mathbf{P}$-morphism $A\stackrel{{\scriptstyle f}}{{\to}}B$ is 1. right invertible (in $\mathbf{P}$) if $A\in\mathrm{dom}(\mathrm{id}_{\mathbf{P}})$ and there exists a $\mathbf{P}$-morphism $f^{\times}:B\to A$, called a right inverse of $f$, such that $f\diamond f^{\times}=\mathrm{id}_{\mathbf{P}}(A)$. 2. left invertible (in $\mathbf{P}$) if $f^{\rm op}$ is right invertible as an arrow of $\mathbf{P}^{\rm op}$, the arrow $f_{\times}:B\to A$ implicit to this definition being named a left inverse of $f$. 3. invertible (in $\mathbf{P}$) if it is both left and right invertible. We write $\mathrm{l}\text{-}\mathrm{inv}(\mathbf{P})$ and $\mathrm{r}\text{-}\mathrm{inv}(\mathbf{P})$, respectively, for the classes of all left and right invertible morphisms of $\mathbf{P}$, and we let $\mathrm{inv}(\mathbf{P}):=\mathrm{l}\text{-}\mathrm{inv}(\mathbf{P})\cap% \mathrm{r}\text{-}\mathrm{inv}(\mathbf{P})$.
Definition 2. A plot $\mathbf{P}$ is any $6$-tuple $(\mathcal{C}_{0},\mathcal{C}_{1},s,t,c,i)$, where: 1. $\mathcal{C}_{0}$ and $\mathcal{C}_{1}$ are classes, whose elements are respectively referred to as objects (or vertices, or nodes) and morphisms (or arrows, or edges, or arcs); 2. $s$ and $t$ are functions $\mathcal{C}_{1}\to\mathcal{C}_{0}$ which assign, to every arrow $f$, an object $A$, called its source, and an object $B$, called its target, respectively; 3. $c$ is a (partial) binary operation on $\mathcal{C}_{1}$, whose domain is a (possibly empty) subclass of the (canonical) pullback $\mathcal{C}_{1}\times_{t,s}\mathcal{C}_{1}$; 4. $i$ is a (partial) function $\mathcal{C}_{0}\mathrel{\ooalign{$\mapstochar$\hfil\hfil\cr$\to$\cr}}\mathcal{% C}_{1}$, referred to as the identity of $\mathbf{P}$: The elements in $\mathrm{dom}(i)$ are called (the) unital objects of $\mathbf{P}$, those in ${\rm im}(i)$ (the) local identities; and the following axioms are satisfied: (p.1) $s(c(f,g))=s(f)$ and $t(c(f,g))=t(g)$ for every $(f,g)\in\mathrm{dom}(c)$; (p.2) $s(i(A))=t(i(A))=A$ for all $A\in{\rm dom}(i)$; (p.3) $(f,i(A)),(i(A),g)\in\mathrm{dom}(c)$ for every $A\in\mathrm{dom}(i)$ and all $f,g\in\mathcal{C}_{1}$ such that $t(f)=s(g)=A$, and also $c(f,i(A))=f$ and $c(i(A),g)=g$. (p.4) $i$ is maximal, in the sense that if $\hat{\imath}:\mathcal{C}_{0}\mathrel{\ooalign{$\mapstochar$\hfil\hfil\cr$\to$% \cr}}\mathcal{C}_{1}$ is another function for which Axioms (p.2)-(p.3) are satisfied then $\mathrm{dom}(\hat{\imath})\subseteq\mathrm{dom}(i)$. We refer to the elements of $\mathrm{dom}(c)$ as the composable pairs (or pairs of composable arrows) of $\mathbf{P}$, and to $c$ as the composition (or composition law) of $\mathbf{P}$. We say that $\mathbf{P}$ is: a quiver (or multidigraph) if $\mathrm{dom}(c)=\emptyset$; monic (or posetal) if for all $A,B\in\mathcal{C}_{0}$ there exists at most one arrow $f\in\mathcal{C}_{1}$ such that $s(f)=A$ and $t(f)=B$; epic if for each $A\in\mathcal{C}_{0}$ there exists $f\in\mathcal{C}_{1}$ with $s(f)=A$ or $t(f)=A$; unital if $i$ is total; saturated if $\mathrm{dom}(c)=\mathcal{C}_{1}\times_{t,s}\mathcal{C}_{1}$; and associative/strongly associative/pre-associative/dissociative/left or right pre-associative/left or right dissociative if $c$ is. Then, we let a magmoid be a saturated plot, a semigroupoid be a pre-associative plot, a semicategory (or semicat) a saturated semigroupoid (or, equivalently, a pre-associative magmoid), and a category (or cat) a unital semicategory.
Definition 20. Let $F:\mathbf{P}\to\mathbf{Q}$ be a punctor and, for $X,Y\in\mathrm{Ob}(\mathbf{P})$, denote by $F_{X,Y}$ the map $\hom_{\mathbf{P}}(X,Y)\to\hom_{\mathbf{Q}}(F(X),F(Y)):f\mapsto F(f)$, here called, as expected, the component of $F$ relative to the pair $(X,Y)$. We say that $F$ is: 1. an endopunctor (of $\mathbf{P}$) if $\mathbf{P}=\mathbf{Q}$, and an endofunctor if $F$ is unital. 2. faithful if $F_{X,Y}$ is injective for all $X,Y\in\mathrm{Ob}(\mathbf{P})$. 3. full if $F_{X,Y}$ is surjective for all $X,Y\in\mathrm{Ob}(\mathbf{P})$. 4. fully faithful if $F$ is both full and faithful. 5. injective on objects if the object component, say $F_{o}$, of $F$ is injective. 6. an embedding (of plots) if it is faithful and injective on objects. 7. an isomorphism (of plots) if it is fully faithful and $F_{o}$ is bijective. 8. an automorphism (of $\mathbf{P}$) if $F$ is an isomorphism and $\mathbf{P}=\mathbf{Q}$. Suppose now that $\mathcal{M}$ is a certain subclass of $\mathbf{Q}$. We say that $F$ is: 9. $\mathcal{M}$-dense if for each $B\in\mathrm{Ob}(\mathbf{Q})$ there exists $A\in\mathrm{Ob}(\mathbf{P})$ such that $(F(A)\simeq_{\mathcal{M}}B)_{\mathbf{Q}}$. 10. an $\mathcal{M}$-equivalence (of plots) if it is fully faithful and $\mathcal{M}$-dense. In particular, we refer to $F$ as a dense, or essentially surjective, punctor if $F$ is $\mathcal{M}$-dense for $\mathcal{M}=\hom(\mathbf{Q})$. A fully faithful and essentially surjective punctor is then simply called an equivalence (of plots).
Definition 13. A morphism $f:A\to B$ in $\mathbf{P}$ is constant if the right regular representation of $f$ (in $\mathbf{P}$) is a constant map, and coconstant if $f$ is constant in $\mathbf{P}^{\rm op}$.
Definition 17. We say that a plot is a left/right isoid if each of its arrows is a left/right isomorphism. An isoid is then a plot that is both a left and a right isoid, and a groupoid is an isoid that is also a category.
Definition 23. We let a natural transformation be any triple of the form $(F,G,\varepsilon)$ consisting of parallel punctors $F,G:\mathbf{P}\to\mathbf{Q}$ and a map $\varepsilon:\mathrm{Ob}(\mathbf{P})\mathrel{\ooalign{$\mapstochar$\hfil\hfil% \cr$\to$\cr}}\hom(\mathbf{Q}^{\flat})$ such that: 1. $\varepsilon_{A}\in\hom_{\mathbf{Q}^{\flat}}(F(A),G(A))$ for every $\mathbf{P}$-object $A$. 2. For each $\mathbf{P}$-morphism $f:A\to B$ it holds that $(F(f),\varepsilon_{B})$ and $(\varepsilon_{A},G(f))$ are composable pairs of $\mathbf{Q}^{\flat}$, and also $F(f)\diamond_{\mathbf{Q}^{\flat}}\varepsilon_{B}=\varepsilon_{A}\diamond_{% \mathbf{Q}^{\flat}}G(f)$. We usually write $(F,G,\varepsilon)$ as $\varepsilon:F\Rightarrow G:\mathbf{P}\to\mathbf{Q}$, or simply as $\varepsilon:F\Rightarrow G$, and we identify the triple with $\varepsilon$ if there is no likelihood of confusion.
Definition 10. We say that an arrow $\alpha:A\to A$ of $\mathbf{P}$ is 1. left neutral if $\alpha\diamond f=f$ for every $f\in\hom_{\mathbf{P}}(A_{\downarrow\alpha},-)$. 2. right neutral if it is left neutral in $\mathbf{P}^{\rm op}$. 3. neutral if it is both left and right neutral. 4. a left identity if $\alpha$ is left neutral and $\hom_{\mathbf{P}}(A_{\downarrow\alpha},-)=\hom_{\mathbf{P}}(A,-)$. 5. a right identity if it is a left identity of $\mathbf{P}^{\rm op}$. Then, an object $A\in\mathbf{P}$ is called a left/right unital object if there exists at least one left/right identity of $\mathbf{P}$ from $A$ to $A$.
Definition 1. The category $\mathcal{L}$ has files as objects and patches as morphisms.
Definition 5. The category $\mathcal{P}$ is the free finite conservative cocompletion of $\mathcal{L}$: it is (up to equivalence of categories) the unique finitely cocomplete category together with an embedding functor $y:\mathcal{L}\to\mathcal{P}$ preserving finite colimits, such that for every finitely cocomplete category $\mathcal{C}$ and functor $F:\mathcal{L}\to\mathcal{C}$ preserving finite colimits, there exists, up to unique isomorphism, a unique functor $\tilde{F}:\mathcal{P}\to\mathcal{C}$ preserving finite colimits and satisfying $\tilde{F}\circ y=F$: Above, the term conservative refers to the fact that we preserve colimits which already exist in $\mathcal{L}$ (we will only consider such completions here). The “standard” way to characterize the category $\mathcal{P}$, which always exists, is to use the following folklore theorem, often attributed to Kelly [kelly1982basic, adamek1994locally]: Theorem 6. The conservative cocompletion of the category $\mathcal{L}$ is equivalent to the full subcategory of $\hat{\mathcal{L}}$ whose objects are presheaves which preserve finite limits, i.e. the image of a limit in $\mathcal{L}^{\textnormal{op}}$ (or equivalently a colimit in $\mathcal{L}$) is a limit in $\mathbf{Set}$ (and limiting cones are transported to limiting cones). The finite conservative cocompletion $\mathcal{P}$ can be obtained by further restricting to presheaves which are finite colimits of representables. Example 7. The category $\mathbf{FinSet}$ of finite sets and functions is the conservative cocompletion of the terminal category $\mathbf{1}$. We recall that the category $\hat{\mathcal{L}}$ of presheaves over $\mathcal{L}$, is the category of functors $\mathcal{L}^{\textnormal{op}}\to\mathbf{Set}$ and natural transformations between them. The Yoneda functor $y:\mathcal{L}\to\hat{\mathcal{L}}$ defined on objects $n\in\mathcal{L}$ by $yn=\mathcal{L}(-,n)$, and on morphisms by postcomposition, provides a full and faithful embedding of $\mathcal{L}$ into the corresponding presheaf category, and can be shown to corestrict into a functor $y:\mathcal{L}\to\mathcal{P}$ [adamek1994locally]. A presheaf of the form $yn$ for some $n\in\mathcal{L}$ is called representable. Extracting a concrete description of the category $\mathcal{P}$ from the above proposition is a challenging task, because we a priori need to characterize firstly all diagrams admitting a colimit in $\mathcal{L}$, and secondly all presheaves in $\hat{\mathcal{L}}$ which preserve those diagrams. This paper introduces a general methodology to build such a category. In particular, perhaps a bit surprisingly, it turns out that we have to “allow cycles” in the objects of the category $\mathcal{P}$, which will be described as the category whose objects are finite sets labeled by lines together with a transitive relation and morphisms are partial functions respecting labels and relations. A cocompletion of files and insertions of lines In order to make our presentation clearer, we shall begin our investigation of the category $\mathcal{P}$ in a simpler case, which will be generalized in Section LABEL:sec:extensions: we compute the free finite cocompletion of the category $\mathcal{L}^{+}$ (patches can only insert lines) in the case where the set of labels is a singleton. To further lighten notations, in this section, we simply write $\mathcal{L}$ for this category. We sometimes characterize the objects in $\mathcal{L}$ as finite colimits of objects in a subcategory $\mathcal{G}$ of $\mathcal{L}$. This category $\mathcal{G}$ is the full subcategory of $\mathcal{L}$ whose objects are $1$ and $2$: it is the free category on the graph
Definition 2.1. [thomason] A sieve inclusion $\mathcal{A}\to\mathcal{B}$ is a Dwyer map if there is a cosieve $\mathcal{W}$ in $\mathcal{B}$ containing $\mathcal{A}$ so that the inclusion functor $i\colon\mathcal{A}\to\mathcal{W}$ admits a right adjoint $r\colon\mathcal{W}\to\mathcal{A}$ satisfying $ri=\operatorname{id}_{\mathcal{A}}$ and the unit of this adjunction is the identity.
Definition 1.1. A fixed point functor $(-)^{H}\colon G\mathcal{C}\to\mathcal{C}$ is cellular if (1) it preserves directed colimits of diagrams where each arrow is a non-equivariant cofibration after applying the forgetful functor $G\mathcal{C}\to\mathcal{C}$, (2) it preserves pushouts of diagrams where one leg is given by $G/K\otimes f\colon G/K\otimes A\to G/K\otimes B$ for some closed subgroup $K$ of $G$ and a cofibration $f\colon A\to B$ in $\mathcal{C}$, and (3) for any closed subgroup $K$ of $G$ and any object $A$ of $\mathcal{C}$ the induced map $(G/K)^{H}\otimes A\to(G/K\otimes A)^{H}$ is an isomorphism in $\mathcal{C}.$
Definition 2.1. Let ${\mathbf{C}}$ be a general $(\infty,1)$-category. The $(\infty,1)$-category of presheaves on manifolds with values in ${\mathbf{C}}$ is the $(\infty,1)$-category of functors ${\mathbf{Fun}}(\mathbf{Mf}^{op},{\mathbf{C}})$.
Definition 4.1. Let $\Gamma\rightrightarrows E$ be a groupoid, $X$ a set and $\rho:X\rightarrow E$ a mapping. Define the set $\Gamma\vphantom{x}_{e_{R}}\hskip-4.3pt\times_{\rho}X:=\{(\gamma,x)\in\Gamma% \times X:e_{R}(\gamma)=\rho(x)\}$. An action of $\Gamma$ on $X$ is a mapping: $\Gamma\vphantom{x}_{e_{R}}\hskip-4.3pt\times_{\rho}X\ni(\gamma,x)\mapsto\gamma x\in X$ that satisfies: $\rho(x)x=x$ and $\gamma_{1}(\gamma_{2}x)=(\gamma_{1}\gamma_{2})x$ i.e. if one side is defined, the other is also and then they are equal.
Definition 3.1. (Zakrzewski morphisms.) Let $\Gamma\rightrightarrows E,\Gamma_{1}\rightrightarrows E_{1}$ be groupoids. A morphism from $\Gamma$ to $\Gamma_{1}$ is a relation $h:\Gamma\mbox{$\,$\rule[2.15pt]{11.0pt}{0.2pt}$\triangleright\,$}\Gamma_{1}$ that satisfies: $hm=m_{1}(h\times h)\,\,,\,hs=s_{1}h\,\,,\,he=e_{1}$
Definition 2.2. [3] Groupoid $\Gamma\rightrightarrows E$ is a quadrupole $(\Gamma,m,s,e)$, where $\Gamma$ is a set, $m:\Gamma\times\Gamma\mbox{$\,$\rule[2.15pt]{11.0pt}{0.2pt}$\triangleright\,$}\Gamma$, $e:\{1\}\mbox{$\,$\rule[2.15pt]{11.0pt}{0.2pt}$\triangleright\,$}\Gamma$ and $s:\Gamma\mbox{$\,$\rule[2.15pt]{11.0pt}{0.2pt}$\triangleright\,$}\Gamma$ are relations satisfying the following conditions: $m(m\times id)=m(id\times m)\,\,\,,\,\,m(e\times id)=m(id\times e)=id\vspace{-1ex}$ $s^{2}=id\,\,,\,\,sm=m\sigma(s\times s)\vspace{-1ex}$ $\forall\gamma\in\Gamma\,\,\emptyset\neq m(s(\gamma),\gamma)\subset E:=Im(e)% \vspace{-1ex}$
Definition 4.7. Let $\Gamma$ be a groupoid; a $\Gamma$-set is a pair $(X,\Phi)$, where $X$ is a set and $\Phi$ an action of $\Gamma$ on $X$. Let $(X,\Phi)$ and $(Y,\Psi)$ be $\Gamma$-sets. A map $f:X\rightarrow Y$ is equivariant iff $f\Phi=\Psi(id\times f)$.
Definition 2.1. A groupoid is a small category with invertible morphisms.
Definition 4.18. The action induced from $(\Delta,\Phi)$ is the action introduced in the previous lemma.
Definition 3.9. The kernel of a morphism $h:\Gamma\mbox{$\,$\rule[2.15pt]{11.0pt}{0.2pt}$\triangleright\,$}\Delta$ is a set $\ker(h):=\{\gamma\in D(h):(\delta,\gamma)\in h\Rightarrow\delta\in\Delta^{(0)}\}$.
Definition 3.5. A set $B\subset\Gamma$ is a bisection iff it is a section of left and right projection over $E$.
Definition 4.3. Let $\Gamma\rightrightarrows E$ be a groupoid and $X$ a set. An action of $\Gamma$ on $X$ is a relation $\Phi:\Gamma\times X\mbox{$\,$\rule[2.15pt]{11.0pt}{0.2pt}$\triangleright\,$}X$ that satisfies: $\Phi(m\times id)=\Phi(id\times\Phi)\,,\,\,\Phi(e\times id)=id.$
Definition 1.1. An automorphism $\varphi\in Aut^{\circ}\,\bf{\Phi}$ of the category $\bf{\Phi}$ is isomorphic to the identical one is called inner.
Definition 3.6. Let $T\in\,Aut\,End\,W$ and the restriction $T|_{Aut\,W}=T_{1}$. Automorphism $T$ is called a characteristic automorphism of $End\,W$ if $T_{1}=\chi_{1}\cdot I$, where $I$ is the identical automorphism on $Aut\,W$ and $\chi_{1}$ is a multiplicative homomorphism $Aut\,W$ on $K^{*}$.
Definition 1.5. The category is called perfect if each of its automorphisms is inner.
Definition 1.3. An automorphism $\varphi$ of the category $\bf\Phi$ is called a special automorphism of this category if for each object $A\in\bf\Phi$ we have $A\simeq\varphi(A)$.
Definition 1.8. A variety $\Theta$ is hopfian if each object of the category $\Theta^{0}$ is hopfian, i.e. every surjective endomorphism $\mu:W\longrightarrow W$ is an automorphism.
Definition 3.2. Let $F_{1}$ and $F_{2}$ be Lie algebras over a field $K$, $\delta$ be an automorphism of $K$ and $\varphi:F_{1}\longrightarrow F_{2}$ be a ring homomorphism of these algebras. A pair $(\delta,\,\varphi)$ is called semi-homomorphism from $F_{1}$ to $F_{2}$ if $\varphi(\lambda\cdot u)=\lambda^{\delta}\cdot\varphi\,(u),\;\;\mbox{for}\;% \alpha\in K,\;u\in F_{1}$
Definition 2.2. A semimorphism of the category $\bf Mod-K$ is a pair $(\sigma,s)$, where $\sigma\in Aut\,K$ and $s:A\longrightarrow B$ an addition-compatible map such that $s(\alpha\cdot a)=\alpha^{\sigma}s(a),\;a\in A,\;\alpha\in K$.
